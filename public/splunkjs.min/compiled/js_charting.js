define("splunkjs/compiled/js_charting",function(){}),define("js_charting/util/math_utils",["underscore","util/math_utils"],function(e,t){var n=/^( )*(0x|-0x)/,r=function(e){return n.test(e)?parseInt(e,16):t.strictParseFloat(e)},i=function(e){var t=Math.log(e)/Math.LN10;return Math.round(t*1e4)/1e4},s=function(t){typeof t!="number"&&(t=r(t));if(e(t).isNaN())return t;var n=t<0,s;return n&&(t=-t),t<10&&(t+=(10-t)/10),s=i(t),n?-s:s},o=function(t){typeof t!="number"&&(t=r(t));if(e(t).isNaN())return t;var n=t<0,i;return n&&(t=-t),i=Math.pow(10,t),i<10&&(i=10*(i-1)/9),i=n?-i:i,Math.round(i*1e3)/1e3},u=function(e){if(typeof e!="number")return NaN;var t=e<0;e=t?-e:e;var n=i(e),r=Math.pow(10,Math.floor(n));return t?-r:r},a=function(e,t){return Math.max(Math.round(e),t)},f=function(e,t,n){var r=Math.round(e);return r<t?t:r>n?n:r},l=function(e){return e*Math.PI/180},c=function(e,t){t=t||Infinity;var n=0;while(n<t&&e.toFixed(n)!==e.toString())n+=1;return n};return{parseFloat:r,logBaseTen:i,absLogBaseTen:s,absPowerTen:o,nearestPowerOfTen:u,roundWithMin:a,roundWithMinMax:f,degreeToRadian:l,getDecimalPrecision:c}}),define("js_charting/helpers/DataSet",["jquery","underscore","../util/math_utils"],function(e,t,n){var r=function(n){var r=n.fields||{},i=n.columns||{};this.fields=[],this.seriesList=[],this.fieldMetadata={},t(r).each(function(n,r){var s;t.isObject(n)?(s=n.name,this.fieldMetadata[s]=n):s=n;if(e.inArray(s,this.ALLOWED_HIDDEN_FIELDS)>-1||this.isDataField(s))this.fields.push(s),this.seriesList.push(e.extend([],i[r]))},this),this.length=this.fields.length,this.getSeriesAsFloats=t.memoize(this.getSeriesAsFloats,this.seriesAsFloatsMemoizeHash)};return r.prototype={ALLOWED_HIDDEN_FIELDS:["_span","_lower","_predicted","_upper","_tc"],DATA_FIELD_REGEX:/^[^_]|^_time$/,allDataFields:function(){return t(this.fields).filter(this.isDataField,this)},isDataField:function(e){return this.DATA_FIELD_REGEX.test(e)},isTotalValue:function(e){return e==="ALL"},hasField:function(e){return t(this.fields).indexOf(e)>-1},fieldAt:function(e){return this.fields[e]},fieldIsGroupby:function(e){return this.fieldMetadata[e]&&this.fieldMetadata[e].hasOwnProperty("groupby_rank")},seriesAt:function(e){return this.seriesList[e]},getSeries:function(e){var n=t(this.fields).indexOf(e);return n===-1?[]:t(this.seriesList[n]).map(function(e){return e===null?"":e})},getSeriesAsFloats:function(e,r){r=r||{};var i=this.getSeries(e),s=r.nullValueMode==="zero",o=r.scale==="log",u=[];for(var a=0;a<i.length;a++){var f=n.parseFloat(i[a]);if(t.isNaN(f)){u.push(s?0:null);continue}u.push(o?n.absLogBaseTen(f):f)}return u},getSeriesAsTimestamps:function(e){var n=this.getSeries(e);return this.isTotalValue(t(n).last())?n.slice(0,-1):n},seriesAsFloatsMemoizeHash:function(e,t){return t=t||{},e+t.scale+t.nullValueMode},toJSON:function(){return{fields:this.fields,columns:this.seriesList}}},r}),define("js_charting/util/dom_utils",["jquery","underscore"],function(e,t){var n=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,r=t(e.fn.on).isFunction()?e.fn.on:e.fn.bind,i=t(e.fn.off).isFunction()?e.fn.off:e.fn.unbind,s=function(e,t){if(e.attr("text")===t)return;e.added=!0,e.attr({text:t})},o=function(t){var n=t.label,r=t.label.element.nodeName.toLowerCase();r==="text"?n.hide():e(n.element).hide()},u=function(t){var n=t.label,r=t.label.element.nodeName.toLowerCase();r==="text"?n.show():e(n.element).show()};return{hasSVG:n,jQueryOn:r,jQueryOff:i,setLegendItemText:s,hideTickLabel:o,showTickLabel:u}}),define("js_charting/helpers/EventMixin",["jquery","../util/dom_utils"],function(e,t){return{on:function(n,r){t.jQueryOn.call(e(this),n,r)},off:function(n,r){t.jQueryOff.call(e(this),n,r)},trigger:function(t,n){e(this).trigger(t,n)}}}),define("js_charting/util/color_utils",["underscore","splunk.util"],function(e,t){var n=function(t,n){typeof t!="number"&&(t=parseInt(t,16));if(e(t).isNaN()||t<0||t>16777215)return null;var r=(t&16711680)>>16,i=(t&65280)>>8,s=t&255;return n===undefined?"rgb("+r+","+i+","+s+")":"rgba("+r+","+i+","+s+","+n+")"},r=function(e){var t=e.split(","),n=t[0].charAt(3);return n==="a"?(t[0]=t[0].replace("rgba","rgb"),t[t.length-1]=")",t=t.join(),t=t.replace(",)",")"),t):e},i=function(e){var n=t.normalizeColor(e);return n?parseInt(n.replace("#","0x"),16):0},s=function(e,t){var r=typeof e=="number"?e:i(e);return n(r,t)},o=function(e){typeof e!="number"&&(e=parseInt(e,16));if(isNaN(e)||e<0||e>16777215)return 0;var t=(e&16711680)>>16,n=(e&65280)>>8,r=e&255;return Math.round(.2126*t+.7152*n+.0722*r)};return{colorFromHex:n,stripOutAlpha:r,hexFromColor:i,addAlphaToColor:s,getLuminance:o}}),define("js_charting/util/parsing_utils",["underscore","splunk.util"],function(e,t){var n=function(n,r){return e(n).isUndefined()?!!r:t.normalizeBoolean(n)},r=function(t){if(!t)return!1;var n,r,i,a,f={};t=s(t);var l=t.length;if(t.charAt(0)!=="{"||t.charAt(l-1)!=="}")return!1;if(/^\{\s*\}$/.test(t))return{};t=t.substr(1,l-2),r=o(t,",");for(n=0;n<r.length;n++)i=o(r[n],":"),a=s(i[0]),a[0]==='"'&&(a=a.substring(1)),e(a).last()==='"'&&(a=a.substring(0,a.length-1)),a=u(a,["{","}","[","]","(",")",",",":",'"']),f[a]=s(i[1]);return f},i=function(e){if(!e)return!1;e=s(e);var n=e.length;return e.charAt(0)!=="["||e.charAt(n-1)!=="]"?!1:/^\[\s*\]$/.test(e)?[]:(e=e.substr(1,n-2),t.stringToFieldList(e))},s=function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},o=function(t,n,r){r=r||"\\";var i=t.split(n),s=[i.shift()];return e(i).each(function(t){var i=e(s).last();e(i).last()===r?s[s.length-1]+=n+t:s.push(t)}),s},u=function(t,n){return e(n).each(function(e){var n=new RegExp("\\\\\\"+e,"g");t=t.replace(n,e)}),t},a=function(e){return t.escapeHtml(e)},f=function(e){return(""+e).replace(/</g,"&lt;").replace(/>/g,"&gt;")},l=function(e){var t,n,r=i(e);if(!r)return!1;for(t=0;t<r.length;t++){n=parseInt(r[t],16);if(isNaN(n))return!1;r[t]=n}return r},c=function(e,t){if(e instanceof Array&&t instanceof Array){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1},h=function(t){var n={},r=g(t,/legend[.]/);return e(r).each(function(e,t){n[t.replace(/^legend[.]/,"")]=e}),n},p=function(e){var t,n,r={},i=g(e,/(axisX|primaryAxis|axisLabelsX|axisTitleX|gridLinesX)/);for(t in i)i.hasOwnProperty(t)&&(d(t,e)||(n=t.replace(/(axisX|primaryAxis)/,"axis"),n=n.replace(/axisLabelsX/,"axisLabels"),n=n.replace(/axisTitleX/,"axisTitle"),n=n.replace(/gridLinesX/,"gridLines"),r[n]=i[t]));return r},d=function(e,t){return/primaryAxis/.test(e)?/primaryAxisTitle/.test(e)?t[e.replace(/primaryAxisTitle/,"axisTitleX")]:t[e.replace(/primaryAxis/,"axisX")]:!1},v=function(e,n){var r,i,s={},o,u;n=n||0;if(n===0)o=g(e,/(axisY[^2]|secondaryAxis|axisLabelsY(?!2.*|\.majorLabelStyle\.rotation|\.majorLabelStyle\.overflowMode)|axisTitleY[^2]|gridLinesY[^2])/);else{if(n!==1)throw new Error("Axis index must be 0 or 1");o=g(e,/(axisY2(?!\.enabled)|axisLabelsY2(?!\.majorLabelStyle\.rotation|\.majorLabelStyle\.overflowMode)|axisTitleY2|gridLinesY2)/),u=t.normalizeBoolean(o["gridLinesY2.showMajorLines"]);if(!o["axisY2.scale"]||o["axisY2.scale"]==="inherit")o["axisY2.scale"]=e?e["axisY.scale"]||"linear":"linear";typeof u!="boolean"&&(o["gridLinesY2.showMajorLines"]=0),o["axisLabelsY2.extendsAxisRange"]=e?e["axisLabelsY.extendsAxisRange"]||!0:!0}for(r in o)o.hasOwnProperty(r)&&(m(r,e)||(i=r.replace(/(axisY2|axisY|secondaryAxis)/,"axis"),i=i.replace(/axisLabelsY2|axisLabelsY/,"axisLabels"),i=i.replace(/axisTitleY2|axisTitleY/,"axisTitle"),i=i.replace(/gridLinesY2|gridLinesY/,"gridLines"),s[i]=o[r]));return s},m=function(e,t){return/secondaryAxis/.test(e)?/secondaryAxisTitle/.test(e)?t[e.replace(/secondaryAxisTitle/,"axisTitleY")]:t[e.replace(/secondaryAxis/,"axisY")]:!1},g=function(e,t){if(t instanceof RegExp){var n,r={};for(n in e)e.hasOwnProperty(n)&&t.test(n)&&(r[n]=e[n]);return r}return e},y=function(t){var n=[-90,-45,0,45,90],r=0,i;return i=parseInt(t,10),e.indexOf(n,i)===-1?r:i};return{normalizeBoolean:n,stringToObject:r,stringToArray:i,trimWhitespace:s,escapeSafeSplit:o,unescapeChars:u,escapeHtml:a,escapeSVG:f,stringToHexArray:l,arraysAreEquivalent:c,getLegendProperties:h,getXAxisProperties:p,xAxisKeyIsTrumped:d,getYAxisProperties:v,yAxisKeyIsTrumped:m,filterPropsByRegex:g,getRotation:y}}),define("js_charting/visualizations/Visualization",["jquery","underscore","../helpers/EventMixin","../util/color_utils","../util/parsing_utils"],function(e,t,n,r,i){var s=function(n,r){this.container=n,this.$container=e(n),this.properties=e.extend(!0,{},r),this.id=t.uniqueId("viz_"),this._isDirty=!1,this.updateDimensions(),this.benchmarks=[]};return s.prototype=e.extend({},n,{requiresExternalColors:!1,getWidth:function(){return this.$container.width()},getHeight:function(){return this.$container.height()},getCurrentDisplayProperties:function(){return this.properties},isDirty:function(){return this._isDirty},updateDimensions:function(){this.width=this.getWidth(),this.height=this.getHeight()},getClassName:function(){return this.type+"-chart"},prepare:function(n,r){var i=e.extend(!0,{},this.properties);r&&(e.extend(!0,this.properties,r),t.isEqual(this.properties,i)||(this._isDirty=!0)),this.dataSet=n,this.updateDimensions(),this.processProperties()},draw:function(t){var n=this,r=e.Deferred();return this.handleDraw(function(){n._isDirty=!1,t&&t.apply(null,arguments),r.resolve.apply(r,arguments)}),r},prepareAndDraw:function(e,t,n){return this.prepare(e,t),this.draw(n)},requiresExternalColorPalette:function(){return this.requiresExternalColors},processProperties:function(){this.type=this.properties.chart||"column",this.backgroundColor=this.properties["chart.backgroundColor"]||this.properties.backgroundColor||"rgb(255, 255, 255)",this.foregroundColor=this.properties["chart.foregroundColor"]||this.properties.foregroundColor||"rgb(0, 0, 0)",this.fontColor=this.properties["chart.fontColor"]||this.properties.fontColor||"rgb(0, 0, 0)",this.foregroundColorSoft=r.addAlphaToColor(this.foregroundColor,.25),this.foregroundColorSofter=r.addAlphaToColor(this.foregroundColor,.15),this.testMode=i.normalizeBoolean(this.properties["chart.testMode"])||i.normalizeBoolean(this.properties.testMode),this.exportMode=i.normalizeBoolean(this.properties["chart.exportMode"])||i.normalizeBoolean(this.properties.exportMode)},resize:function(){var e=this.width,t=this.height;this.updateDimensions();if(this.width===e&&this.height===t)return;this.setSize(this.width,this.height)},handleDraw:function(e){},destroy:function(){},getSVG:function(){},benchmark:function(e){if(!this.testMode)return;if(this.benchmarks.length===0)this.benchmarks.push([e,(new Date).getTime()]);else{var n=t(this.benchmarks).reduce(function(e,t){return e+t[1]},0);this.benchmarks.push([e,(new Date).getTime()-n])}}}),s}),define("js_charting/components/ColorPalette",["../util/parsing_utils","../util/color_utils"],function(e,t){var n=function(t,n){this.setColors(t),this.useInterpolation=e.normalizeBoolean(n,!1)};return n.prototype={setColors:function(e){this.colors=e||this.BASE_COLORS},getColor:function(e,t,n){var r,i,s,o=this.colors.length;return o===0?0:(t<0&&(t=0),this.useInterpolation?(n<1&&(n=1),t>n&&(t=n),r=n===1?0:(o-1)*(t/(n-1)),i=Math.floor(r),s=Math.min(i+1,o-1),r-=i,this.interpolateColors(this.colors[i],this.colors[s],r)):this.colors[t%o])},getColorAsRgb:function(e,n,r){var i=this.getColor(e,n,r);return t.colorFromHex(i)},interpolateColors:function(e,t,n){var r=e>>16&255,i=e>>8&255,s=e&255,o=t>>16&255,u=t>>8&255,a=t&255,f=r+Math.round((o-r)*n),l=i+Math.round((u-i)*n),c=s+Math.round((a-s)*n);return f<<16|l<<8|c},BASE_COLORS:[7059400,16434717,14179901,9793174,16224556,10142268,10062933,14518192,5536175,14723387,7047472,10503512,10999007,16571767,15244939,12560576,16432512,12769930,12761753,15448016,10006479,15518601,10926211,13012891,4288121,9860881,8534053,5849690,9721626,6059044,6050867,8737130,3295593,8807715,4215325,6302005]},n}),define("js_charting/helpers/font_data/widths/helvetica",[],function(){var e={32:278,33:278,34:355,35:556,36:556,37:889,38:667,39:222,40:333,41:333,42:389,43:584,44:278,45:333,46:278,47:278,48:556,49:556,50:556,51:556,52:556,53:556,54:556,55:556,56:556,57:556,58:278,59:278,60:584,61:584,62:584,63:556,64:1015,65:667,66:667,67:722,68:722,69:667,70:611,71:778,72:722,73:278,74:500,75:667,76:556,77:833,78:722,79:778,80:667,81:778,82:722,83:667,84:611,85:722,86:667,87:944,88:667,89:667,90:611,91:278,92:278,93:278,94:469,95:556,96:222,97:556,98:556,99:500,100:556,101:556,102:278,103:556,104:556,105:222,106:222,107:500,108:222,109:833,110:556,111:556,112:556,113:556,114:333,115:500,116:278,117:556,118:500,119:722,120:500,121:500,122:500,123:334,124:260,125:334,126:584,161:333,162:556,163:556,164:167,165:556,166:556,167:556,168:556,169:191,170:333,171:556,172:333,173:333,174:500,175:500,177:556,178:556,179:556,180:278,182:537,183:350,184:222,185:333,186:333,187:556,188:1e3,189:1e3,191:611,193:333,194:333,195:333,196:333,197:333,198:333,199:333,200:333,202:333,203:333,205:333,206:333,207:333,208:1e3,225:1e3,227:370,232:556,233:778,234:1e3,235:365,241:889,245:278,248:222,249:611,250:944,251:611};return e}),define("js_charting/helpers/Formatter",["jquery","underscore","../util/dom_utils","./font_data/widths/helvetica"],function(e,t,n,r){var i=function(e){this.renderer=e,this.hasSVG=n.hasSVG,this.charWidths=r,this.DEFAULT_CHAR_WIDTH=1e3,this.ELLIPSIS_WIDTH=834,this.ELLIPSIS="...",this.PX_TO_PT_RATIO={},this.boldFontScale=1.0555,this.KERNING_FACTOR=.006};return i.prototype={_getPxScale:function(e,t){var n="foo",r;return t&&t["font-weight"]&&t["font-weight"]==="bold"?(r=this.PX_TO_PT_RATIO[e].bold,r||(r=this._calculatePxScale(n,e,t),this.PX_TO_PT_RATIO[e].bold=r),r):(r=this.PX_TO_PT_RATIO[e],r||(r=this._calculatePxScale(n,e),this.PX_TO_PT_RATIO[e]=r),r)},_calculatePxScale:function(e,t,n){var r=this.getTextBBox(e,t,n).width,i=this._widthOfString(e,n),s=i*t/1e3;return r/s},_widthOfString:function(e,t){var n=1;t&&t["font-weight"]&&t["font-weight"]==="bold"&&(n=this.boldFontScale);if(!e||e==="")return 0;var r=0,i=e.length;for(var s=0;s<i;s++)r+=this.charWidths[e.charCodeAt(s)]||this.DEFAULT_CHAR_WIDTH;return r*n},ellipsize:function(n,r,i,s,o){t(n).isArray()&&(n=n.join(",")),n=e.trim(n);var u=n.length;if(!n||n==="")return"";if(u<=3||!i||isNaN(i)||i<=0)return n;if(!r||isNaN(r)||r<=0)return this.ELLIPSIS;var a=this.KERNING_FACTOR*i*u,f=(r+a)/this._getPxScale(i),l=this._widthOfString(n,s),c=f*1e3/i,h=l-c,p=0,d="",v,m,g;if(!(h>0))return n;var y=c-this.ELLIPSIS_WIDTH;switch(o){case"end":for(v=0;v<u;v++){p+=this.charWidths[n.charCodeAt(v)]||this.DEFAULT_CHAR_WIDTH;if(p>y)return d+this.ELLIPSIS;d+=n[v]}break;case"start":m=u-1;for(v=m;v>=0;v--){p+=this.charWidths[n.charCodeAt(v)]||this.DEFAULT_CHAR_WIDTH;if(p>y)return this.ELLIPSIS+d;d=n[v].concat(d)}break;default:g=Math.floor(n.length/2);for(v=0;v<=g;v++){p+=this.charWidths[n.charCodeAt(v)]||this.DEFAULT_CHAR_WIDTH;if(p>y)return n.substring(0,v)+this.ELLIPSIS+n.substring(u-v,u);if(p===y)return n.substring(0,v+1)+this.ELLIPSIS+n.substring(u-v,u);p+=this.charWidths[n.charCodeAt(u-v-1)]||this.DEFAULT_CHAR_WIDTH;if(p>y)return n.substring(0,v+1)+this.ELLIPSIS+n.substring(u-v,u);if(p===y)return n.substring(0,v+1)+this.ELLIPSIS+n.substring(u-v-1,u)}}},trimStringToWidth:function(e,t,n,r){var i=this,s=function(s,o){var u;while(o>s+1)u=Math.floor((s+o)/2),i.predictTextWidth(e.substr(0,u),n,r)>t?o=u:s=u;return s},o=s(0,e.length);return e.substr(0,o)},reverseString:function(e){return e.split("").reverse().join("")},predictTextWidth:function(n,r,i){t(n).isArray()&&(n=n.join(","));if(!n||n===""||!r||isNaN(r))return 0;var s=n.split(/\s*<br\s*\/?>\s*/),o=s.length;if(o>1){var u=0;for(var a=0;a<o;a++)if(s[a]&&s[a]!==""){var f=this._predictLineWidth(s[a],r,i);f>u&&(u=f)}return u}var l=this._predictLineWidth(e.trim(n),r,i);return l},_predictLineWidth:function(e,t,n){var r=this._widthOfString(e,n),i=r*t/1e3,s=i*this._getPxScale(t);return s-this.KERNING_FACTOR*t*e.length},predictTextHeight:function(e,n,r){t(e).isArray()&&(e=e.join(","));if(!n||!e)return 0;var i=this.getTextBBox(e,n,r);return i?i.height:0},getTextBBox:function(t,n,r){return r=e.extend(r,{fontSize:n+"px"}),isNaN(parseFloat(n,10))?undefined:(this.textPredicter&&this.textPredicter.destroy(),this.textPredicter=this.renderer.text(t,0,0).attr({visibility:"hidden"}).css(r).add(),this.textPredicter.getBBox())},adjustLabels:function(t,n,r,i,s){var o,u,a,f=e.extend(!0,[],t),l=this.getMaxWidthForFontRange(f,r,i);if(l[i]<=n)a=!1,u=i;else{a=!0;for(u=i-1;u>r;u--)if(l[u]<=n){a=!1;break}}if(a&&s!=="none")for(o=0;o<f.length;o++)f[o]=this.ellipsize(f[o],n,u,{},s);return{labels:f,fontSize:u,areEllipsized:a,longestWidth:l[u]}},getMaxWidthForFontRange:function(e,t,n){var r,i={};i[t]=0;for(var s=0;s<e.length;s++){var o=this.predictTextWidth(e[s]||"",t);o>i[t]&&(r=s,i[t]=o)}for(var u=t+1;u<=n;u++)i[u]=this.predictTextWidth(e[r]||"",u);return i},bBoxesOverlap:function(e,t,n,r){n=n||0,r=r||0;var i=e.x-n,s=t.x-n,o=e.x+e.width+2*n,u=t.x+t.width+2*n,a=e.y-r,f=t.y-r,l=e.y+e.height+2*r,c=t.y+t.height+2*r;return i<u&&o>s&&a<c&&l>f},destroy:function(){this.textPredicter&&(this.textPredicter.destroy(),this.textPredicter=!1)}},e.extend(i,{getElementText:function(t){return n.hasSVG?t.textStr:e(t.element).html()},setElementText:function(e,t){if(e.attr("text")===t)return;e.added=!0,e.attr({text:t})}}),i}),define("js_charting/components/axes/Axis",["jquery","underscore","../../helpers/Formatter","../../util/parsing_utils","../../util/dom_utils"],function(e,t,n,r,i){var s=function(e){this.properties=e||{},this.id=t.uniqueId("axis_"),this.isVertical=this.properties["axis.orientation"]==="vertical",this.isZoomed=!1,this.labelRotation||(this.labelRotation=r.getRotation(this.properties["axisLabels.majorLabelStyle.rotation"]))};return s.prototype={getZoomed:function(e,t){var n=this.hcAxis;return e!==undefined&&e>n.dataMin||t!==undefined&&t<(n.options.tickmarkPlacement==="between"?n.dataMax:n.dataMax+1)},clone:function(){return new this.constructor(e.extend(!0,{},this.properties))},getConfig:function(){var n=null,i=this;return!this.properties.isEmpty&&this.properties["axisTitle.visibility"]!=="collapsed"&&!!this.properties["axisTitle.text"]&&!/^\s+$/.test(this.properties["axisTitle.text"])&&(n=r.escapeSVG(this.properties["axisTitle.text"])),e.extend(!0,this.getOrientationDependentConfig(),{id:this.id,labels:{enabled:this.properties["axisLabels.majorLabelVisibility"]!=="hide",formatter:function(){var e=this;return i.formatLabel(e)},style:{color:this.properties["axis.fontColor"]||"#000000"}},title:{style:{color:this.properties["axis.fontColor"]||"#000000"},text:n},lineColor:this.properties["axis.foregroundColorSoft"]||"#000000",lineWidth:this.properties["axisLabels.axisVisibility"]==="hide"?0:1,gridLineColor:this.properties["axis.foregroundColorSofter"]||"#000000",tickColor:this.properties["axis.foregroundColorSoft"]||"#000000",tickLength:parseInt(this.properties["axisLabels.majorTickSize"],10)||18,tickWidth:this.properties["axisLabels.majorTickVisibility"]==="hide"?0:1,tickRenderPostHook:t(this.tickRenderPostHook).bind(this),tickHandleOverflowOverride:t(this.tickHandleOverflowOverride).bind(this),getOffsetPreHook:t(this.getOffsetPreHook).bind(this),zoomOverride:t(this.zoomOverride).bind(this),getLabelSizeOverride:t(this.getLabelSizeOverride).bind(this)})},zoomOverride:function(e,t,n){return e.displayBtn=!1,e.dataMin&&t<=e.dataMin&&(t=undefined),e.dataMax&&(e.options.tickmarkPlacement==="between"&&n>=e.dataMax||e.options.tickmarkPlacement==="on"&&n>e.dataMax)&&(n=undefined),this.isZoomed=this.getZoomed(t,n),e.setExtremes(t,n,!1,undefined,{trigger:"zoom"}),!0},getOrientationDependentConfig:function(){return this.isVertical?e.extend(!0,{},this.BASE_VERT_CONFIG,this.getVerticalConfig()):e.extend(!0,{},this.BASE_HORIZ_CONFIG,this.getHorizontalConfig())},onChartLoad:function(){},redraw:function(){},onChartLoadOrRedraw:function(e){this.hcAxis=e.get(this.id),this.initializeTicks()},initializeTicks:function(){var e,t=this.hcAxis.ticks,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(t[e]);n.sort(function(e,t){return e.pos-t.pos}),this.ticks=n},tickRenderPostHook:function(e,t,n,r){if(!e.label||r===0)return;e.handleOverflow(t,e.label.xy,n)?i.showTickLabel(e):i.hideTickLabel(e)},getOffsetPreHook:function(e){if(e.userOptions.title.text){var t=e.chart,r=new n(t.renderer),i=e.userOptions.title.text,s=12,o;e.horiz?o=r.ellipsize(i,t.chartWidth-100,s,{fontWeight:"bold"}):o=r.ellipsize(i,t.chartHeight-100,s,{fontWeight:"bold"}),e.options.title.text=o,e.axisTitle&&e.axisTitle.attr({text:o}),r.destroy()}},tickHandleOverflowOverride:function(e,t,n){if(e.isFirst)return this.handleFirstTickOverflow(e,t,n);var r=e.axis,i=r.options,s=r.tickPositions.length-(i.tickmarkPlacement==="between"?0:1),o=i.labels.step||1;return e.isLast||t===s-s%o?this.handleLastTickOverflow(e,t,n):!0},handleFirstTickOverflow:function(e,t,n){var r=e.axis;if(r.horiz||r.reversed)return!0;var i=this.getTickLabelExtremesY(e)[1],s=r.top+r.len;return n.y+i<=s},handleLastTickOverflow:function(e,t,n){var r=e.axis;if(!r.horiz&&!r.reversed)return!0;if(r.horiz){var i=r.left+r.len,s=this.getTickLabelExtremesX(e)[1];return n.x+s<=i}var o=this.getTickLabelExtremesY(e)[1],u=r.top+r.len;return n.y+o<=u},getTickLabelExtremesX:function(e){return e.getLabelSides()},getTickLabelExtremesY:function(e){var t=-(e.axis.options.labels.y/2);return[t,t+e.labelBBox.height]},getLabelSizeOverride:function(e){var t=this.properties["axis.orientation"]==="horizontal";if(e.label){e.labelBBox=e.label.getBBox();if(!t||this.properties["axisLabels.tickmarkPlacement"]!=="on"||!e.isLast)return e.labelBBox[t?"height":"width"]}return 0},destroy:function(){this.hcAxis=null},getVerticalConfig:function(){return{}},getHorizontalConfig:function(){return{labels:{rotation:this.labelRotation}}},BASE_HORIZ_CONFIG:{title:{margin:8}},BASE_VERT_CONFIG:{}},s}),define("js_charting/util/lang_utils",[],function(){var e=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};return{inherit:e}}),define("js_charting/components/axes/CategoryAxis",["jquery","underscore","./Axis","../../helpers/Formatter","../../util/lang_utils","../../util/parsing_utils","helpers/user_agent"],function(e,t,n,r,i,s,o){var u=function(e){n.call(this,e),e=e||{},this.skipLabelsToAvoidCollisions=s.normalizeBoolean(e["axis.skipLabelsToAvoidCollisions"]),this.ellipsize=e["axisLabels.majorLabelStyle.overflowMode"]==="ellipsisMiddle",this.properties["axis.categories"]=this.processCategories(e["axis.categories"]),this._categoriesAreDirty=!1,this.isiOS=o.isiOS()};return i.inherit(u,n),e.extend(u.prototype,{DEFAULT_FONT_SIZE:12,MIN_FONT_SIZE:9,getConfig:function(){var r=this,i=n.prototype.getConfig.apply(this,arguments),o=s.normalizeBoolean(this.properties["axisLabels.hideCategories"]);return e.extend(!0,i,{categories:this.properties["axis.categories"].slice(0),labels:{formatter:function(){return r.formatLabel(this.value)},enabled:i.labels.enabled&&!o,maxStaggerLines:2},startOnTick:!this.hasTickmarksBetween(),showLastLabel:this.hasTickmarksBetween(),tickWidth:o?0:i.tickWidth,tickmarkPlacement:this.properties["axisLabels.tickmarkPlacement"],tickPositioner:function(e,t){return r.tickPositioner(this,e,t)},gridLineWidth:s.normalizeBoolean(this.properties["gridLines.showMajorLines"])?1:0,setTickPositionsPreHook:t(this.setTickPositionsPreHook).bind(this),setTickPositionsPostHook:t(this.setTickPositionsPostHook).bind(this)}),i},getVerticalConfig:function(){var t=n.prototype.getVerticalConfig.call(this);return e.extend(!0,t,{labels:{align:"right",x:-8}})},getHorizontalConfig:function(){var t=n.prototype.getHorizontalConfig.call(this),r;return this.isiOS&&this.hasTickmarksBetween()&&(r=1),e.extend(!0,t,{labels:{align:"left"},endOnTick:!this.hasTickmarksBetween(),showLastLabel:!1,startOnTick:!0,minRange:r||-1})},processCategories:function(e){return this.originalCategories=e,e.slice(0)},getCategories:function(){return this.properties["axis.categories"]},getPreviousCategories:function(){return this.previousCategories||[]},categoriesAreDirty:function(){return this._categoriesAreDirty},setCategories:function(e){this.previousCategories=this.properties["axis.categories"],this.properties["axis.categories"]=this.processCategories(e),t.isEqual(this.properties["axis.categories"],this.previousCategories)||(this._categoriesAreDirty=!0)},redraw:function(e){if(!this.hcAxis)throw new Error("cannot redraw an axis that has not been drawn yet");this.categoriesAreDirty()&&this.hcAxis.setCategories(this.properties["axis.categories"].slice(0),e)},onChartLoadOrRedraw:function(){n.prototype.onChartLoadOrRedraw.apply(this,arguments),this._categoriesAreDirty=!1},getOffsetPreHook:function(e){n.prototype.getOffsetPreHook.call(this,e);var i=e.options,s=e.chart;if(!i.labels.enabled)return;var o,u,a,f,l,c=new r(s.renderer),h=e.getExtremes(),p=Math.round(h.min),d=Math.round(h.max),v=d-p+(this.hasTickmarksBetween()?1:0),m=this.originalCategories.slice(p,p+v);if(this.isVertical){o=Math.floor(s.chartWidth/6);var g=this.fitLabelsToWidth(i,i.categories,c,o),y=c.predictTextHeight("Test",g),b=s.plotHeight;u=b/(m.length||1),a=25,f=this.skipLabelsToAvoidCollisions?Math.ceil(a/u):1,i.labels.y=f>1?y-e.transA*e.tickmarkOffset:y/3,i.labels.step=f}else{var w,E=4,S=100,x=s.plotWidth,T=c.getMaxWidthForFontRange(m,this.MIN_FONT_SIZE,this.DEFAULT_FONT_SIZE),N;u=x/(v||1);var C=this.findBestFontForSpacing(T,u-2*E);if(C>0&&this.labelRotation===0)w=C,i.labels.style["font-size"]=w+"px",f=1,l=u,o=l;else{a=Math.min(T[this.MIN_FONT_SIZE]+2*E,S),w=this.MIN_FONT_SIZE,f=this.skipLabelsToAvoidCollisions?Math.ceil(a/u):1,l=u*f;var k=s.yAxis[0].left,L=Math.PI*2/360,A=this.labelRotation*L,O=Math.abs(Math.cos(A)),M=l-2*E,D,P,H;switch(this.labelRotation){case 0:o=M;break;case-45:o=[],P=s.chartHeight/2/Math.abs(Math.sin(A));for(D=0;D<v;D++)H=u*(D+1)/O,D===0&&(H=Math.min(s.xAxis[0].left,H)),this.ellipsize?o[D]=Math.min(H,P,M):o[D]=Math.min(H,P);break;case 45:o=[],P=s.chartHeight/2/Math.abs(Math.sin(A));for(D=0;D<v;D++)H=u*(D+1)/O,this.ellipsize?o[v-D-1]=Math.min(H,P,M):o[v-D-1]=Math.min(H,P);break;default:this.ellipsize?o=Math.min(s.chartHeight/2,M):o=s.chartHeight/2}}this.ellipsizeLabels(i,m,c,o,w),t(m).each(function(e,t){i.categories[p+t]=e}),this.labelRotation===-45?(i.labels.align="right",N=5*E):this.labelRotation===-90?(i.labels.align="right",N=2*E):(i.labels.align="left",N=E),i.labels.step=f,this.hasTickmarksBetween()?i.labels.x=-(l/(2*f))+N:i.labels.x=N}c.destroy()},findBestFontForSpacing:function(e,n){var r=0;return t(e).each(function(e,t){e<=n&&(r=Math.max(r,parseInt(t,10)))}),r},fitLabelsToWidth:function(e,t,n,r){var i,s=n.adjustLabels(this.originalCategories,r,this.MIN_FONT_SIZE,this.DEFAULT_FONT_SIZE,"middle");for(i=0;i<s.labels.length;i++)t[i]=s.labels[i];return e.labels.style["font-size"]=s.fontSize+"px",s.fontSize},ellipsizeLabels:function(e,n,r,i,s){var o,u=t(n).map(function(e,n){return r.ellipsize(e,t.isArray(i)?i[n]:i,s,{},"middle")});for(o=0;o<u.length;o++)n[o]=u[o];e.labels.style["font-size"]=s+"px"},setTickPositionsPreHook:function(e){this.hasTickmarksBetween()||(e.options.max=this.properties["axis.categories"].length)},tickPositioner:function(e,t,n){return this.shouldHideTicks(e)?[t,n]:null},setTickPositionsPostHook:function(e,t){this.shouldHideTicks(e)&&(e.tickPositions=[]),this.isiOS&&this.hasTickmarksBetween()&&(e.min=Math.round(e.min),e.max=Math.round(e.max))},shouldHideTicks:function(e){var t=this.isVertical?15:20,n=e.chart.plotWidth,r=e.getExtremes(),i=r.max-r.min+(this.hasTickmarksBetween()?1:0),s=n/i;return s<t},tickRenderPostHook:function(e,t,r,i){var s=e.axis.options;s.labels=s.labels||{};if(!s.labels.enabled||s.tickWidth===0)return;n.prototype.tickRenderPostHook.call(this,e,t,r,i);var o=e.pos+(this.hasTickmarksBetween()?1:0),u=s.labels.step||1;o%u!==0?e.mark.hide():e.mark.show()},formatValue:function(e){return e},formatLabel:function(e){return s.escapeSVG(e)},hasTickmarksBetween:function(){return this.properties["axisLabels.tickmarkPlacement"]==="between"},getTickLabelExtremesY:function(e){return[-e.labelBBox.height,0]}}),u}),define("js_charting/util/time_utils",["underscore","util/time","splunk.i18n"],function(e,t,n){var r={SECS_PER_MIN:60,SECS_PER_HOUR:3600,convertTimeToCategories:function(t,n){var r,i,s,o,u,a,f=[],l=[];return a=this.findLabelIndexes(t,n),e(a).each(function(e){f.push(t[e])}),s=this.getPrettyLabelInfo(f),o=s.prettyLabels,e(t).each(function(e){l.push(" ")}),e(a).each(function(e,t){l[e]=o[t]}),{categories:l,rawLabels:f,granularity:s.granularity}},findLabelIndexes:function(e,t){var n,r,i=[];if(e.length<=t){n=0;while(n<e.length)i.push(n++);return i}var s=this.getPointSpan(e),o=this.getTotalSpan(e);if(this.couldLabelFirstOfMonth(s,o)){var u=this.findFirstOfMonthIndexes(e),a=u.length;if(a>=3){var f=Math.ceil(a/t),l=[];for(n=0;n<a;n+=f)r=u[n],l.push(r);return u=l,u}}var c=this.findMajorUnit(e,t,s,o),h=e.slice(0,c),p=this.getRoundestIndex(h,c,s),d=p;if(this.couldLabelMidnight(c,s)){var v=this.findMidnightIndexes(e);if(v.length>t){f=Math.ceil(v.length/t),l=[];for(n=0;n<v.length;n+=f)r=v[n],l.push(r);v=l}return v}while(d<e.length)i.push(d),d+=c;return i},couldLabelMidnight:function(e,t){return e%24===0&&t===3600},couldLabelFirstOfMonth:function(e,t){return e>this.MAX_SECS_PER_DAY?!1:e<this.SECS_PER_HOUR?!1:e<this.MIN_SECS_PER_DAY&&24*this.SECS_PER_HOUR%e!==0?!1:t<2*this.MIN_SECS_PER_MONTH?!1:!0},findMidnightIndexes:function(e){var n,r,i=[],s=[];for(n=0;n<e.length;n++)i.push(t.extractBdTime(e[n]));for(n=0;n<i.length;n++)r=i[n],r.hour===0&&r.minute===0&&s.push(n);return s},findFirstOfMonthIndexes:function(n){var r=[],i=[];return e(n).each(function(e,n){r.push(t.extractBdTime(e))}),e(r).each(function(e,t){e.day===1&&e.hour===0&&i.push(t)}),i},getPointSpan:function(e){if(e.length<2)return 1;if(e.length<4)return this.getSpanBetween(e[0],e[1]);var t=this.getSpanBetween(e[0],e[1]),n=this.getSpanBetween(e[1],e[2]),r=this.getSpanBetween(e[2],e[3]);return t===n?t:n===r?n:t===r?t:t},getTotalSpan:function(e){var n,r;for(n=e.length-1;n>=0;n--){r=e[n];if(t.isValidIsoTime(r))break}return this.getSpanBetween(e[0],r)},getSpanBetween:function(e,n){var r=t.isoToDateObject(e),i=t.isoToDateObject(n),s=i.getTime()-r.getTime();return s/1e3},MIN_SECS_PER_DAY:82800,MAX_SECS_PER_DAY:9e4,MAJOR_UNITS_SECONDS:[1,2,5,10,15,30,60,120,180,300,600,900,1800,3600,7200,14400,21600,43200,86400,172800,345600,604800],MAJOR_UNIT_DAYS:[1,2,4,7,14,28,56,112,224,364,476,728],MIN_SECS_PER_MONTH:2419200,MAJOR_UNIT_MONTHS:[1,2,4,6,12,24,48,96],findMajorUnit:function(e,t,n,r){var i,s,o;if(n<this.MIN_SECS_PER_DAY)for(i=0;i<this.MAJOR_UNITS_SECONDS.length;i++){s=this.MAJOR_UNITS_SECONDS[i],o=r/s;if(o>=3&&o<=t&&s%n===0){if(s===180&&r>=900)continue;return s/n}}else if(n<this.MIN_SECS_PER_MONTH){var u=86400,a=Math.round(n/u),f=Math.round(r/u);for(i=0;i<this.MAJOR_UNIT_DAYS.length;i++){s=this.MAJOR_UNIT_DAYS[i],o=f/s;if(o>=3&&o<=t&&s%a===0)return s/a}}else{var l=2592e3,c=Math.round(n/l),h=Math.round(r/l);for(i=0;i<this.MAJOR_UNIT_MONTHS.length;i++){s=this.MAJOR_UNIT_MONTHS[i],o=h/s;if(o>=3&&o<=t&&s%c===0)return s/c}}return Math.ceil(e.length/t)},getRoundestIndex:function(n,r,i){var s,o,u,a=[],f=r*i;e(n).each(function(e){a.push(t.extractBdTime(e))}),o=a[0],u=0;for(s=1;s<a.length;s++)this.isRounderThan(a[s],o,i)&&this.bdTimeMatchesUnit(a[s],f)&&(o=a[s],u=s);return u},isRounderThan:function(e,t,n){return e.month===1&&e.day===1&&e.hour===0&&t.month!==1&&t.day===1&&t.hour===0?!0:e.hour===0&&t.hour!==0?!0:e.hour%12===0&&t.hour%12!==0?!0:e.hour%6===0&&t.hour%6!==0?!0:e.hour%4===0&&t.hour%4!==0?!0:e.hour%2===0&&t.hour%2!==0?!0:e.minute===0&&t.minute!==0?!0:e.minute%30===0&&t.minute%30!==0?!0:e.minute%15===0&&t.minute%15!==0?!0:e.minute%10===0&&t.minute%10!==0?!0:e.minute%5===0&&t.minute%5!==0?!0:e.minute%2===0&&t.minute%2!==0?!0:e.second===0&&t.second!==0?!0:e.second%30===0&&t.second%30!==0?!0:e.second%15===0&&t.second%15!==0?!0:e.second%10===0&&t.second%10!==0?!0:e.second%5===0&&t.second%5!==0?!0:e.second%2===0&&t.second%2!==0?!0:!1},bdTimeMatchesUnit:function(e,t){if(t<60)return e.second%t===0;if(t<3600){var n=Math.floor(t/60);return e.minute%n===0}var r=Math.floor(t/3600);return e.hour%r===0},getPrettyLabelInfo:function(n){var r,i,s=[],o=[];e(n).each(function(e){s.push(t.extractBdTime(e))});var u=t.determineLabelGranularity(s);for(r=0;r<s.length;r++)r===0?i=this.formatBdTimeAsAxisLabel(s[r],null,u):i=this.formatBdTimeAsAxisLabel(s[r],s[r-1],u),i?o.push(i.join("<br/>")):o.push("");return{prettyLabels:o,granularity:u}},formatBdTimeAsAxisLabel:function(e,r,i){if(e.isInvalid)return null;var s=t.bdTimeToDateObject(e),o=i in{second:!0,minute:!0,hour:!0,day:!0},u=i in{second:!0,minute:!0,hour:!0},a=i==="second",f=a?"medium":"short",l=o?"ccc MMM d":"MMMM";if(i==="year")return[n.format_date(s,"YYYY")];if(r&&r.year===e.year&&e.month===r.month&&e.day===r.day)return[n.format_time(s,f)];var c=u?[n.format_time(s,f),n.format_date(s,l)]:[n.format_date(s,l)];return(!r||e.year!==r.year)&&c.push(n.format_date(s,"YYYY")),c},formatIsoStringAsTooltip:function(e,r){var i=t.extractBdTime(e),s;return i.isInvalid?null:(s=t.bdTimeToDateObject(i),r>=this.MIN_SECS_PER_DAY?n.format_date(s):r>=this.SECS_PER_MIN?n.format_datetime(s,"medium","short"):n.format_datetime(s))}};return r}),define("js_charting/components/axes/TimeAxis",["jquery","underscore","./Axis","./CategoryAxis","../../helpers/Formatter","../../util/lang_utils","util/time","../../util/time_utils","../../util/dom_utils","../../util/parsing_utils"],function(e,t,n,r,i,s,o,u,a,f){var l=function(e){var t=6,n=10,i=15;this.labelRotation=f.getRotation(e["axisLabels.majorLabelStyle.rotation"]),this.numLabelCutoff=this.labelRotation===0?t:this.labelRotation===-45?n:i,this.spanData=e["axis.spanData"],r.call(this,e)};return s.inherit(l,r),e.extend(l.prototype,{getConfig:function(){var t=r.prototype.getConfig.call(this);return e.extend(!0,t,{showLastLabel:!0,labels:{maxStaggerLines:1}}),t},setCategories:function(e,t){this.previousSpanData=this.spanData,this.spanData=t,r.prototype.setCategories.call(this,e)},getSpanData:function(){return this.spanData},getPreviousSpanData:function(){return this.previousSpanData||[]},formatLabel:function(e){return e},formatValue:function(e){return u.formatIsoStringAsTooltip(e,this.pointSpan)||t("Invalid timestamp").t()},getOffsetPreHook:function(e){var t=e.options,n=e.chart,r=this.isVertical?2:3,i=this.isVertical?n.plotHeight:n.plotWidth,s=e.getExtremes(),o=Math.round(s.max-s.min+(this.hasTickmarksBetween()?1:0)),u=o>1?i/o:i+r*2,a;t.adjustedTickSpacing=u;if(this.isVertical){var f=parseInt(t.labels.style.fontSize.split("px")[0],10);t.labels.y=u/2+f+r}else this.labelRotation===-45?(t.labels.align="right",a=7*r,e.tickPositions.length===1&&(a-=50)):this.labelRotation===-90?(t.labels.align="right",a=3*r):(t.labels.align="left",a=r),t.tickmarkPlacement==="on"?t.labels.x=a:o===1?t.labels.x=-(u/2+a):t.labels.x=u/2+a},tickPositioner:function(e,t,n){return null},tickRenderPostHook:function(e,t,n,i){if(e.label&&this.labelRotation===90){var s=2,o=parseInt(e.axis.options.labels.style.lineHeight||14,0);e.label.translate(e.labelBBox.width-(o-s),0)}r.prototype.tickRenderPostHook.call(this,e,t,n,i)},setTickPositionsPostHook:function(e,n){var r=e.options,i=e.getExtremes(),s=Math.round(i.min),o=Math.round(i.max),f=Math.round(o-s+(this.hasTickmarksBetween()?1:0)),l=u.convertTimeToCategories(this.originalCategories.slice(s,s+f),this.numLabelCutoff),c=l.categories;this.granularity=l.granularity,this.pointSpan=u.getPointSpan(this.originalCategories),e.tickPositions=[],t(c).each(function(t,n){if(t!==" "){var i=s+n;r.tickmarkPlacement==="between"&&f!==1&&i--,r.categories[i]=t,e.tickPositions.push(i)}},this),r.labels.style.width="auto",a.hasSVG||(r.labels.style["white-space"]="nowrap")},tickHandleOverflowOverride:function(e,t,n,i){return t===-1||i?!0:t===1?(this.collisionDetected=!1,this.lastTickFits=!0,!0):e.isFirst?(e.isLast||(this.collisionDetected=this.collisionDetected||this.tickOverlapsNext(e,t,n)),this.resolveCollisionDetection(e.axis,this.collisionDetected,this.lastTickFits),!0):(this.collisionDetected=this.collisionDetected||this.tickOverlapsPrevious(e,t,n),e.isLast&&(this.lastTickFits=r.prototype.tickHandleOverflowOverride.call(this,e,t,n)),!0)},tickOverlapsPrevious:function(e,t,n){var r=e.axis,i=r.ticks[r.tickPositions[t-1]],s;if(!i)return!1;s=i.getPosition(r.horiz,i.pos,r.tickmarkOffset);if(this.isVertical){var o=s.y+this.getTickLabelExtremesY(i)[1];return n.y<o}var u=s.x+this.getTickLabelExtremesX(i)[1];return n.x<u},tickOverlapsNext:function(e,t,n){var r=e.axis,i=r.ticks[r.tickPositions[t+1]],s;if(!i)return!1;s=i.getPosition(r.horiz,i.pos,r.tickmarkOffset);if(this.isVertical){var o=n.y+this.getTickLabelExtremesY(e)[1];return o>s.y}var u=n.x+this.getTickLabelExtremesX(e)[1];return u>s.x},resolveCollisionDetection:function(e,n,r){var s=new i(e.chart.renderer),a=e.tickPositions,f=a.slice(1),l=e.ticks,c=this.originalCategories,h=this.granularity,p=this.hasTickmarksBetween()?1:0;n?t(f).each(function(e,t){t++;var n=l[e];if(t%2===0){var r=o.extractBdTime(c[n.pos+p]),i=l[a[t-2]],s=o.extractBdTime(c[i.pos+p]),f=(u.formatBdTimeAsAxisLabel(r,s,h)||[""]).join("<br/>");n.label.attr({text:f})}else n.label.hide(),n.mark.hide()}):t(f).each(function(e,t){t++;var n=l[e];n.label.show(),n.mark.show();if(t%2===0){var r=o.extractBdTime(c[e+p]),i=l[a[t-1]],s=o.extractBdTime(c[i.pos+p]),f=(u.formatBdTimeAsAxisLabel(r,s,h)||[""]).join("<br/>");n.label.attr({text:f})}}),!r&&(!n||a.length%2!==0)&&e.ticks[t(a).last()].label.hide(),s.destroy()},getTickLabelExtremesX:function(e){var n=r.prototype.getTickLabelExtremesX.call(this,e),i=e.axis.options;return this.hasTickmarksBetween()&&e.label.rotation===0?t(n).map(function(e){return e-i.adjustedTickSpacing/2}):(e.isFirst&&(e.label.rotation===-90||e.label.rotation===-45||e.label.rotation===90)&&(n[1]=e.labelBBox.width),n)},getTickLabelExtremesY:function(e){return n.prototype.getTickLabelExtremesY.apply(this,arguments)}}),l}),define("js_charting/components/axes/NumericAxis",["jquery","underscore","./Axis","../../helpers/Formatter","../../util/parsing_utils","../../util/lang_utils","../../util/math_utils","splunk.i18n"],function(e,t,n,r,i,s,o,u){var a=function(e){n.call(this,e),this.includeZero=this.determineIncludeZero(),this.hasExplicitMin=this.properties.hasOwnProperty("axis.minimumNumber")&&this.properties["axis.minimumNumber"]!=="",this.hasExplicitMax=this.properties.hasOwnProperty("axis.maximumNumber")&&this.properties["axis.maximumNumber"]!=="",this.hasExplicitMajorUnit=this.properties.hasOwnProperty("axisLabels.majorUnit")&&this.properties["axisLabels.majorUnit"]!==""};return s.inherit(a,n),e.extend(a.prototype,{getConfig:function(){var r=n.prototype.getConfig.call(this),s=i.normalizeBoolean(this.properties["axisLabels.extendsAxisRange"],!0);return e.extend(!0,r,{tickInterval:this.properties.isEmpty&&this.properties["axis.scale"]==="log"?10:this.properties.isEmpty?10:parseFloat(this.properties["axisLabels.majorUnit"])||null,endOnTick:s,startOnTick:s,allowDecimals:!i.normalizeBoolean(this.properties["axisLabels.integerUnits"]),minorTickColor:this.properties["axis.foregroundColorSoft"],minorTickLength:parseInt(this.properties["axisLabels.minorTickSize"],10)||10,minorTickInterval:"auto",minorTickWidth:this.properties["axisLabels.minorTickVisibility"]==="show"?1:0,minorGridLineWidth:i.normalizeBoolean(this.properties["gridLines.showMinorLines"])?1:0,min:this.properties.isEmpty?0:null,max:this.properties.isEmpty&&this.properties["axis.scale"]==="log"?2:this.properties.isEmpty?100:null,gridLineWidth:i.normalizeBoolean(this.properties["gridLines.showMajorLines"],!0)?1:0,getSeriesExtremesPostHook:t(this.getSeriesExtremesPostHook).bind(this),setTickPositionsPreHook:t(this.setTickPositionsPreHook).bind(this),labels:{maxStaggerLines:1}}),this.addMinAndMaxToConfig(r),r},addMinAndMaxToConfig:function(e){var t=this.hasExplicitMin?parseFloat(this.properties["axis.minimumNumber"]):-Infinity,n=this.hasExplicitMax?parseFloat(this.properties["axis.maximumNumber"]):Infinity;if(t>n){var r=t;t=n,n=r}t>-Infinity&&this.addMinToConfig(e,t,this.includeZero),n<Infinity&&this.addMaxToConfig(e,n,this.includeZero)},addMinToConfig:function(e,t,n){n&&t>0?t=0:this.isLogScale()&&(t=o.absLogBaseTen(t)),e.min=t,e.minPadding=0,e.startOnTick=!1},addMaxToConfig:function(e,t,n){n&&t<0?t=0:this.isLogScale()&&(t=o.absLogBaseTen(t)),e.max=t,e.maxPadding=0,e.endOnTick=!1},getVerticalConfig:function(){var t=n.prototype.getVerticalConfig.call(this);return e.extend(!0,t,{labels:{y:13}})},getHorizontalConfig:function(){var t=n.prototype.getHorizontalConfig.call(this),r,i;return this.labelRotation<0?(i="right",this.labelRotation===-45?r=20:this.labelRotation===-90&&(r=10)):(i="left",r=4),e.extend(!0,t,{labels:{align:i,x:r}})},formatLabel:function(e){return this.isLogScale()?this.properties.stackMode==="stacked100"?this.formatNumber(e.value):this.formatNumber(o.absPowerTen(e.value)):this.formatNumber(e.value)},formatValue:function(e){var t=this.formatNumber(e);return t!=="NaN"?t:u.format_decimal("0")},formatNumber:function(e){e=o.parseFloat(e);var n=Math.abs(e);if(n>0&&n<1e-6)return u.format_scientific(e,"#.###E0");var r=o.getDecimalPrecision(e),i="#,##0.";return t(r).times(function(){i+="#"}),e+=Math.pow(10,-1*r-1),u.format_decimal(e,i)},isLogScale:function(){return this.properties["axis.scale"]==="log"},normalizeAxisOptions:function(e){var t=e.options,n=e.getExtremes(),i=e.chart;if(!this.properties.isEmpty){var s=new r(i.renderer);n.min=t.min||n.dataMin,n.max=t.max||n.dataMax;var o,u=Math.abs(n.max-n.min);this.isVertical?o=t.tickInterval||t.tickPixelInterval/i.plotHeight*u:o=t.tickInterval||t.tickPixelInterval/i.plotWidth*u,this.isLogScale()?t.tickInterval=1:this.checkMajorUnitFit(o,n,t,s,i),this.includeZero?this.enforceIncludeZero(t,n):this.adjustAxisRange(t,n,o),t.allowDecimals!==!1&&this.enforceIntegerMajorUnit(t,n),s.destroy()}else this.handleNoData(t)},getSeriesExtremesPostHook:function(e,t){this.normalizeAxisOptions(e)},setTickPositionsPreHook:function(e,t){t&&this.normalizeAxisOptions(e)},checkMajorUnitFit:function(e,t,n,r,i){var s=Math.abs(t.max-t.min),o=this.isVertical?i.plotHeight:i.plotWidth,u=e*o/s,a=Math.max(Math.abs(t.min),Math.abs(t.max)),f=this.isVertical?5:15,l=parseInt(n.labels.style.fontSize.split("px")[0],10),c=function(e){return e*s/o};if(this.isVertical){var h=r.predictTextHeight(this.formatValue(a),l);u<h+2*f&&(n.tickInterval=Math.ceil(c(h+2*f,!0)))}else{var p=r.predictTextWidth(this.formatValue(a),l)+2*f;if(u<p||u>2*p){var d=Math.ceil(c(p,!0)),v=Math.pow(10,Math.floor(Math.log(d)/Math.LN10));n.tickInterval=this.fitTickIntervalToWidth(d,null,v)}}},determineIncludeZero:function(){if(i.normalizeBoolean(this.properties["axis.includeZero"]))return!0;if(this.isLogScale()){var e=parseFloat(this.properties["axis.minimumNumber"]),n=parseFloat(this.properties["axis.maximumNumber"]);if((t.isNaN(e)||e<=0)&&(t.isNaN(n)||n>=0))return!0}return!1},enforceIncludeZero:function(e,t){if(!t.min&&!t.max){this.handleNoData(e);return}t.min>=0?(e.min=0,e.minPadding=0):t.max<=0&&(e.max=0,e.maxPadding=0)},adjustAxisRange:function(e,t,n){this.hasExplicitMin||delete e.min,this.hasExplicitMax||delete e.max;if(!t.dataMin&&!t.dataMax){this.handleNoData(e);return}if(t.min>t.dataMax&&t.min>0&&!this.hasExplicitMax){e.max=this.isLogScale()?t.min+2:t.min*2;return}if(t.max<t.dataMin&&t.max<0&&!this.hasExplicitMin){e.min=this.isLogScale()?t.max-2:t.max*2;return}t.dataMin>=0&&t.dataMin<=n&&(this.hasExplicitMin||(e.min=0),e.minPadding=0),t.dataMax<=0&&t.dataMax>=-1*n&&(this.hasExplicitMax||(e.max=0),e.maxPadding=0)},handleNoData:function(e){var t=this.isLogScale();e.min=0,e.max=t?2:100,t&&(e.tickInterval=1)},enforceIntegerMajorUnit:function(e,t){var n=t.max-t.min;n>=10&&(e.allowDecimals=!1)},fitTickIntervalToWidth:function(e,t,n){var r=e/n;t||(t=[1,2,2.5,5,10,20]);for(var i=0;i<t.length-1;i++){e=t[i];if(r<=(t[i]+(t[i+1]||t[i]))/2){e=t[i+1];break}}return e*=n,this.hasExplicitMajorUnit?Math.max(o.parseFloat(this.properties["axisLabels.majorUnit"]),e):e}}),a}),define("js_charting/helpers/HoverEventThrottler",["jquery"],function(e){var t=function(e){e=e||{},this.highlightDelay=e.highlightDelay||200,this.unhighlightDelay=e.unhighlightDelay||100,this.timer=null,this.timer2=null,this.mouseStatus="over",this.isSelected=!1,this.onMouseOver=e.onMouseOver,this.onMouseOut=e.onMouseOut};return e.extend(t.prototype,{setMouseStatus:function(e){this.mouseStatus=e},getMouseStatus:function(){return this.mouseStatus},mouseOverHappened:function(e){var t=this,n=arguments;this.mouseOverFn=function(){t.onMouseOver.apply(null,n)},clearTimeout(this.timer),clearTimeout(this.timer2),this.setMouseStatus("over"),this.timeOutManager()},mouseOutHappened:function(e){var t=this,n=arguments;this.mouseOutFn=function(){t.onMouseOut.apply(null,n)},this.setMouseStatus("out"),this.timeOutManager()},timeOutManager:function(){var e=this;clearTimeout(this.timer),this.isSelected?this.getMouseStatus()==="over"?this.mouseEventManager():this.timer2=setTimeout(function(){e.setMouseStatus("out"),e.mouseEventManager()},e.unhighlightDelay):this.timer=setTimeout(function(){e.isSelected=!0,e.mouseEventManager()},e.highlightDelay)},mouseEventManager:function(){var e=this;this.getMouseStatus()==="over"?(this.mouseOverFn(),this.isSelected=!0,this.setMouseStatus("out")):(this.mouseOutFn(),this.isSelected=!1,this.setMouseStatus("over"))}}),t}),define("js_charting/components/Legend",["jquery","underscore","../helpers/EventMixin","../helpers/Formatter","../helpers/HoverEventThrottler","../util/parsing_utils","../util/color_utils","../util/dom_utils"],function(e,t,n,r,i,s,o,u){var a=function(e){this.properties=e||{},this.id=t.uniqueId("legend_"),this.clickEnabled=s.normalizeBoolean(this.properties.clickEnabled),this.ellipsisMode=this.OVERFLOW_TO_ELLIPSIS_MAP[this.properties["labelStyle.overflowMode"]]||this.DEFAULT_ELLIPSIS_MODE,this.UNHIGHLIGHTED_COLOR=o.addAlphaToColor(this.UNHIGHLIGHTED_BASE_COLOR,this.UNHIGHLIGHTED_OPACITY)};return a.prototype=e.extend({},n,{HIGHLIGHTED_OPACITY:1,UNHIGHLIGHTED_OPACITY:.3,UNHIGHLIGHTED_BASE_COLOR:"rgb(150, 150, 150)",DEFAULT_PLACEMENT:"right",DEFAULT_ELLIPSIS_MODE:"middle",BASE_CONFIG:{borderWidth:0},PLACEMENT_OPTIONS:{top:!0,left:!0,bottom:!0,right:!0,none:!0},PLACEMENT_TO_MARGIN_MAP:{top:30,left:15,bottom:15,right:15},OVERFLOW_TO_ELLIPSIS_MAP:{ellipsisStart:"start",ellipsisMiddle:"middle",ellipsisEnd:"end",ellipsisNone:"none","default":"start"},getConfig:function(){var n=this.PLACEMENT_OPTIONS.hasOwnProperty(this.properties.placement)?this.properties.placement:this.DEFAULT_PLACEMENT,r={left:!0,right:!0}.hasOwnProperty(n),i=this.clickEnabled?"pointer":"default";return e.extend(!0,{},this.BASE_CONFIG,{enabled:this.properties.isEmpty?!1:!0,align:r?n:"center",verticalAlign:r?"middle":n,layout:r?"vertical":"horizontal",margin:this.PLACEMENT_TO_MARGIN_MAP[n],itemStyle:{cursor:i,color:this.properties.fontColor||"#000000"},itemHoverStyle:{cursor:i,color:this.properties.fontColor||"#000000"},renderItemsPreHook:t(this.renderItemsPreHook).bind(this),renderItemsPostHook:t(this.renderItemsPostHook).bind(this)})},onChartLoad:function(){},onChartLoadOrRedraw:function(e){this.hcSeriesList=t(e.series).filter(function(e){return e.options.showInLegend!==!1}),this.removeEventHandlers(),this.addEventHandlers()},addEventHandlers:function(){var n=this,r={highlightDelay:125,unhighlightDelay:50,onMouseOver:function(e){n.selectField(e),n.trigger("mouseover",[e])},onMouseOut:function(e){n.unSelectField(e),n.trigger("mouseout",[e])}},s=new i(r);t(this.hcSeriesList).each(function(r){var i=r.name;t(this.getSeriesLegendObjects(r)).each(function(t){u.jQueryOn.call(e(t.element),"mouseover."+this.id,function(){s.mouseOverHappened(i)}),u.jQueryOn.call(e(t.element),"mouseout."+this.id,function(){s.mouseOutHappened(i)}),this.clickEnabled&&u.jQueryOn.call(e(t.element),"click."+this.id,function(e){var t={type:"click",modifierKey:e.ctrlKey||e.metaKey};n.trigger(t,[i])})},this)},this)},removeEventHandlers:function(){t(this.hcSeriesList).each(function(n){t(this.getSeriesLegendObjects(n)).each(function(t){u.jQueryOff.call(e(t.element),"."+this.id)},this)},this)},selectField:function(e){t(this.hcSeriesList).each(function(t){t.name!==e?this.unHighlightField(e,t):this.highlightField(e,t)},this)},unSelectField:function(e){t(this.hcSeriesList).each(function(t){t.name!==e&&this.highlightField(e,t)},this)},highlightField:function(e,t){t=t||this.getSeriesByFieldName(e);var n=this.getSeriesLegendObjects(t),r=t.color;n.item&&n.item.attr("fill-opacity",this.HIGHLIGHTED_OPACITY),n.line&&n.line.attr("stroke",r),n.symbol&&n.symbol.attr({fill:r,stroke:r})},unHighlightField:function(e,t){t=t||this.getSeriesByFieldName(e);var n=this.getSeriesLegendObjects(t);n.item&&n.item.attr("fill-opacity",this.UNHIGHLIGHTED_OPACITY),n.line&&n.line.attr("stroke",this.UNHIGHLIGHTED_COLOR),n.symbol&&n.symbol.attr({fill:this.UNHIGHLIGHTED_COLOR,stroke:this.UNHIGHLIGHTED_COLOR})},getSeriesByFieldName:function(e){return t(this.hcSeriesList).find(function(t){return t.name===e})},getSeriesLegendObjects:function(e){var t={};return e.legendItem&&(t.item=e.legendItem),e.legendSymbol&&(t.symbol=e.legendSymbol),e.legendLine&&(t.line=e.legendLine),t},destroy:function(){this.off(),this.removeEventHandlers(),this.hcSeriesList=null},renderItemsPreHook:function(e){var t,n,i,o,a=e.options,f=e.itemStyle,l=e.allItems,c=e.chart,h=c.renderer,p=c.spacingBox,d=a.layout==="horizontal",v=12,m=10,g=a.symbolWidth,y=a.symbolPadding,b=e.padding||0,w=10,E=[],S=new r(h);d?o=l.length>5?Math.floor(p.width/6):Math.floor(p.width/l.length)-(g+y+w)*(l.length-1):o=Math.floor(p.width/6)-(g+y+b),a.originalFormatter||(a.originalFormatter=a.labelFormatter);for(t=0;t<l.length;t++)E.push(a.originalFormatter.call(l[t]));n=S.adjustLabels(E,o,m,v,this.ellipsisMode),n.areEllipsized&&d&&l.length>5?(i=o+g+y+w,a.itemWidth=i):a.itemWidth=undefined;for(t=0;t<l.length;t++)l[t].ellipsizedName=n.labels[t],l[t].legendItem&&(u.setLegendItemText(l[t].legendItem,n.labels[t]),l[t].legendItem.css({"font-size":n.fontSize+"px"}));a.labelFormatter=function(){return s.escapeSVG(this.ellipsizedName)},f["font-size"]=n.fontSize+"px",e.itemMarginTop=v-n.fontSize,S.destroy()},renderItemsPostHook:function(t){var n=55,r=t.options,i=t.padding,s=t.lastItemY+t.lastLineHeight,o=t.chart.spacingBox.height-i;if(s>o)r.verticalAlign="top",r.y=-i,t.offsetWidth<n&&(r.width=n);else{var u=this.getConfig();e.extend(r,{verticalAlign:u.verticalAlign,y:u.y,width:u.width})}}}),a}),define("js_charting/components/Tooltip",["jquery","underscore"],function(e,t){var n=function(e){this.properties=e||{}};return n.prototype={BASE_CONFIG:{enabled:!0,backgroundColor:"#000000",borderColor:"#ffffff",hideDelay:0,style:{color:"#cccccc"},positioner:function(t,n,r){var i=this.getPosition(t,n,r),s=this.chart.plotWidth,o=e(".btn-zoom-out"),u=i.x+t;if(o){var a=o.position();if(a){var f=a.left,l=a.top,c=o.height();u>f&&i.y<l+c&&(i.x-=i.x+t-f+10)}}if(t>s){var h=this.options;i.x=h.borderRadius+h.borderWidth}return i},getAnchorPostHook:function(e,n,r){return e&&!t.isArray(e)&&e.series.options.type==="column"&&(r[0]=e.barX),r}},getConfig:function(){return e.extend(!0,{},this.BASE_CONFIG,{borderColor:this.properties.borderColor})},destroy:function(){}},n}),define("js_charting/components/SelectionWindow",["jquery","underscore","../helpers/EventMixin","helpers/user_agent"],function(e,t,n,r){var i=function(n){this.id=t.uniqueId("selection_window"),this.hcChart=n,this.renderer=n.renderer,this.axis=n.xAxis[0],this.axisHasTickmarksBetween=this.axis.options.tickmarkPlacement==="between",this.axisValueOffset=this.axisHasTickmarksBetween?.5:0,this.isiOS=r.isiOS();var i,s,o,u;this.pointer=n.pointer,this.pointer.selectionMarker.renderer?(this.zIndex=this.pointer.selectionMarker.attr("zIndex"),o=this.pointer.selectionMarker.attr("x"),u=this.pointer.selectionMarker.attr("width")):(this.zIndex=7,o=this.pointer.selectionMarker.x,u=this.pointer.selectionMarker.width),i=o,s=this.snapXValue(i+u,this.axisHasTickmarksBetween?"ceil":"round","max"),this.x=this.snapXValue(i,this.axisHasTickmarksBetween?"floor":"round","min"),this.width=s-this.x,this.createResizeHandles(),this.ownedElements=[this.resizeHandleLeft.element,this.resizeHandleRight.element],this.updateExtremesValues();var a=e(this.hcChart.container);this.defaultContainerCursor=a.css("cursor"),a.on("mousemove."+this.id,t(this.onContainerMouseMove).bind(this)),this.initialized=!0};return i.prototype=e.extend({},n,{handleWidth:r.isiOS()?25:10,handleHeight:50,handleBorderColor:"rgb(255,255,255)",handleBgColor:"rgba(79,79,79,0.5)",handleBorderRadius:5,shadedAreaColor:"rgba(100,100,100,0.3)",handleDragStartEvent:function(e){var n=e.target,r=n===this.hcChart.chartBackground.element&&this.hcChart.isInsidePlot(e.chartX-this.hcChart.plotLeft,e.chartY-this.hcChart.plotTop);return r||t(this.ownedElements).contains(n)?(this.originalTarget=n,this.mouseDownX=this.getCurrentX(),this.mouseDownWidth=this.getCurrentWidth(),this.isDragging=!0,!0):!1},handleDragEvent:function(e){this.originalTarget===this.hcChart.chartBackground.element&&this.dragSelectionMarker(e),this.originalTarget===this.resizeHandleLeft.element&&this.resizeSelectionLeft(e),this.originalTarget===this.resizeHandleRight.element&&this.resizeSelectionRight(e)},handleDropEvent:function(e){this.isDragging&&(this.updateExtremesValues(),this.emitSelectionEvent(),this.isDragging=!1)},getExtremes:function(){return{min:this.startValue,max:this.endValue}},setExtremes:function(e){this.startValue=e.min,this.endValue=e.max,this.x=Math.round(this.axis.toPixels(this.startValue+this.axisValueOffset)),this.width=Math.round(this.axis.toPixels(this.endValue+this.axisValueOffset))-this.x,this.positionResizeHandles("both")},onContainerMouseMove:function(t){t=this.pointer.normalize(t),t.target===this.hcChart.chartBackground.element&&this.hcChart.isInsidePlot(t.chartX-this.hcChart.plotLeft,t.chartY-this.hcChart.plotTop)?e(this.hcChart.container).css("cursor","move"):e(this.hcChart.container).css("cursor",this.defaultContainerCursor)},onChartRedraw:function(){this.x=Math.round(this.axis.toPixels(this.startValue+this.axisValueOffset)),this.width=Math.round(this.axis.toPixels(this.endValue+this.axisValueOffset))-this.x,this.resizeHandleLeft.attr({y:this.hcChart.plotTop+this.hcChart.plotHeight/2-this.handleHeight/2}),this.resizeHandleRight.attr({y:this.hcChart.plotTop+this.hcChart.plotHeight/2-this.handleHeight/2}),this.shadedRegionLeft.attr({x:this.hcChart.plotLeft,y:this.hcChart.plotTop,height:this.hcChart.plotHeight}),this.shadedRegionRight.attr({y:this.hcChart.plotTop,height:this.hcChart.plotHeight}),this.positionResizeHandles("both")},destroy:function(){this.initialized&&(this.resizeHandleLeft.destroy(),this.resizeHandleRight.destroy(),this.handleVerticalLineLeft.destroy(),this.handleVerticalLineRight.destroy(),this.shadedRegionRight.destroy(),this.shadedRegionLeft.destroy(),this.$resetButton.remove(),this.initialized=!1),e(this.hcChart.container).off("mousemove."+this.id),this.off()},dragSelectionMarker:function(e){this.x=this.snapXValue(this.mouseDownX+e.chartX-this.pointer.mouseDownX,"round"),this.x=Math.max(this.x,this.hcChart.plotLeft),this.x=Math.min(this.x,this.hcChart.plotLeft+this.hcChart.plotWidth-this.getCurrentWidth()),this.positionResizeHandles("both")},resizeSelectionLeft:function(e){var t=this.getCurrentX(),n=this.getCurrentWidth();this.x=this.snapXValue(this.mouseDownX+e.chartX-this.pointer.mouseDownX,"round"),this.x=Math.max(this.x,this.hcChart.plotLeft);var r=t+n;this.x=Math.min(this.x,this.axis.toPixels(this.axis.toValue(r)-1)),this.width=n-this.x+t,this.positionResizeHandles("left")},resizeSelectionRight:function(e){this.x=this.getCurrentX();var t=this.mouseDownWidth+e.chartX-this.pointer.mouseDownX,n=this.snapXValue(this.x+t,"round");this.width=n-this.x,this.width=Math.min(this.width,this.hcChart.plotLeft+this.hcChart.plotWidth-this.x),this.width=Math.max(this.width,this.axis.toPixels(1)-this.axis.toPixels(0)),this.positionResizeHandles("right")},emitSelectionEvent:function(){var e=this.axis,t=e.toValue(this.x)+this.axisValueOffset,n=e.toValue(this.x+this.width)-this.axisValueOffset;this.trigger("rangeSelect",[t,n])},createResizeHandles:function(){var n={zIndex:this.zIndex+1,fill:{linearGradient:{x1:0,y1:.5,x2:1,y2:.5},stops:[[0,this.handleBgColor],[1/6,this.handleBorderColor],[2/6,this.handleBgColor],[.5,this.handleBorderColor],[4/6,this.handleBgColor],[5/6,this.handleBorderColor],[1,this.handleBgColor]]},"stroke-width":2,stroke:this.handleBgColor},r={"stroke-width":2,stroke:this.handleBgColor,zIndex:this.zIndex},i={zIndex:this.zIndex,fill:this.shadedAreaColor},s=this.hcChart.plotTop+this.hcChart.plotHeight/2-this.handleHeight/2;this.shadedRegionRight=this.renderer.rect(0,this.hcChart.plotTop,0,this.hcChart.plotHeight).attr(i).add(),this.handleVerticalLineRight=this.renderer.path().attr(r).add(),this.resizeHandleRight=this.renderer.rect(0,s,this.handleWidth,this.handleHeight,this.handleBorderRadius).attr(n).css({cursor:"ew-resize"}).add(),this.shadedRegionLeft=this.renderer.rect(this.hcChart.plotLeft,this.hcChart.plotTop,0,this.hcChart.plotHeight).attr(i).add(),this.handleVerticalLineLeft=this.renderer.path().attr(r).add(),this.resizeHandleLeft=this.renderer.rect(0,s,this.handleWidth,this.handleHeight,this.handleBorderRadius).attr(n).css({cursor:"ew-resize"}).add(),this.positionResizeHandles("both"),this.$resetButton=e(t(this.resetButtonTemplate).template({})),this.$resetButton.on("click",function(e){e.preventDefault()}),this.$resetButton.css({top:this.hcChart.yAxis[0].top+"px",right:this.hcChart.xAxis[0].right+"px"}),this.$resetButton.appendTo(this.hcChart.container)},positionResizeHandles:function(e){var t=this.x,n=t+this.width,r=this.hcChart.plotTop,i=r+this.hcChart.plotHeight,s=this.hcChart.plotLeft,o=s+this.hcChart.plotWidth;if(e==="both"||e==="left")this.shadedRegionLeft.attr({width:t-s}),this.handleVerticalLineLeft.attr({d:["M",t,r,"L",t,i]}),this.resizeHandleLeft.attr({x:t-this.handleWidth/2});if(e==="both"||e==="right")this.shadedRegionRight.attr({x:n,width:o-n}),this.handleVerticalLineRight.attr({d:["M",n,r,"L",n,i]}),this.resizeHandleRight.attr({x:n-this.handleWidth/2})},getCurrentX:function(){return this.resizeHandleLeft.attr("x")+this.handleWidth/2},getCurrentWidth:function(){return this.resizeHandleRight.attr("x")+this.handleWidth/2-this.getCurrentX()},snapXValue:function(e,t){var n=this.axis,r=n.toValue(e);return n.toPixels(Math[t](r-this.axisValueOffset)+this.axisValueOffset)},updateExtremesValues:function(){this.startValue=Math.round(this.axis.toValue(this.x)-this.axisValueOffset),this.endValue=Math.round(this.axis.toValue(this.x+this.width)-this.axisValueOffset)},resetButtonTemplate:'<a class="btn-link btn-reset-selection" href="#"><i class="icon-minus-circle"></i><%= _("Reset").t() %></a>'}),i}),define("js_charting/components/PanButtons",["jquery","underscore","../helpers/EventMixin","../util/color_utils"],function(e,t,n,r){var i=function(e){this.hcChart=e,this.initialize()};return i.prototype=e.extend({},n,{initialize:function(){var n=this.hcChart.xAxis[0],r=n.getExtremes(),i='<a class="btn-pill btn-pan-left" href="#"><i class="icon-chevron-left"></i></a>',s='<a class="btn-pill btn-pan-right" href="#"><i class="icon-chevron-right"></i></a>';this.panRightButton||(this.panRightButton=e(s),(this.hcChart.xAxis[0].options.tickmarkPlacement==="between"&&r.max>=r.dataMax||this.hcChart.xAxis[0].options.tickmarkPlacement==="on"&&r.max>r.dataMax)&&this.panRightButton.addClass("disabled"),e(this.hcChart.container).append(this.panRightButton)),this.panLeftButton||(this.panLeftButton=e(i),r.min===0&&this.panLeftButton.addClass("disabled"),e(this.hcChart.container).append(this.panLeftButton));var o=this;this.debouncedPanLeft=t.debounce(function(){o.handlePan("left"),o.positionButtons()}),this.debouncedPanRight=t.debounce(function(){o.handlePan("right"),o.positionButtons()}),this.positionButtons(),this.bindPanListeners()},positionButtons:function(){var e=this.hcChart.legend.options,t=this.hcChart.plotHeight+this.hcChart.plotTop+4,n=this.hcChart.xAxis[0].left-20,r=this.hcChart.xAxis[0].right-(e.align==="right"?20:0);this.panRightButton.css({top:t+"px",right:r+"px"}),this.panLeftButton.css({top:t+"px",left:n+"px"})},handlePan:function(e){var t=this.hcChart.xAxis[0],n=t.getExtremes(),r=Math.round(n.min),i=Math.round(n.max),s,o,u,a,f;e==="left"?(a=n.dataMin,r>a&&(r===a+1&&this.panLeftButton.addClass("disabled"),this.panRightButton.hasClass("disabled")&&this.panRightButton.removeClass("disabled"),o=r-1,u=i-1,s=!0)):e==="right"&&(f=n.dataMax+(this.hcChart.xAxis[0].options.tickmarkPlacement==="between"?0:1),i<f&&(i===f-1&&this.panRightButton.addClass("disabled"),this.panLeftButton.hasClass("disabled")&&this.panLeftButton.removeClass("disabled"),o=r+1,u=i+1,s=!0)),t.setExtremes(o,u,!1,!1,{trigger:"pan"}),s&&this.hcChart.redraw(!1)},bindPanListeners:function(){var e=this,t,n=function(){t&&clearTimeout(t)},r=this.hcChart.xAxis[0],i,s,o;this.panLeftButton&&(this.panLeftButton.on("click",function(t){t.preventDefault(),e.debouncedPanLeft()}),this.panLeftButton.on("mousedown",function(r){n(),t=window.setInterval(function(){e.handlePan("left")},200)}),this.panLeftButton.on("mouseup",function(t){n(),i=r.getExtremes(),e.trigger("pan",[i.min,i.max])})),this.panRightButton&&(this.panRightButton.on("click",function(t){t.preventDefault(),e.debouncedPanRight()}),this.panRightButton.on("mousedown",function(r){n(),t=window.setInterval(function(){e.handlePan("right")},200)}),this.panRightButton.on("mouseup",function(t){n(),i=r.getExtremes(),e.trigger("pan",[i.min,i.max])}))},onChartResize:function(e){this.panLeftButton&&this.panRightButton&&this.positionButtons()},onChartRedraw:function(e){this.panLeftButton&&this.panRightButton&&this.positionButtons()},destroy:function(){this.panLeftButton&&(this.panLeftButton.remove(),this.panLeftButton=undefined),this.panRightButton&&(this.panRightButton.remove(),this.panRightButton=undefined),this.off()}}),i}),define("js_charting/components/ZoomOutButton",["jquery","underscore","../helpers/EventMixin","../util/color_utils"],function(e,t,n,r){var i=function(e){this.hcChart=e,this.initialize(),this.debouncedZoomOut=t.debounce(function(){e.zoomOut()})};return i.prototype=e.extend({},n,{initialize:function(){var n=this.hcChart.xAxis[0],r=n.getExtremes(),i='<a class="btn-pill btn-zoom-out" href="#"><i class="icon-minus-circle"></i>'+t("Reset Zoom").t()+"</a>";this.zoomOutBtn||(this.zoomOutBtn=e(i),e(this.hcChart.container).append(this.zoomOutBtn));var s=this.hcChart.yAxis[0].top,o=this.hcChart.xAxis[0].right;this.zoomOutBtn.css({top:s+"px",right:o+"px"}),this.addEventHandlers()},addEventHandlers:function(){var e=this;this.zoomOutBtn&&this.zoomOutBtn.on("click",function(t){t.preventDefault(),e.debouncedZoomOut()})},destroy:function(){this.zoomOutBtn&&(this.zoomOutBtn.remove(),this.zoomOutBtn=undefined),this.off()}}),i}),define("js_charting/series/Series",["jquery","underscore","../helpers/EventMixin","../helpers/Formatter","../util/color_utils","../util/parsing_utils"],function(e,t,n,r,i,s){var o=function(e){this.index=e.index,this.seriesName=e.series.name,this.name=e.name,this.y=e.y},u=function(e){this.properties=this.normalizeProperties(e||{}),this.processProperties(),this.id=t.uniqueId("series_"),this.data=[],this._isDirty=!1,this._dataIsDirty=!1,this.UNHIGHLIGHTED_COLOR=i.addAlphaToColor(this.UNHIGHLIGHTED_BASE_COLOR,this.UNHIGHLIGHTED_OPACITY)};return u.prototype=e.extend({},n,{STACK_MODE_MAP:{"default":null,stacked:"normal",stacked100:"percent"},CHART_PROPERTY_PREFIX_REGEX:/^chart\./,UNHIGHLIGHTED_OPACITY:.3,UNHIGHLIGHTED_BASE_COLOR:"rgb(150, 150, 150)",DEFAULT_STACK_MODE:null,CHARTING_PROPERTY_WHITELIST:[],normalizeProperties:function(n){var r=e.extend(!0,{},n);return t(r).each(function(e,n){if(this.CHART_PROPERTY_PREFIX_REGEX.test(n)){delete r[n];var i=n.replace(this.CHART_PROPERTY_PREFIX_REGEX,"");t(this.CHARTING_PROPERTY_WHITELIST).contains(i)&&(r[i]=e)}},this),r},processProperties:function(){},redraw:function(e){if(!this.hcSeries)return;this.isDirty()?this.hcSeries.update(this.getConfig(),e):this.dataIsDirty()&&this.hcSeries.setData(this.hasPrettyData?this.prettyData:this.data,e)},update:function(e){var n=this.properties;this.properties=this.normalizeProperties(e),t.isEqual(this.properties,n)||(this.processProperties(),this._isDirty=!0)},setData:function(e){var n=this.data;t(e.x).isUndefined()?this.data=e.y:this.data=t(e.x).map(function(t,n){return[t,e.y[n]]}),t.isEqual(this.data,n)||(this._dataIsDirty=!0)},getData:function(){return this.data},isDirty:function(){return this._isDirty},dataIsDirty:function(){return this._dataIsDirty},getXAxisIndex:function(){return this.properties.xAxis||0},getYAxisIndex:function(){return this.properties.yAxis||0},getName:function(){return this.properties.name},getLegendKey:function(){return this.properties.legendKey||this.getName()},getFieldList:function(){return[this.getName()]},matchesName:function(e){return e===this.getName()},applyColorMapping:function(e){var t=this.color;this.color=e[this.getName()],this.color!==t&&(this._isDirty=!0)},getColor:function(){return this.color},getStackMode:function(){return this.STACK_MODE_MAP[this.properties.stacking]||this.DEFAULT_STACK_MODE},getType:function(){return this.type},getConfig:function(){return{type:this.type,id:this.id,name:this.getName(),color:this.color,data:this.hasPrettyData?this.prettyData:this.data,xAxis:this.getXAxisIndex(),yAxis:this.getYAxisIndex(),stacking:this.getStackMode()}},onChartLoad:function(e){},onChartLoadOrRedraw:function(e){this.hcSeries=e.get(this.id),this.hcSeries.splSeries=this,this._isDirty=!1,this._dataIsDirty=!1,this.hcSeries.options.states.hover.enabled=!0,this.addEventHandlers(this.hcSeries),t(this.hcSeries.data).each(function(e,t){e&&(e.index=t)})},addEventHandlers:function(e){e.options.point.events=e.options.point.events||{};var t=this,n=e.options.point.events;n.mouseOver=function(e){var n=this,r=new o(n);t.trigger("mouseover",[r,t])},n.mouseOut=function(e){var n=this,r=new o(n);t.trigger("mouseout",[r,t])},s.normalizeBoolean(this.properties.clickEnabled)&&(n.click=function(e){var n=this,r=new o(n),i={type:"click",modifierKey:e.ctrlKey||e.metaKey};t.trigger(i,[r,t])})},destroy:function(){this.off(),this.hcSeries&&this.hcSeries.splSeries&&(this.hcSeries.splSeries=null),this.hcSeries=null},handlePointMouseOver:function(e){this.bringToFront()},handleLegendMouseOver:function(e){this.bringToFront(),this.highlight()},bringToFront:function(){this.hcSeries.group&&this.hcSeries.group.toFront(),this.hcSeries.trackerGroup&&this.hcSeries.trackerGroup.toFront()},estimateMaxColumnWidths:function(e,n,i){var s=new r(e.renderer),o=e.options.tooltip.style.fontSize.replace("px",""),u=-Infinity,a=-Infinity;return t.each(n,function(e){var t=s.predictTextWidth(e,o);t>u&&(u=t)}),t.each(i,function(e){var t=s.predictTextWidth(e,o);t>a&&(a=t)}),s.destroy(),{maxLeftColWidth:u,maxRightColWidth:a}},getLeftColData:function(e){return e.xAxisIsTime?[e.xValueDisplay,e.seriesName]:[e.xAxisName,e.seriesName]},getRightColData:function(e){return e.xAxisIsTime?[e.yValueDisplay]:[e.xValueDisplay,e.yValueDisplay]},getTooltipHtml:function(e,n){e.seriesName=this.getName(),e.seriesColor=this.getColor();var r=n.chartWidth-50,i=this.getLeftColData(e),s=this.getRightColData(e),o=this.estimateMaxColumnWidths(n,i,s),u=o.maxLeftColWidth/(o.maxLeftColWidth+o.maxRightColWidth);return u>.9?u=.9:u<.1&&(u=.1),e.scaledMaxLeftColWidth=u*r+"px",e.scaledMaxRightColWidth=(1-u)*r+"px",e.willWrap=o.maxLeftColWidth+o.maxRightColWidth>r,t(this.tooltipTemplate).template(e)},handlePointMouseOut:function(e){},handleLegendMouseOut:function(e){},highlight:function(){},unHighlight:function(){},tooltipTemplate:'            <table class="highcharts-tooltip"                <% if(willWrap) { %>                    style="word-wrap: break-word; white-space: normal;"                <% } %>>                <% if(xAxisIsTime) { %>                    <tr>                        <td style="text-align: left; color: #ffffff;" colpsan="2"><%- xValueDisplay %></td>                    </tr>                <% } else { %>                    <tr>                        <td style="text-align: left; color: #cccccc; max-width: <%= scaledMaxLeftColWidth %>;"><%- xAxisName %>:&nbsp;&nbsp;</td>                        <td style="text-align: right; color: #ffffff; max-width: <%= scaledMaxRightColWidth %>;"><%- xValueDisplay %></td>                    </tr>                <% } %>                    <tr>                        <td style="text-align: left; color:<%= seriesColor %>; max-width: <%= scaledMaxLeftColWidth %>;"><%- seriesName %>:&nbsp;&nbsp;</td>                        <td style="text-align: right; color: #ffffff; max-width: <%= scaledMaxRightColWidth %>;"><%- yValueDisplay %></td>                    </tr>            </table>        '}),u.Point=o,u}),define("js_charting/series/ManyShapeSeries",["jquery","underscore","highcharts","./Series","../util/lang_utils","../util/color_utils"],function(e,t,n,r,i,s){var o=function(e){r.call(this,e),this.UNHIGHLIGHTED_BORDER_COLOR=s.addAlphaToColor(this.UNHIGHLIGHTED_BORDER_BASE_COLOR,this.UNHIGHLIGHTED_OPACITY)};return i.inherit(o,r),e.extend(o.prototype,{CHARTING_PROPERTY_WHITELIST:t.union(["seriesSpacing"],r.prototype.CHARTING_PROPERTY_WHITELIST),UNHIGHLIGHTED_BORDER_BASE_COLOR:"rgb(200, 200, 200)",DEFAULT_COLUMN_SPACING:.01,DEFAULT_COLUMN_GROUP_SPACING:.05,DEFAULT_BAR_SPACING:.02,DEFAULT_BAR_GROUP_SPACING:.05,getConfig:function(){var e=r.prototype.getConfig.apply(this,arguments);return e.drawGraphOverride=t(this.drawGraphOverride).bind(this),e.drawTrackerOverride=t(this.drawTrackerOverride).bind(this),e.drawPointsOverride=t(this.drawPointsOverride).bind(this),e.getGraphPathOverride=t(this.getGraphPathOverride).bind(this),e},drawGraphOverride:function(e){n.seriesTypes.area.prototype.drawGraph.call(e)},drawTrackerOverride:function(e){n.seriesTypes.area.prototype.drawTracker.call(e)},drawPointsOverride:function(){},destroy:function(){this.unSelectPoint(),r.prototype.destroy.call(this)},getGraphPathOverride:function(e){return t(e.points).each(function(t){var n=t.shapeArgs,r=n.x||0,i=n.y||0,s=n.width||0,o=n.height||0;e.areaPath.push("M",r,i,"L",r+s,i,"L",r+s,i+o,"L",r,i+o,"Z")}),e.singlePoints=[],[]},handlePointMouseOver:function(e){r.prototype.handlePointMouseOver.call(this,e),this.unHighlight(),this.selectPoint(e)},handlePointMouseOut:function(e){r.prototype.handlePointMouseOut.call(this,e),this.highlight(),this.unSelectPoint()},highlight:function(){r.prototype.highlight.call(this);if(!this.hcSeries.area)return;var e=this.getColor();this.hcSeries.area.attr({fill:e,"stroke-width":0})},unHighlight:function(){r.prototype.unHighlight.call(this),this.unSelectPoint();if(!this.hcSeries.area)return;this.hcSeries.area.attr({fill:this.UNHIGHLIGHTED_COLOR,stroke:this.UNHIGHLIGHTED_BORDER_COLOR,"stroke-width":1})},selectPoint:function(e){var t=this.hcSeries.data[e.index],n=t.shapeArgs,r=this.hcSeries.chart.renderer,i=this.hcSeries.group;this.selectedPointGraphic=r.rect(n.x,n.y,n.width,n.height).attr({fill:this.getColor(),zIndex:1}).add(i)},unSelectPoint:function(){this.selectedPointGraphic&&(this.selectedPointGraphic.destroy(),this.selectedPointGraphic=null)},computeColumnSpacing:function(e){var n=parseFloat(e);return t(n).isNaN()?this.DEFAULT_COLUMN_SPACING:n*this.DEFAULT_COLUMN_SPACING},computeColumnGroupSpacing:function(e){var n=parseFloat(e);return t(n).isNaN()?this.DEFAULT_COLUMN_GROUP_SPACING:this.DEFAULT_COLUMN_GROUP_SPACING*(1+n)},computeBarSpacing:function(e){var n=parseFloat(e);return t(n).isNaN()?this.DEFAULT_BAR_SPACING:n*this.DEFAULT_BAR_SPACING},computeBarGroupSpacing:function(e){var n=parseFloat(e);return t(n).isNaN()?this.DEFAULT_BAR_GROUP_SPACING:this.DEFAULT_BAR_GROUP_SPACING*(1+n)}}),o}),define("js_charting/series/ColumnSeries",["jquery","underscore","./ManyShapeSeries","../util/lang_utils"],function(e,t,n,r){var i=function(e){n.call(this,e)};return r.inherit(i,n),e.extend(i.prototype,{CHARTING_PROPERTY_WHITELIST:t.union(["columnSpacing"],n.prototype.CHARTING_PROPERTY_WHITELIST),type:"column",getConfig:function(){var e=n.prototype.getConfig.call(this);return e.pointPadding=this.computeColumnSpacing(this.properties.columnSpacing),e.groupPadding=this.computeColumnGroupSpacing(this.properties.seriesSpacing),e},bringToFront:function(){}}),i}),define("js_charting/series/BarSeries",["jquery","underscore","./ManyShapeSeries","../util/lang_utils"],function(e,t,n,r){var i=function(e){n.call(this,e)};return r.inherit(i,n),e.extend(i.prototype,{CHARTING_PROPERTY_WHITELIST:t.union(["barSpacing"],n.prototype.CHARTING_PROPERTY_WHITELIST),type:"bar",getConfig:function(){var e=n.prototype.getConfig.call(this);return e.pointPadding=this.computeBarSpacing(this.properties.barSpacing),e.groupPadding=this.computeBarGroupSpacing(this.properties.seriesSpacing),e},bringToFront:function(){}}),i}),define("js_charting/series/SingleShapeSeries",["jquery","underscore","./Series","../util/lang_utils"],function(e,t,n,r){var i=function(e){n.call(this,e)};return r.inherit(i,n),e.extend(i.prototype,{CHARTING_PROPERTY_WHITELIST:t.union(["lineStyle","nullValueMode"],n.prototype.CHARTING_PROPERTY_WHITELIST),HIGHLIGHTED_OPACITY:1,getConfig:function(){var e=n.prototype.getConfig.call(this);return e.dashStyle=this.properties.lineStyle==="dashed"?"Dash":"Solid",e.pointPlacement="on",e.drawPointsPreHook=t(this.drawPointsPreHook).bind(this),e},handlePointMouseOver:function(e){n.prototype.handlePointMouseOver.call(this,e),this.highlight()},drawPointsPreHook:function(e){if(e.options.marker&&e.options.marker.enabled)return;var t,n,r=e.segments;for(t=0;t<r.length;t++)n=r[t],n.length===1&&n[0].update({marker:{enabled:!0,radius:4}},!1)}}),i}),define("js_charting/series/LineSeries",["jquery","underscore","./SingleShapeSeries","../util/lang_utils","../util/parsing_utils"],function(e,t,n,r,i){var s=function(e){n.call(this,e)};return r.inherit(s,n),e.extend(s.prototype,{CHARTING_PROPERTY_WHITELIST:t.union(["showMarkers"],n.prototype.CHARTING_PROPERTY_WHITELIST),type:"line",highlight:function(){n.prototype.highlight.call(this);if(this.hcSeries.graph){var e=this.getColor();this.hcSeries.graph.attr({stroke:e,"stroke-opacity":this.HIGHLIGHTED_OPACITY})}t(this.hcSeries.data).each(this.highlightPoint,this)},unHighlight:function(){n.prototype.unHighlight.call(this),this.hcSeries.graph&&this.hcSeries.graph.attr("stroke",this.UNHIGHLIGHTED_COLOR),t(this.hcSeries.data).each(this.unHighlightPoint,this)},highlightPoint:function(e){var t=this.getColor();e.graphic&&e.graphic.attr("fill",t)},unHighlightPoint:function(e){e.graphic&&e.graphic.attr("fill",this.UNHIGHLIGHTED_COLOR)},translatePostHook:function(){if(this.hcSeries){var e=this.hcSeries.chart,t=this.hcSeries.xAxis,n=this.hcSeries.points;if(Math.round(t.min)===Math.round(t.max)&&this.hcSeries.options.type==="line"){var r=!1,i=e.series;for(var s=0;s<e.series.length;s++)e.series[s].options.type==="column"&&(r=!0);if(r){var o=Math.round(t.min);n[o-1]&&(n[o-1].plotX=n[o].plotX-t.width),n[o+1]&&(n[o+1].plotX=n[o].plotX+t.width)}}}},getConfig:function(){var r=n.prototype.getConfig.call(this);return r.connectNulls=this.properties.nullValueMode==="connect",e.extend(r,{marker:{},stacking:this.STACK_MODE_MAP["default"],zIndex:2,translatePostHook:t(this.translatePostHook).bind(this),dashStyle:this.properties.dashStyle}),r.marker.enabled=i.normalizeBoolean(this.properties.showMarkers,!1),r}}),s}),define("js_charting/series/AreaSeries",["jquery","underscore","./SingleShapeSeries","../util/lang_utils","../util/color_utils","../util/parsing_utils","../util/math_utils"],function(e,t,n,r,i,s,o){var u=function(e){n.call(this,e),this.UNHIGHLIGHTED_LINE_COLOR=i.addAlphaToColor(this.UNHIGHLIGHTED_BASE_COLOR,this.UNHIGHLIGHTED_LINE_OPACITY)};return r.inherit(u,n),e.extend(u.prototype,{HIGHLIGHTED_OPACITY:.75,UNHIGHLIGHTED_LINE_OPACITY:.4,CHARTING_PROPERTY_WHITELIST:t.union(["showLines","areaFillOpacity"],n.prototype.CHARTING_PROPERTY_WHITELIST),type:"area",processProperties:function(){var e=o.parseFloat(this.properties.areaFillOpacity);this.fillOpacity=e<=1&&e>=0?e:this.HIGHLIGHTED_OPACITY},getConfig:function(){var e=n.prototype.getConfig.call(this);return e.fillOpacity=this.fillOpacity,e.connectNulls=this.properties.nullValueMode==="connect",e.lineWidth=s.normalizeBoolean(this.properties.showLines,!0)?1:0,e},onChartLoadOrRedraw:function(e){n.prototype.onChartLoadOrRedraw.call(this,e),this.hasLines=this.hcSeries.options.lineWidth>0,this.hcSeries.area.attr("fill-opacity",this.fillOpacity)},highlight:function(){n.prototype.highlight.call(this);var e=this.getColor();this.hcSeries.area.attr({fill:e,"fill-opacity":this.fillOpacity}),this.hcSeries.graph&&this.hasLines&&this.hcSeries.graph.attr({stroke:e,"stroke-opacity":1})},unHighlight:function(){n.prototype.unHighlight.call(this),this.hcSeries.area.attr("fill",this.UNHIGHLIGHTED_COLOR),this.hcSeries.graph&&this.hasLines&&this.hcSeries.graph.attr("stroke",this.UNHIGHLIGHTED_LINE_COLOR)}}),u}),define("js_charting/series/PieSeries",["jquery","underscore","./Series","./ManyShapeSeries","../util/lang_utils","../util/parsing_utils","../util/time_utils","util/time","splunk.i18n"],function(e,t,n,r,i,s,o,u,a){var f=function(e){r.call(this,e)};return i.inherit(f,r),e.extend(f.prototype,{CHARTING_PROPERTY_WHITELIST:t.union(["sliceCollapsingThreshold","sliceCollapsingLabel","showPercent"],r.prototype.CHARTING_PROPERTY_WHITELIST),type:"pie",hasPrettyData:!1,fieldList:[],processProperties:function(){this.collapseFieldName=this.properties.sliceCollapsingLabel||"other",this.collapsePercent=this.properties.hasOwnProperty("sliceCollapsingThreshold")?parseFloat(this.properties.sliceCollapsingThreshold):.01},getConfig:function(){return e.extend(r.prototype.getConfig.call(this),{translatePreHook:t(this.translatePreHook).bind(this)})},setData:function(e){var n=this.data;this.data=[],this.prettyData=[];var r=this,i=e.names,f=e.sizes,l=e.spans,c=e.isTimeBased,h=t(f).reduce(function(e,t){return e+t},0),p=f.length,d=0,v=0,m=0,g=null,y=function(e){return e>0&&e/h>r.collapsePercent};c&&(g=u.determineLabelGranularity(i),this.hasPrettyData=!0),this.fieldList=t(i).map(s.escapeSVG,s),t(f).each(function(e,t){y(f[t])||m++},this),t(i).each(function(e,n){var r=f[n];if(y(r)||m===1||p<=10)if(c){var i=u.extractBdTime(e),s=o.formatBdTimeAsAxisLabel(i,null,g).join(" "),a=l[n];this.data.push([e,r,a]),this.prettyData.push([s,r,a])}else this.data.push([e,r]);else d+=r,v++,this.fieldList=t(this.fieldList).without(e)},this);if(v>0){var b=this.collapseFieldName+" ("+v+")";this.data.push([b,d]),this.prettyData.push([b,d,null]),this.fieldList.push("__other")}s.normalizeBoolean(this.properties.showPercent)&&t([this.data,this.prettyData]).each(function(e){t(e).each(function(e){e[0]+=", "+a.format_percent(e[1]/h)})}),t.isEqual(this.data,n)||(this._dataIsDirty=!0)},getFieldList:function(){return this.fieldList},getData:function(){return this.data},getPrettyData:function(){return this.prettyData},handlePointMouseOver:function(e){n.prototype.handlePointMouseOver.call(this,e);var r=this.hcSeries.data[e.index];this.highlightPoint(r),t(this.hcSeries.data).chain().without(r).each(this.unHighlightPoint,this)},handlePointMouseOut:function(e){n.prototype.handlePointMouseOut.call(this,e);var r=this.hcSeries.data[e.index];t(this.hcSeries.data).chain().without(r).each(this.highlightPoint,this)},highlightPoint:function(e){var t=e.color;e.graphic.attr({fill:t,"stroke-width":0,stroke:t})},unHighlightPoint:function(e){if(!e.graphic)return;e.graphic.attr({fill:this.UNHIGHLIGHTED_COLOR,"stroke-width":1,stroke:this.UNHIGHLIGHTED_BORDER_COLOR})},getLeftColData:function(e){return[e.sliceFieldName,e.seriesName,e.seriesName+"%"]},getRightColData:function(e){return[e.sliceName,e.yValue,e.yPercent]},translatePreHook:function(e){var t=e.chart;e.options.dataLabels.enabled?e.options.size=Math.min(t.plotHeight*.75,t.plotWidth/3):e.options.size=Math.min(t.plotHeight*.75,t.plotWidth*.75)},tooltipTemplate:'            <table class="highcharts-tooltip"                <% if(willWrap) { %>                    style="word-wrap: break-word; white-space: normal;"                <% } %>>                <tr>                    <td style="text-align: left; color: #cccccc; max-width: <%= scaledMaxLeftColWidth %>;"><%- sliceFieldName %>:&nbsp;&nbsp;</td>                    <td style="text-align: right; color: #ffffff; max-width: <%= scaledMaxRightColWidth %>;"><%- sliceName %></td>                </tr>                <tr>                    <td style="text-align: left; color: <%= sliceColor %>; max-width: <%= scaledMaxLeftColWidth %>;"><%- seriesName %>:&nbsp;&nbsp;</td>                    <td style="text-align: right; color: #ffffff; max-width: <%= scaledMaxRightColWidth %>;"><%- yValue %></td>                </tr>                <tr>                    <td style="text-align: left; color: <%= sliceColor %>; max-width: <%= scaledMaxLeftColWidth %>;"><%- seriesName %>%:&nbsp;&nbsp;</td>                    <td style="text-align: right; color: #ffffff; max-width: <%= scaledMaxRightColWidth %>;"><%- yPercent %></td>                </tr>            </table>        '}),f}),define("js_charting/series/ScatterSeries",["jquery","underscore","highcharts","./ManyShapeSeries","../util/lang_utils"],function(e,t,n,r,i){var s=function(e){r.call(this,e)};return i.inherit(s,r),e.extend(s.prototype,{type:"scatter",getConfig:function(){var e=r.prototype.getConfig.apply(this,arguments);return e.pointActionsPreHook=t(this.pointActionsPreHook).bind(this),e.renderPostHook=t(this.renderPostHook).bind(this),e},getGraphPathOverride:function(e){var r,i="",s="select",o=e.chart,u=e.options.marker;return t(e.points).each(function(t){var a=Math.floor(t.plotX),f=t.plotY,l=t.marker||{},c=u.enabled&&l.enabled===r||l.enabled,h=o.isInsidePlot(Math.round(a),f,o.inverted);if(c&&f!==r&&!isNaN(f)&&t.y!==null){var p=t.pointAttr[t.selected?s:i],d=p.r,v=n.pick(l.symbol,e.symbol);if(h&&d>0){var m=o.renderer.symbols[v](a-d,f-d,2*d,2*d);e.areaPath.push.apply(e.areaPath,m)}}}),e.singlePoints=[],[]},renderPostHook:function(e){e.group&&e.group.toFront()},pointActionsPreHook:function(e,n){var r,i,s,o=e.chart,u=o.pointer,a=n.chartX-o.plotLeft,f=n.chartY-o.plotTop,l=e.options.marker.radius,c=5,h=l+c,p=u.getIndex(n);e._sortedPoints||(e._sortedPoints=t(e.points).sortBy("plotX"));var d,v,m=[],g=t(e._sortedPoints).sortedIndex({plotX:a-h},"plotX");for(r=g,i=e._sortedPoints.length;r<i;r++){d=e._sortedPoints[r],v=d.plotX;if(!(v<=a+h))break;m.push(d)}m.length===1?s=m[0]:s=t(m).min(function(e){return Math.abs(e.plotY-f)}),e.tooltipPoints=e.tooltipPoints||[],e.tooltipPoints[p]=s},selectPoint:function(t){var n=this.hcSeries.data[t.index],r=n.series;r.stateMarkerGraphic&&(this.selectedPointGraphic=r.stateMarkerGraphic,r.stateMarkerGraphic=null,e(this.selectedPointGraphic.element).insertBefore(r.tracker.element))},getLeftColData:function(e){return[e.labelSeriesName,e.xAxisName,e.yAxisName]},getRightColData:function(e){return[e.seriesName,e.xValue,e.yValue]},tooltipTemplate:'            <table class="highcharts-tooltip"                <% if(willWrap) { %>                    style="word-wrap: break-word; white-space: normal;"                <% } %>>                <% if(isMultiSeries) { %>                    <tr>                        <td style="text-align: left; color: #cccccc; max-width: <%= scaledMaxLeftColWidth %>;"><%- labelSeriesName %>:&nbsp;&nbsp;</td>                        <td style="text-align: right; color: <%= seriesColor %>; max-width: <%= scaledMaxRightColWidth %>;"><%- seriesName %></td>                    </tr>                <% } %>                <% if(markName) { %>                    <tr>                        <td style="text-align: left; color: #cccccc; max-width: <%= scaledMaxLeftColWidth %>;"><%- markName %>:&nbsp;&nbsp;</td>                        <td style="text-align: right; color: #ffffff; max-width: <%= scaledMaxRightColWidth %>;"><%- markValue %></td>                    </tr>                <% } %>                <tr>                    <td style="text-align: left; color: #cccccc; max-width: <%= scaledMaxLeftColWidth %>;"><%- xAxisName %>:&nbsp;&nbsp;</td>                    <td style="text-align: right; color: #ffffff; max-width: <%= scaledMaxRightColWidth %>;"><%- xValue %></td>                </tr>                <tr>                    <td style="text-align: left; color: #cccccc; max-width: <%= scaledMaxLeftColWidth %>;"><%- yAxisName %>:&nbsp;&nbsp;</td>                    <td style="text-align: right; color: #ffffff; max-width: <%= scaledMaxRightColWidth %>;"><%- yValue %></td>                </tr>            </table>        '}),s}),define("js_charting/series/MultiSeries",["jquery","underscore","./Series","../util/lang_utils"],function(e,t,n,r){var i=function(e){n.call(this,e),this.nestedSeriesList=[]};return r.inherit(i,n),e.extend(i.prototype,{normalizeProperties:function(e){return e},isDirty:function(){return t(this.nestedSeriesList).any(function(e){return e.isDirty()})},dataIsDirty:function(){return t(this.nestedSeriesList).any(function(e){return e.dataIsDirty()})},getFieldList:function(){return t(this.nestedSeriesList).invoke("getFieldList")},applyColorMapping:function(e){t(this.nestedSeriesList).invoke("applyColorMapping",e)},matchesName:function(e){return t(this.nestedSeriesList).any(function(t){return t.matchesName(e)})},getConfig:function(){return t(this.nestedSeriesList).invoke("getConfig")},bindNestedSeries:function(){var e=this;t(this.nestedSeriesList).each(function(t){t.on("mouseover",function(t,n,r){e.trigger(t,[n,r])}),t.on("mouseout",function(t,n,r){e.trigger(t,[n,r])}),t.on("click",function(t,n,r){e.trigger(t,[n,r])})})},handlePointMouseOver:function(e){var n=e.seriesName;t(this.nestedSeriesList).each(function(t){t.matchesName(n)?t.handlePointMouseOver(e):t.unHighlight()})},handlePointMouseOut:function(e){var n=e.seriesName;t(this.nestedSeriesList).each(function(t){t.matchesName(n)?t.handlePointMouseOut(e):t.highlight()})},handleLegendMouseOver:function(e){t(this.nestedSeriesList).each(function(t){t.matchesName(e)?t.handleLegendMouseOver(e):t.unHighlight()})},handleLegendMouseOut:function(e){t(this.nestedSeriesList).each(function(t){t.matchesName(e)?t.handleLegendMouseOut(e):t.highlight()})},onChartLoad:function(e){t(this.nestedSeriesList).invoke("onChartLoad",e)},onChartLoadOrRedraw:function(e){t(this.nestedSeriesList).invoke("onChartLoadOrRedraw",e)},redraw:function(e){t(this.nestedSeriesList).invoke("redraw",e)},destroy:function(){this.off(),t(this.nestedSeriesList).invoke("destroy")},bringToFront:function(){t(this.nestedSeriesList).invoke("bringToFront")},highlight:function(){t(this.nestedSeriesList).invoke("highlight")},unHighlight:function(){t(this.nestedSeriesList).invoke("unHighlight")}}),i}),define("js_charting/series/RangeSeries",["jquery","underscore","./AreaSeries","./LineSeries","./MultiSeries","../util/lang_utils"],function(e,t,n,r,i,s){var o=function(e){this.threshold=0,n.call(this,e)};s.inherit(o,n),e.extend(o.prototype,{HIGHLIGHTED_OPACITY:0,UNHIGHLIGHTED_OPACITY:0,UNHIGHLIGHTED_LINE_OPACITY:.25,normalizeProperties:function(t){return e.extend({},n.prototype.normalizeProperties.apply(this,arguments),{lineStyle:"dashed",stacking:"stacked"})},setData:function(e){n.prototype.setData.call(this,e);var r=t(e.y).min(),i=this.threshold;this.threshold=Math.min(r,0),this.threshold!==i&&(this._isDirty=!0)},getConfig:function(){var e=n.prototype.getConfig.call(this);return e.showInLegend=!1,e.threshold=this.threshold,e}});var u=function(e){n.call(this,e)};s.inherit(u,n),e.extend(u.prototype,{HIGHLIGHTED_OPACITY:.25,UNHIGHLIGHTED_OPACITY:.1,UNHIGHLIGHTED_LINE_OPACITY:.25,normalizeProperties:function(t){return e.extend({},n.prototype.normalizeProperties.apply(this,arguments),{lineStyle:"dashed",stacking:"stacked"})},getConfig:function(){var e=n.prototype.getConfig.call(this);return e.showInLegend=!1,e}});var a=function(e){i.call(this,e),this.rangeStackId=t.uniqueId("rangeStack_"),this.predictedSeries=new r(this.getPredictedSeriesProperties()),this.lowerSeries=new o(this.getLowerSeriesProperties()),this.upperSeries=new u(this.getUpperSeriesProperties()),this.nestedSeriesList=[this.upperSeries,this.lowerSeries,this.predictedSeries],this.bindNestedSeries()};return s.inherit(a,i),e.extend(a.prototype,{type:"range",update:function(e){this.properties=this.normalizeProperties(e),this.predictedSeries.update(this.getPredictedSeriesProperties()),this.lowerSeries.update(this.getLowerSeriesProperties()),this.upperSeries.update(this.getUpperSeriesProperties())},setData:function(e){this.predictedSeries.setData({y:e.predicted,x:e.x}),this.lowerSeries.setData({y:e.lower,x:e.x}),e.upper=t(e.upper).map(function(n,r){if(t(n).isNull())return null;var i=n-e.lower[r];return Math.max(i,0)}),this.upperSeries.setData({y:e.upper,x:e.x})},getPredictedSeriesProperties:function(){return this.properties},getLowerSeriesProperties:function(){return e.extend({},this.properties,{name:this.properties.names.lower,legendKey:this.predictedSeries.getLegendKey(),stack:this.rangeStackId})},getUpperSeriesProperties:function(){return e.extend({},this.properties,{name:this.properties.names.upper,legendKey:this.predictedSeries.getLegendKey(),stack:this.rangeStackId})},getFieldList:function(){return this.predictedSeries.getFieldList()},applyColorMapping:function(e){this.predictedSeries.applyColorMapping(e);var t=this.predictedSeries.getColor(),n={},r={};n[this.lowerSeries.getName()]=t,this.lowerSeries.applyColorMapping(n),r[this.upperSeries.getName()]=t,this.upperSeries.applyColorMapping(r)},handlePointMouseOver:function(e){this.bringToFront(),this.highlight()},handlePointMouseOut:function(e){},handleLegendMouseOver:function(e){this.bringToFront(),this.highlight()},handleLegendMouseOut:function(e){}}),a}),define("js_charting/series/series_factory",["./ColumnSeries","./BarSeries","./LineSeries","./AreaSeries","./PieSeries","./ScatterSeries","./RangeSeries"],function(e,t,n,r,i,s,o){return{create:function(u){return u.type==="column"?new e(u):u.type==="bar"?new t(u):u.type==="line"?new n(u):u.type==="area"?new r(u):u.type==="pie"?new i(u):u.type==="scatter"?new s(u):u.type==="range"?new o(u):new e(u)}}}),define("js_charting/util/testing_utils",["jquery","underscore","splunk","./dom_utils"],function(e,t,n,r){var i=function(t,n,r){var i=t.series[n],s=i.type,o=i.data[r],u=e(t.container).offset();if(s in{line:!0,area:!0,scatter:!0})return t.inverted?{x:i.yAxis.translate(o.y)+u.left+t.plotLeft,y:t.plotHeight+t.plotTop+u.top-i.xAxis.translate(o.x)}:{x:o.plotX+u.left+t.plotLeft,y:o.plotY+u.top+t.plotTop};if(s==="column"){var a=o.shapeArgs;return{x:o.plotX+u.left+t.plotLeft,y:o.plotY+u.top+t.plotTop+a.height/2}}if(s==="bar")return{x:u.left+t.plotLeft+t.plotWidth-o.shapeArgs.y-o.shapeArgs.height/2,y:u.top+t.plotTop+t.plotHeight-i.xAxis.translate(o.x)-i.barW/2-i.pointXOffset};if(s==="pie"){var f=i.center[0],l=i.center[1],c=o.labelPos[0],h=o.labelPos[1];return{x:(f+c)/2+u.left+t.plotLeft,y:(l+h)/2+u.top+t.plotTop}}return{}},s=function(n,r,s){n.$container.addClass("highcharts-wrapper"),n.$container.attr("id")||n.$container.attr("id",n.id);var c=n.hcChart;e(c.container).addClass(s),o(c),u(c),c.options.legend.enabled&&l(c);if(c.tooltip&&c.tooltip.refresh){var h=c.tooltip.refresh,p=t.find(r,function(e){return e==="_time"})==="_time"?f:a;c.tooltip.refresh=function(e){h.call(c.tooltip,e),p(c)}}c.getPointCoordinates=t(i).bind(null,c)},o=function(t){var n=this,i,s;e(".highcharts-series",e(t.container)).each(function(n,o){i=t.series[n].name,e(o).attr("id",i+"-series"),r.hasSVG?s=e("rect, path",e(o)):s=e("shape",e(o)),s.each(function(e,t){c(t,"spl-display-object")})})},u=function(n){var i,s;t(n.xAxis).each(function(e){var t=n.inverted?"vertical-axis":"horizontal-axis";c(e.axisGroup.element,t),c(e.labelGroup.element,t)}),t(n.yAxis).each(function(e){var t=n.inverted?"horizontal-axis":"vertical-axis";c(e.axisGroup.element,t),c(e.labelGroup.element,t)}),e(".highcharts-axis, .highcharts-axis-labels",e(n.container)).each(function(t,n){r.hasSVG?i=e("text",e(n)):i=e("span",e(n)),i.each(function(e,t){c(t,"spl-text-label")})});var o=function(e){t(e.ticks).each(function(e){e.mark&&e.mark.element&&c(e.mark.element,"highcharts-axis-tickmark")})};for(s=0;s<n.xAxis.length;s++)n.xAxis[s].axisTitle&&c(n.xAxis[s].axisTitle.element,"x-axis-title"),o(n.xAxis[s]);for(s=0;s<n.yAxis.length;s++)n.yAxis[s].axisTitle&&c(n.yAxis[s].axisTitle.element,"y-axis-title"),o(n.yAxis[s])},a=function(t){var n,i,s,o,u,a,f=e(".highcharts-tooltip"),l=e("tr",f);for(n=0;n<l.length;n++)a=e("td",l[n]),i=(r.hasSVG?l[n].textContent:l[n].innerText).split(":"),e(a[0]).addClass("key"),e(a[0]).addClass(h(i[0]+"-key")),e(a[1]).addClass("value"),e(a[1]).addClass(h(i[0]+"-value"))},f=function(t){var n=this,r,i,s,o,u,a,f=e(".highcharts-tooltip"),l=e("tr",f);for(r=0;r<l.length;r++)a=e("td",l[r]),r===0?(e(a[0]).addClass("time-value"),e(a[0]).addClass("time")):(i=l[r].textContent.split(":"),e(a[0]).addClass("key"),e(a[0]).addClass(h(i[0]+"-key")),e(a[1]).addClass("value"),e(a[1]).addClass(h(i[0]+"-value")))},l=function(t){var n=this,i;e(t.series).each(function(t,n){if(!n.legendItem)return;i=r.hasSVG?n.legendItem.textStr:e(n.legendItem.element).html(),n.legendSymbol&&(c(n.legendSymbol.element,"symbol"),c(n.legendSymbol.element,i+"-symbol")),n.legendLine&&(c(n.legendLine.element,"symbol"),c(n.legendLine.element,i+"-symbol")),n.legendItem&&c(n.legendItem.element,"legend-label")})},c=function(t,n){n=h(n);if(n==="")return;r.hasSVG?t.className.baseVal?t.className.baseVal+=" "+n:t.className.baseVal=n:e(t).addClass(n)},h=function(e){return e=e.replace(/\s/g,""),/^[-]?[A-Za-z]/.test(e)?e.replace(/[^A-Za-z0-9_-]/g,""):""},p=function(t,n,r,i){t.$container.attr("id")||t.$container.attr("id",t.id);var s=t.$hcContainer;s.addClass(r),d(s,i),n.valueDisplay&&c(n.valueDisplay.element,"gauge-value");var o;for(o in n)/^tickLabel_/.test(o)&&c(n[o].element,"gauge-tick-label");for(o in n)/^colorBand/.test(o)&&c(n[o].element,"gauge-color-band");e(".gauge-color-band").each(function(){e(this).attr("data-band-color",e(this).attr("fill"))}),n.fill&&e(n.fill.element).attr("data-indicator-color",e(n.fill.element).attr("fill")),n.needle&&c(n.needle.element,"gauge-indicator"),n.markerLine&&c(n.markerLine.element,"gauge-indicator")},d=function(e,t){e.attr("data-gauge-value",t)},v=function(e,t){n.JSCharting=n.JSCharting||{},n.JSCharting.chartByIdMap=n.JSCharting.chartByIdMap||{};var r=e.$container.attr("id");n.JSCharting.chartByIdMap[r]=t};return{initializeTestingMetaData:s,gaugeAddTestingMetadata:p,createGlobalReference:v,getPointCoordinates:i}}),define("js_charting/util/async_utils",["jquery","underscore"],function(e,t){var n={};return n.CANCELLED="cancelled",n.requestFrame=t(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,50)}}()).bind(window),n.cancelFrame=t(function(){return window.cancelAnimationFrame||window.mozCancelAnimationFrame||function(e){window.clearTimeout(e)}}()).bind(window),n.asyncEach=function(t,r){var i,s=!1,o=t.length,u=e.Deferred(),a=function(e){if(s)return;r(t[e],e),e<o-1?i=n.requestFrame(function(){a(e+1)}):u.resolve()};return u.cancel=function(){s=!0,i&&(n.cancelFrame(i),u.reject(n.CANCELLED))},a(0),u},n}),define("js_charting/visualizations/charts/Chart",["jquery","underscore","highcharts","../Visualization","../../components/ColorPalette","../../components/axes/TimeAxis","../../components/axes/CategoryAxis","../../components/axes/NumericAxis","../../components/Legend","../../components/Tooltip","../../components/SelectionWindow","../../components/PanButtons","../../components/ZoomOutButton","../../helpers/HoverEventThrottler","../../series/series_factory","splunk.util","../../util/lang_utils","../../util/testing_utils","../../util/parsing_utils","../../util/color_utils","../../util/time_utils","../../util/dom_utils","../../util/async_utils","helpers/user_agent","util/console"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T){var N=function(e,t){r.call(this,e,t)};return m.inherit(N,r),e.extend(N.prototype,{HOVER_DELAY:160,EXPORT_WIDTH:600,EXPORT_HEIGHT:400,PROGRESSIVE_DRAW_THRESHOLD:x.isIELessThan(9)?100:1e3,hasLegend:!0,hasTooltip:!0,hasXAxis:!0,hasYAxis:!0,requiresExternalColors:!0,externalPaletteMapping:{},externalPaletteSize:0,prepare:function(e,n){var i=this.isEmpty();r.prototype.prepare.call(this,e,n),this.benchmark("Prepare Started"),this.initializeFields(),this.isiOS=x.isiOS();var s=this.isEmpty();s!==i&&(this._isDirty=!0),this.shouldUpdateInPlace()?(this.updateSeriesProperties(),this.updateAxisProperties(),s||this.setAllSeriesData()):(s||this.initializeColorPalette(),this.initializeSeriesList(),this.axesAreInverted=t(this.seriesList).any(function(e){return e.getType()==="bar"}),this.hasXAxis&&this.initializeXAxisList(),this.hasYAxis&&this.initializeYAxisList(),s?(this.legend&&(this.legend.destroy(),this.legend=null),this.tooltip&&(this.tooltip.destroy(),this.tooltip=null)):(this.hasLegend&&this.initializeLegend(),this.hasTooltip&&this.initializeTooltip(),this.setAllSeriesData(),this.bindSeriesEvents()))},getFieldList:function(){return t(this.seriesList).chain().invoke("getFieldList").flatten(!0).compact().value()},setExternalColorPalette:function(t,n){this.externalPaletteMapping=e.extend({},t),this.externalPaletteSize=n},handleDraw:function(r){T.debug("drawing a chart with dimensions:",{width:this.width,height:this.height}),T.debug("drawing a chart with properties:",this.properties),T.debug("drawing a chart with data:",this.dataSet.toJSON()),this.benchmark("Draw Started"),this.applyColorPalette(),this.cancelPendingDraw();if(this.shouldUpdateInPlace()){this.redrawInPlace(r);return}this.hcConfig=this.getConfig(),T.debug("config object to be sent to highcharts:",this.hcConfig),this.hcChart&&this.hcChart.destroy(),this.shouldProgressiveDraw()&&(this.hcConfig.firstRenderOverride=t(this.firstRenderOverride).bind(this),this.hcConfig.renderOverride=t(this.renderOverride).bind(this));var i=this;new n.Chart(this.hcConfig,function(t){i.hcChart=t,i.testMode&&(g.initializeTestingMetaData(i,i.xFields,i.getClassName()),g.createGlobalReference(i,t)),e(n).on("baseUriChange."+i.id,function(){i.$container.find("[clip-path]").each(function(){var t=e(this),n=t.attr("clip-path");t.removeAttr("clip-path"),t.attr("clip-path",n)})}),i.addEventHandlers(t),i.onChartLoad(t),i.onChartLoadOrRedraw(t),i.hasTooltip&&!i.isEmpty()&&i.enableTooltip(t),i.benchmark("Draw Finished"),r(i,i.benchmarks)})},redrawInPlace:function(e){T.log("in place redraw!");if(!this.hcChart)throw new Error("Cannot call redrawInPlace if chart does not already exist");t(this.seriesList).invoke("redraw",!1);var n=this.hcChart.series,r=this.getSeriesConfigList();n.length>r.length?t(n.slice(r.length)).invoke("remove",!1):n.length<r.length&&t(r.slice(n.length)).each(function(e){this.hcChart.addSeries(e,!1,!1)},this);var i,s,o=this.xAxisList[0],u=o.isZoomed;u?(i=this.hcChart.xAxis[0].getExtremes(),i.max-=o.hasTickmarksBetween()?0:1):this.selectionWindow&&(i=this.selectionWindow.getExtremes(),i.min+=o.hasTickmarksBetween()?1:0),i&&(s=this.calculatePostUpdateExtremes(i)),t(this.xAxisList).invoke("redraw",!1),u?s.min===null||s.max===null?this.hcChart.xAxis[0].zoom():(s.max+=o.hasTickmarksBetween()?0:1,this.hcChart.xAxis[0].zoom(s.min,s.max)):this.selectionWindow&&(s.max===null?(this.selectionWindow.destroy(),this.selectionWindow=null):(s.min=(s.min||0)-(o.hasTickmarksBetween()?1:0),this.selectionWindow.setExtremes(s))),this.hcChart.redraw(),this.benchmark("Series Redraw Finished"),e(this,this.benchmarks)},cancelPendingDraw:function(){this.pendingDraw&&this.pendingDraw.state()==="pending"&&this.pendingDraw.cancel()},setSize:function(e,t){var n=this.hcChart.xAxis[0];if(!this.hcChart)return;n&&this.xAxisList[0].isZoomed&&(n.userMin=n.userMin||n.oldUserMin,n.userMax=n.userMax||n.oldUserMax),this.hcChart.setSize(e,t,!1)},destroy:function(){this.cancelPendingDraw(),this.hcChart&&(this.onChartDestroy(),this.hcChart.destroy(),this.hcChart=null)},getSVG:function(){var t=this.hcChart;this.hcConfig.legend.enabled&&(this.exportMode&&t.type!=="scatter"&&e(t.series).each(function(e,t){if(!t.legendSymbol)return!1;t.legendSymbol.attr({height:8,translateY:4}),t.area&&parseFloat(t.area.attr("fill-opacity"))===0&&(t.area.destroy(),delete t.area)}),t.legend.nav&&t.legend.nav.destroy());var n=e(".highcharts-container").find("svg");return n.siblings().remove(),n.find(".highcharts-tracker").remove(),n.find(".highcharts-legend g[clip-path]").each(function(){e(this).removeAttr("clip-path")}),n.parent().html()},processProperties:function(){r.prototype.processProperties.call(this),this.properties.hasOwnProperty("drilldown")?this.chartClickEnabled=this.legendClickEnabled=this.properties.drilldown==="all":(this.properties.hasOwnProperty("chart.clickEnabled")?this.chartClickEnabled=y.normalizeBoolean(this.properties["chart.clickEnabled"]):this.chartClickEnabled=y.normalizeBoolean(this.properties.enableChartClick),this.properties.hasOwnProperty("chart.legend.clickEnabled")?this.legendClickEnabled=y.normalizeBoolean(this.properties["chart.legend.clickEnabled"]):this.legendClickEnabled=y.normalizeBoolean(this.properties.enableLegendClick)),this.properties["legend.placement"]==="none"&&(this.hasLegend=!1);if(this.hasXAxis||this.hasYAxis)this.axisColorScheme={"axis.foregroundColorSoft":this.foregroundColorSoft,"axis.foregroundColorSofter":this.foregroundColorSofter,"axis.fontColor":this.fontColor};this.properties.hasOwnProperty("legend.masterLegend")&&(!this.properties["legend.masterLegend"]||e.trim(this.properties["legend.masterLegend"])==="null")&&(this.requiresExternalColors=!1),this.stackMode=this.properties["chart.stackMode"]||"default",this.legendLabels=y.stringToArray(this.properties["legend.labels"]||"[]"),this.showHideMode=this.properties["data.fieldListMode"]==="show_hide",this.fieldHideList=t.union(this.properties.fieldHideList||[],y.stringToArray(this.properties["data.fieldHideList"])||[]),this.fieldShowList=y.stringToArray(this.properties["data.fieldShowList"])||[];var n=this.properties["chart.seriesColors"]||this.properties.seriesColors;this.seriesColors=y.stringToHexArray(n)||null;var i=this.properties["chart.fieldColors"]||this.properties.fieldColors;this.internalFieldColors=y.stringToObject(i||"{}"),t(this.internalFieldColors).each(function(e,n){var r=parseInt(e,16);this.internalFieldColors[n]=t(r).isNaN()?0:r},this),this.overlayFields=v.stringToFieldList(this.properties["chart.overlayFields"]),this.seriesTypeMapping={},t(this.overlayFields).each(function(e){this.seriesTypeMapping[e]="line"},this),this.yAxisMapping={};var s=y.normalizeBoolean(this.properties["axisY2.enabled"]);if(s){var o=this.properties["axisY2.fields"]?v.stringToFieldList(this.properties["axisY2.fields"]):this.overlayFields;t(o).each(function(e){this.yAxisMapping[e]=1},this)}this.enableAnimation=y.normalizeBoolean(this.properties.enableAnimation,!1);var u=["x","y","xy","off"];t(u).indexOf(this.properties.zoomType)!==-1&&(this.zoomType=this.properties.zoomType)},firstRenderOverride:function(e){this.hcChart=e;var t=window.HighchartsAdapter,r=e.options,i=e.callback;if(!e.isReadyToRender())return;e.getContainer(),t.fireEvent(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),t.each(r.series||[],function(t){e.initSeries(t)}),e.linkSeries(),t.fireEvent(e,"beforeRender"),e.pointer=new n.Pointer(e,r),e.render(function(){e.renderer.draw(),i&&i.apply(e,[e]),t.each(e.callbacks,function(t){t.apply(e,[e])}),e.cloneRenderTo(!0),t.fireEvent(e,"load")})},renderOverride:function(e,t){var r=window.HighchartsAdapter,i=e.axes,s=e.renderer,o=e.options,u=o.labels,a=o.credits,f;e.setTitle(),e.legend=new n.Legend(e,o.legend),e.getStacks(),r.each(i,function(e){e.setScale()}),e.getMargins(),e.maxTicks=null,r.each(i,function(e){e.setTickPositions(!0),e.setMaxTicks()}),e.adjustTickAmounts(),e.getMargins(),e.drawChartBox(),e.hasCartesianSeries&&r.each(i,function(e){e.render()}),e.seriesGroup||(e.seriesGroup=s.g("series-group").attr({zIndex:3}).add()),this.pendingDraw=S.asyncEach(e.series,function(e){e.translate(),e.setTooltipPoints(),e.render()}),this.pendingDraw.done(function(){u.items&&r.each(u.items,function(t){var n=r.extend(u.style,t.style),i=r.pInt(n.left)+e.plotLeft,o=r.pInt(n.top)+e.plotTop+12;delete n.left,delete n.top,s.text(t.html,i,o).attr({zIndex:2}).css(n).add()}),a.enabled&&!e.credits&&(f=a.href,e.credits=s.text(a.text,0,0).on("click",function(){f&&(window.location.href=f)}).attr({align:a.position.align,zIndex:8}).css(a.style).add().align(a.position)),e.hasRendered=!0,t()})},initializeFields:function(){var n=this.dataSet.allDataFields();this.xFields=[n[0]];if(this.isRangeSeriesMode()){var r=this.getRangeSeriesConfig();n=t(n).without(r.lower,r.upper)}this.yFields=t(n).difference(this.xFields);var i=e.extend([],this.fieldShowList),s=e.extend([],this.fieldHideList),o=t.intersection(i,s);this.showHideMode?s=t.difference(s,o):i=t.difference(i,o),this.yFields=t.difference(this.yFields,s),i.length>0&&(this.yFields=t.intersection(this.yFields,i)),this.legendLabels.length>0&&(this.yFields=t.union(this.legendLabels,this.yFields))},isEmpty:function(){return!this.yFields||this.yFields.length===0},shouldProgressiveDraw:function(){if(this.isEmpty())return!1;var e=this.yFields.length*this.dataSet.getSeries(this.yFields[0]).length;return e>this.PROGRESSIVE_DRAW_THRESHOLD},shouldUpdateInPlace:function(){return this.hcChart&&!this.isDirty()},initializeColorPalette:function(){this.colorPalette=new i(this.seriesColors)},initializeSeriesList:function(){this.seriesList=t(this.initializeSeriesPropertiesList()).map(function(e){return d.create(e)})},updateSeriesProperties:function(){var e=this.initializeSeriesPropertiesList();this.seriesList.length>e.length?this.seriesList=t(this.seriesList).filter(function(t,n){return n>=e.length?(t.destroy(),!1):(t.update(e[n]),!0)},this):this.seriesList.length<=e.length&&(this.seriesList=t(e).map(function(e,t){if(t<this.seriesList.length)return this.seriesList[t].update(e),this.seriesList[t];var n=d.create(e);return this.bindIndividualSeries(n),n},this))},initializeSeriesPropertiesList:function(){if(this.isEmpty())return[{type:this.type}];var n,r=this.isRangeSeriesMode(),i=this.getDashStyle();return r&&(n=this.getRangeSeriesConfig().predicted),t(this.yFields).map(function(t){var s;n&&n===t?s="range":this.seriesTypeMapping.hasOwnProperty(t)&&(s=this.seriesTypeMapping[t]);var o=e.extend(!0,{},this.properties,{type:s||this.type,name:t,stacking:r?"default":this.stackMode,clickEnabled:this.chartClickEnabled,dashStyle:i});return s==="range"&&(o.names=this.getRangeSeriesConfig()),this.yAxisMapping[t]&&(o.yAxis=this.yAxisMapping[t]),o},this)},initializeXAxisList:function(){var n=this.isEmpty();this.xAxisList=t(this.xFields).map(function(r,i){var u=t(this.seriesList).any(function(e){return e.getXAxisIndex()===i&&{column:!0,bar:!0}.hasOwnProperty(e.getType())}),a=e.extend(y.getXAxisProperties(this.properties),this.axisColorScheme,{"axis.orientation":this.axesAreInverted?"vertical":"horizontal","axisLabels.tickmarkPlacement":u?"between":"on",isEmpty:n});return a["axisTitle.text"]||(a["axisTitle.text"]=r),this.seriesIsTimeBased(r)?(a["axis.spanData"]=this.dataSet.getSeriesAsFloats("_span"),a["axis.categories"]=this.dataSet.getSeriesAsTimestamps(r),new s(a)):(a["axis.categories"]=this.dataSet.getSeries(r),new o(a))},this)},initializeYAxisList:function(){var e=this,n=this.isEmpty();this.yAxisList=[];var r=t(this.seriesList).chain().invoke("getYAxisIndex").max().value();t(r+1).times(function(t){e._initializeYAxis(t,n)})},_initializeYAxis:function(e,n){var r=this.initializeYAxisProperties(e,n);if(!r["axisTitle.text"]){var i=t(this.seriesList).filter(function(t){return t.getYAxisIndex()===e});i.length===1&&(r["axisTitle.text"]=i[0].getName())}this.stackMode!=="default"&&(r["axis.scale"]="linear"),this.yAxisList.push(new u(r))},initializeYAxisProperties:function(t,n){var r=e.extend(y.getYAxisProperties(this.properties,t),this.axisColorScheme,{"axis.orientation":this.axesAreInverted?"horizontal":"vertical",isEmpty:n});return r},updateAxisProperties:function(){if(this.hasXAxis){var e=this.xAxisList[0],t=this.xFields[0];e.constructor===o?e.setCategories(this.dataSet.getSeries(t)):e.constructor===s&&e.setCategories(this.dataSet.getSeriesAsTimestamps(t),this.dataSet.getSeriesAsFloats("_span"))}},initializeLegend:function(){var n=y.getLegendProperties(this.properties);t(n.clickEnabled).isUndefined()&&(n.clickEnabled=this.legendClickEnabled),e.extend(n,{fontColor:this.fontColor}),this.legend=new a(n);var r=this,i={highlightDelay:125,unhighlightDelay:50,onMouseOver:function(e){r.handleLegendMouseOver(e)},onMouseOut:function(e){r.handleLegendMouseOut(e)}},s=new p(i);this.legend.on("mouseover",function(e,t){s.mouseOverHappened(t)}),this.legend.on("mouseout",function(e,t){s.mouseOutHappened(t)}),this.legend.on("click",function(e,t){r.handleLegendClick(e,t)})},initializeTooltip:function(){var e={borderColor:this.foregroundColorSoft};this.tooltip=new f(e)},setAllSeriesData:function(){t(this.seriesList).each(function(e){e.getType()==="range"?this.setRangeSeriesData(e):this.setBasicSeriesData(e)},this)},setBasicSeriesData:function(e){var t=this.getSeriesXInfo(e),n=this.getSeriesYInfo(e);if(t.axis instanceof u)e.setData({x:this.formatAxisData(t.axis,t.fieldName),y:this.formatAxisData(n.axis,n.fieldName)});else if(t.axis instanceof s){var r=t.axis.getCategories(),i=this.formatAxisData(n.axis,n.fieldName);e.setData({y:i.slice(0,r.length)})}else e.setData({y:this.formatAxisData(n.axis,n.fieldName)})},setRangeSeriesData:function(e){var t=this.getSeriesXInfo(e),n=this.getSeriesYInfo(e),r=this.getRangeSeriesConfig(),i={predicted:this.formatAxisData(n.axis,r.predicted),lower:this.formatAxisData(n.axis,r.lower),upper:this.formatAxisData(n.axis,r.upper)};t.axis instanceof u&&(i.x=this.formatAxisData(t.axis,t.fieldName)),e.setData(i)},bindSeriesEvents:function(){var e=this;this.throttle=new p({highlightDelay:125,unhighlightDelay:50,onMouseOver:function(t,n){e.handlePointMouseOver(t,n)},onMouseOut:function(t,n){e.handlePointMouseOut(t,n)}}),t(this.seriesList).each(this.bindIndividualSeries,this)},bindIndividualSeries:function(e){var t=this;e.on("mouseover",function(e,n,r){t.throttle.mouseOverHappened(n,r)}),e.on("mouseout",function(e,n,r){t.throttle.mouseOutHappened(n,r)}),e.on("click",function(e,n,r){t.handlePointClick(e,n,r)})},handlePointClick:function(e,n,r){var i={},s=n.index,o=this.getSeriesPointInfo(r,n.index),u={type:"pointClick",modifierKey:e.modifierKey,name:o.xAxisName,name2:o.yAxisName,value2:o.yValue};if(o.xAxisIsTime){var a=this.dataSet.getSeries(o.xAxisName)[s];u.value=v.getEpochTimeFromISO(a),u._span=this.dataSet.getSeriesAsFloats("_span")[s],i["row."+o.xAxisName]=u.value}else u.value=o.xValue,i["row."+o.xAxisName]=o.xValue;t(this.yFields).each(function(e){i["row."+e]=this.dataSet.getSeries(e)[s]},this),u.rowContext=i,this.trigger(u)},handlePointMouseOver:function(e,n){t(this.seriesList).each(function(t){t.matchesName(n.getName())?t.handlePointMouseOver(e):t.unHighlight()}),this.legend&&this.legend.selectField(n.getLegendKey())},handlePointMouseOut:function(e,n){t(this.seriesList).each(function(t){t.matchesName(n.getName())?t.handlePointMouseOut(e):t.highlight()}),this.legend&&this.legend.unSelectField(n.getLegendKey())},handleLegendClick:function(e,t){var n={type:"legendClick",modifierKey:e.modifierKey,name2:t};this.trigger(n)},handleLegendMouseOver:function(e){t(this.seriesList).each(function(t){t.matchesName(e)?t.handleLegendMouseOver(e):t.unHighlight()})},handleLegendMouseOut:function(e){t(this.seriesList).each(function(t){t.matchesName(e)?t.handleLegendMouseOut(e):t.highlight()})},applyColorPalette:function(){if(this.isEmpty())return;var e={};t(this.getFieldList()).each(function(t,n,r){e[t]=this.computeFieldColor(t,n,r)},this),t(this.seriesList).invoke("applyColorMapping",e)},getConfig:function(){var n=e.extend(!0,{chart:{animation:this.enableAnimation},plotOptions:{series:{animation:this.enableAnimation}},tooltip:{animation:this.enableAnimation}},this.BASE_CONFIG,{chart:this.getChartConfig(),series:this.getSeriesConfigList(),xAxis:this.getXAxisConfig(),yAxis:this.getYAxisConfig(),legend:this.getLegendConfig(),tooltip:this.getTooltipConfig(),plotOptions:this.getPlotOptionsConfig(),pointerDragStartPreHook:t(this.pointerDragStartPreHook).bind(this),pointerDragOverride:t(this.pointerDragOverride).bind(this),pointerDropPreHook:t(this.pointerDropPreHook).bind(this),pointerDropPostHook:t(this.pointerDropPostHook).bind(this),pointerPinchOverride:t(this.pointerPinchOverride).bind(this)}),r=this;return this.exportMode&&(this.seriesIsTimeBased(this.xFields)&&t(n.xAxis).each(function(e){var t;if(r.axesAreInverted)t=-50;else{var n=r.dataSet.getSeriesAsFloats("_span"),i=n&&n.length>0?parseInt(n[0],10):1,s=86400,o=s*365;i>=o?t=15:i>=s?t=25:t=35}e.title.margin=t}),e.extend(!0,n,{plotOptions:{series:{enableMouseTracking:!1,shadow:!1}}})),n},getSeriesConfigList:function(){return t(this.seriesList).chain().invoke("getConfig").flatten(!0).value()},getXAxisConfig:function(){return this.hasXAxis?t(this.xAxisList).map(function(e,t){var n=e.getConfig();return t>0&&(n.offset=40),n},this):[]},getYAxisConfig:function(){return this.hasYAxis?t(this.yAxisList).map(function(e,t){var n=e.getConfig();return t%2!==0&&(n.opposite=!0),n}):[]},getLegendConfig:function(){return!this.hasLegend||!this.legend?{}:this.legend.getConfig()},getTooltipConfig:function(){return this.tooltip?e.extend(this.tooltip.getConfig(),{formatter:function(){return!1}}):{}},formatTooltip:function(e,t){var n=this.getSeriesPointInfo(e,t.index);return e.getTooltipHtml(n,this.hcChart)},getChartConfig:function(){var e={type:this.type,renderTo:this.container,backgroundColor:this.backgroundColor,borderColor:this.backgroundColor};return this.exportMode&&(e.width=this.width||this.EXPORT_WIDTH,e.height=this.height||this.EXPORT_HEIGHT),this.isZoomable()&&this.zoomType!=="off"&&(e.zoomType=this.zoomType||"x"),e},getPlotOptionsConfig:function(){var t=this.stackMode!=="default"&&!this.isRangeSeriesMode();return e.extend(!0,{},this.BASE_PLOT_OPTIONS_CONFIG,{series:{cursor:this.chartClickEnabled?"pointer":"default"},area:{trackByArea:t}})},isZoomable:function(){return this.type==="area"||this.type==="line"||this.type==="column"},addEventHandlers:function(n){var r=this,i=e(n);E.jQueryOn.call(i,"redraw",function(){r.onChartRedraw(n),r.onChartLoadOrRedraw(n)}),this.hasXAxis&&E.jQueryOn.call(i,"selection",t(this.onChartSelection).bind(this)),E.jQueryOn.call(i,"tooltipRefresh",function(){if(r.hcChart.hoverPoint){var e=r.hcChart.hoverPoint.series.index;if(r.hcChart.series[e].splSeries.type==="column")r.hcChart.series[e].splSeries.unHighlight(),r.hcChart.series[e].splSeries.highlight();else if(r.hcChart.series[e].splSeries.type==="line"||r.hcChart.series[e].splSeries.type==="area")r.hcChart.hoverPoint.setState(),r.hcChart.hoverPoint.setState("hover")}}),E.jQueryOn.call(i,"endResize",function(){r.onChartResize(n)})},enableTooltip:function(e){var t=this;e.tooltip.options.formatter=function(){var e=this.series.splSeries;return t.formatTooltip(e,this.point)}},onChartLoad:function(e){this.legend&&this.legend.onChartLoad(e),t(this.xAxisList).invoke("onChartLoad",e),t(this.yAxisList).invoke("onChartLoad",e),t(this.seriesList).invoke("onChartLoad",e),this.isZoomable()&&this.triggerRangeSelectionEvent()},onChartRedraw:function(e){var t=this;if(this.selectionWindow)this.selectionWindow.onChartRedraw(e);else if(this.isZoomable()&&!this.isiOS){var n=this.xAxisList[0];n&&n.isZoomed?(this.resetZoomButton||(this.resetZoomButton=new h(this.hcChart)),this.panButtons?this.panButtons.onChartRedraw(e):(this.panButtons=new c(this.hcChart),this.panButtons.on("pan",function(e,n,r){t.triggerRangeSelectionEvent()}))):(this.resetZoomButton&&(this.resetZoomButton.destroy(),this.resetZoomButton=null),this.panButtons&&(this.panButtons.destroy(),this.panButtons=null))}this.isZoomable()&&!this.selectionTriggeredBeforeRedraw&&this.triggerRangeSelectionEvent(),this.selectionTriggeredBeforeRedraw=!1},onChartLoadOrRedraw:function(e){this.legend&&this.legend.onChartLoadOrRedraw(e),t(this.xAxisList).invoke("onChartLoadOrRedraw",e),t(this.yAxisList).invoke("onChartLoadOrRedraw",e),t(this.seriesList).invoke("onChartLoadOrRedraw",e)},onChartDestroy:function(){e(n).off("baseUriChange."+this.id),this.legend&&this.legend.destroy(),t(this.xAxisList).invoke("destroy"),t(this.yAxisList).invoke("destroy"),t(this.seriesList).invoke("destroy"),this.selectionWindow&&this.selectionWindow.destroy(),this.panButtons&&(this.panButtons.destroy(),this.panButtons=undefined)},onChartSelection:function(e){var t=this.xAxisList[0];if(!e.resetSelection){var n=e.xAxis[0],r;this.isiOS&&this.hcChart.pointer.selectionMarker.width===this.hcChart.plotWidth&&(n.min+=.5,n.max-=.5),r=this.getNormalizedAxisExtremes(n.min,n.max),n.min=r.min,n.max=r.max+(t.hasTickmarksBetween()?0:1);var i=this.triggerRangeSelectionEvent(r);if(i.isDefaultPrevented()){e.preventDefault(),this.hasPendingRangeResetEvent=!1;if(t.getZoomed(n.min,n.max)){this.selectionWindow=new l(this.hcChart);var s=this;this.selectionWindow.on("rangeSelect",function(e,t,n){s.triggerRangeSelectionEvent()})}}else this.selectionTriggeredBeforeRedraw=!0}},onChartResize:function(e){this.panButtons&&this.panButtons.onChartResize(e)},getNormalizedAxisExtremes:function(e,t){var n=this.xAxisList[0],r=this.hcChart.xAxis[0],i=r.dataMax,s=r.dataMin,o=this,u=function(e,r){return e>i&&(e=i),e<s&&(e=s),n.hasTickmarksBetween()||o.isiOS&&t+.5===i?Math.round(e):Math.floor(e)};return{min:u(e,"min"),max:u(t,"max")}},calculatePostUpdateExtremes:function(e){var n=this.xAxisList[0],r=n.getCategories();if(n instanceof s){var i=n.getPreviousCategories(),o=t(r).indexOf(i[e.min]),u=parseInt(v.getEpochTimeFromISO(i[e.max]),10)+n.getPreviousSpanData()[e.max],a=n.getSpanData(),f=t(r).map(function(e,t){return parseInt(v.getEpochTimeFromISO(e),10)+a[t]}),l=t(f).indexOf(u);return{min:o>-1?o:null,max:l>-1?l:null}}return r.length>e.max?e:{min:null,max:null}},triggerRangeSelectionEvent:function(n){var r=this.xAxisList[0],i=!n&&!this.selectionWindow&&!r.isZoomed;n||(this.selectionWindow?(n=this.selectionWindow.getExtremes(),n.min+=r.hasTickmarksBetween()?1:0):(n=this.hcChart.xAxis[0].getExtremes(),n.max-=r.hasTickmarksBetween()?0:1)),n=this.getNormalizedAxisExtremes(n.min,n.max);var o=r instanceof s,u=o?this.dataSet.getSeriesAsTimestamps(this.xFields[0]):this.dataSet.getSeries(this.xFields[0]),a=u[n.min],f=u[n.max];if(o){var l=1;if(this.dataSet.hasField("_span")){var c=this.dataSet.getSeriesAsFloats("_span");l=c.length>n.max?c[n.max]:t(c).last()}a=parseInt(v.getEpochTimeFromISO(a),10),f=parseInt(v.getEpochTimeFromISO(f),10)+l}var h=e.Event("chartRangeSelect",{startXIndex:n.min,endXIndex:n.max,startXValue:a,endXValue:f,isReset:!!i});return this.trigger(h),h},pointerDragStartPreHook:function(e,t){if(this.selectionWindow){var n=this.selectionWindow.handleDragStartEvent(t);n||(this.selectionWindow.destroy(),this.selectionWindow=null,this.hasPendingRangeResetEvent=!0)}},pointerPinchOverride:function(e,n,r){this.selectionWindow?n.type==="touchstart"?(e.dragStart(n),this.selectionWindow||t.each(n.touches,function(t,n){e.pinchDown[n]={chartX:t.chartX||t.pageX,chartY:t.chartY||t.pageY}})):n.type==="touchmove"?(e.normalize(n).chartX,this.selectionWindow.handleDragEvent(n)):n.type==="touchend"&&this.selectionWindow.handleDropEvent(n):r.call(e,n)},pointerDragOverride:function(e,t,n){this.selectionWindow?this.selectionWindow.handleDragEvent(t):(n.call(e,t),this.hcChart.pointer.selectionMarker&&this.hcChart.pointer.selectionMarker.attr({"stroke-width":2,stroke:this.foregroundColorSofter}))},pointerDropPreHook:function(e,t){this.selectionWindow&&this.selectionWindow.handleDropEvent(t)},pointerDropPostHook:function(e,t){this.hasPendingRangeResetEvent&&(this.triggerRangeSelectionEvent(),this.hasPendingRangeResetEvent=!1)},getSeriesXInfo:function(e){var t=e.getXAxisIndex();return{axis:this.xAxisList[t],fieldName:this.xFields[t]}},getSeriesYInfo:function(e){return{axis:this.yAxisList[e.getYAxisIndex()],fieldName:e.getName()}},getSeriesPointInfo:function(e,t){var n=this.getSeriesXInfo(e),r=this.getSeriesYInfo(e),i=this.dataSet.getSeries(n.fieldName),o=this.dataSet.getSeries(r.fieldName);return{xAxisIsTime:n.axis instanceof s,xAxisName:n.fieldName,xValue:i[t],xValueDisplay:n.axis.formatValue(i[t]),yAxisName:r.fieldName,yValue:o[t],yValueDisplay:r.axis.formatValue(o[t])}},getDashStyle:function(){var e=this.properties.lineDashStyle;if(e)return e.charAt(0).toUpperCase()+e.slice(1)},isRangeSeriesMode:function(){return this.dataSet.hasField("_predicted")&&this.dataSet.hasField("_lower")&&this.dataSet.hasField("_upper")},getRangeSeriesConfig:function(){var e=t(this.dataSet.getSeries("_predicted")).find(function(e){return!!e}),n=t(this.dataSet.getSeries("_lower")).find(function(e){return!!e}),r=t(this.dataSet.getSeries("_upper")).find(function(e){return!!e});return{predicted:e,lower:n,upper:r}},seriesIsTimeBased:function(e){return/^_time/.test(e)&&(this.dataSet.getSeries(e).length<=1||this.dataSet.hasField("_span"))},formatAxisData:function(e,t){return this.dataSet.hasField(t)?this.dataSet.getSeriesAsFloats(t,{scale:e.isLogScale()?"log":"linear",nullValueMode:this.properties["chart.nullValueMode"]}):[]},computeFieldColor:function(e,n,r){if(this.internalFieldColors.hasOwnProperty(e))return b.colorFromHex(this.internalFieldColors[e]);var i=!t(this.externalPaletteMapping).isEmpty(),s=i?this.externalPaletteMapping[e]:n,o=i?this.externalPaletteSize:r.length;return this.colorPalette.getColorAsRgb(e,s,o)},BASE_CONFIG:{chart:{showAxes:!0,reflow:!1,selectionMarkerFill:"rgba(0,0,0,0)"},credits:{enabled:!1},legend:{enabled:!1},plotOptions:{series:{states:{hover:{enabled:!1}},events:{legendItemClick:function(){return!1}},borderWidth:0,shadow:!1,turboThreshold:0}},title:{text:null},tooltip:{enabled:!1,useHTML:!0}},BASE_PLOT_OPTIONS_CONFIG:{line:{stickyTracking:!0,states:{hover:{marker:{enabled:!0,radius:6}}},marker:{enabled:!1,symbol:"square"}},area:{stickyTracking:!0,lineWidth:1,states:{hover:{marker:{enabled:!0,radius:6}}},marker:{symbol:"square",enabled:!1}},column:{markers:{enabled:!1},stickyTracking:!1,fillOpacity:1,trackByArea:!0},bar:{markers:{enabled:!1},stickyTracking:!1,fillOpacity:1,trackByArea:!0}}}),N}),define("js_charting/visualizations/charts/SplitSeriesChart",["jquery","underscore","./Chart","../../util/lang_utils","../../util/parsing_utils"],function(e,t,n,r,i){var s=function(e,t){n.call(this,e,t)};return r.inherit(s,n),e.extend(s.prototype,{interAxisSpacing:10,shouldUpdateInPlace:function(){return!1},initializeSeriesPropertiesList:function(){var e=n.prototype.initializeSeriesPropertiesList.call(this);return t(e).each(function(e,t){e.yAxis=t}),e},initializeYAxisProperties:function(t,n){var r=e.extend(i.getYAxisProperties(this.properties,0),this.axisColorScheme,{"axis.orientation":this.axesAreInverted?"horizontal":"vertical",isEmpty:n});return r},setAllSeriesData:function(){n.prototype.setAllSeriesData.call(this),this.globalMin=Infinity,this.globalMax=-Infinity,t(this.yFields).each(function(e,t){var n=this.yAxisList[t],r=this.formatAxisData(n,e);this.globalMin=Math.min(this.globalMin,Math.min.apply(Math,r)),this.globalMax=Math.max(this.globalMax,Math.max.apply(Math,r))},this)},getYAxisConfig:function(){var r=n.prototype.getYAxisConfig.call(this);return t(r).each(function(n,r){e.extend(n,{opposite:!1,offset:0,setSizePreHook:t(function(t){e.extend(t.options,this.getAdjustedAxisPosition(t,r,this.yAxisList.length))}).bind(this)});var i=n.getSeriesExtremesPostHook;n.getSeriesExtremesPostHook=t(function(e){e.dataMax=Math.max(e.dataMax,this.globalMax),e.dataMin=Math.min(e.dataMin,this.globalMin),i&&i(e)}).bind(this)},this),r},getSeriesConfigList:function(){var e=n.prototype.getSeriesConfigList.call(this);return t(e).each(function(e){e.stacking="normal",e.afterAnimatePostHook=t(this.updateSeriesClipRect).bind(this),e.renderPostHook=t(this.updateSeriesClipRect).bind(this),e.destroyPreHook=t(this.destroySplitSeriesClipRect).bind(this),e.plotGroupPostHook=t(this.translateSeriesGroup).bind(this)},this),e},getAdjustedAxisPosition:function(e,t,n){var r=e.chart;if(r.inverted){var i=r.plotWidth,s=(i-this.interAxisSpacing*(n-1))/n;return{left:r.plotLeft+(s+this.interAxisSpacing)*t,width:s}}var o=r.plotHeight,u=(o-this.interAxisSpacing*(n-1))/n;return{top:r.plotTop+(u+this.interAxisSpacing)*t,height:u}},getTooltipConfig:function(){var e=n.prototype.getTooltipConfig.call(this),t=this;return e.getAnchorPostHook=function(e,n,r){return t.axesAreInverted&&(r[0]=e.series.yAxis.left+(e.pointWidth||0)),r},e},updateSeriesClipRect:function(e){var t=e.chart,n=e.yAxis;this.destroySplitSeriesClipRect(e),t.inverted?e.splitSeriesClipRect=t.renderer.clipRect(0,0,t.plotHeight,n.width):e.splitSeriesClipRect=t.renderer.clipRect(0,0,t.plotWidth,n.height),e.group.clip(e.splitSeriesClipRect)},destroySplitSeriesClipRect:function(e){e.hasOwnProperty("splitSeriesClipRect")&&e.splitSeriesClipRect.destroy()},translateSeriesGroup:function(e,t){e.chart.inverted&&t.translate(e.yAxis.left,0)}}),s}),define("js_charting/components/DataLabels",["jquery","underscore","../helpers/EventMixin","../helpers/Formatter","../helpers/HoverEventThrottler","../util/dom_utils"],function(e,t,n,r,i,s){var o=function(e){this.properties=e||{},this.id=t.uniqueId("data_labels_")};return o.prototype=e.extend({},n,{HIGHLIGHTED_OPACITY:1,UNHIGHLIGHTED_OPACITY:.3,getConfig:function(){return{color:this.properties.fontColor||"#000000",connectorColor:this.properties.foregroundColorSoft,softConnector:!1,distance:20,style:{cursor:this.properties.clickEnabled?"pointer":"default"},x:.01,drawDataLabelsPreHook:t(this.drawDataLabelsPreHook).bind(this),drawDataLabelsPostHook:t(this.drawDataLabelsPostHook).bind(this)}},onChartLoad:function(){},onChartLoadOrRedraw:function(e){this.hcSeries=e.series[0],this.removeEventHandlers(),this.addEventHandlers()},addEventHandlers:function(){var n=this,r={highlightDelay:125,unhighlightDelay:50,onMouseOver:function(e){n.selectLabel(e),n.trigger("mouseover",[e])},onMouseOut:function(e){n.unSelectLabel(e),n.trigger("mouseout",[e])}},o=new i(r);t(this.hcSeries.data).each(function(t){var r=t.dataLabel.element;s.jQueryOn.call(e(r),"mouseover."+this.id,function(){o.mouseOverHappened(t)}),s.jQueryOn.call(e(r),"mouseout."+this.id,function(){o.mouseOutHappened(t)}),s.jQueryOn.call(e(r),"click."+this.id,function(){n.trigger("click",[t])})},this)},removeEventHandlers:function(){t(this.hcSeries.data).each(function(t){var n=t.dataLabel.element;s.jQueryOff.call(e(n),"."+this.id)},this)},destroy:function(){this.off(),this.removeEventHandlers(),this.hcSeries=null},selectLabel:function(e){var n=this.hcSeries.data[e.index];n.dataLabel.attr("fill-opacity",this.HIGHLIGHTED_OPACITY),t(this.hcSeries.data).chain().without(n).each(function(e){e.dataLabel.attr("fill-opacity",this.UNHIGHLIGHTED_OPACITY)},this)},unSelectLabel:function(e){var n=this.hcSeries.data[e.index];t(this.hcSeries.data).chain().without(n).each(function(e){e.dataLabel.attr("fill-opacity",this.HIGHLIGHTED_OPACITY)},this)},drawDataLabelsPreHook:function(e){var t=e.chart,n=e.options.dataLabels.distance,r=e.center,i=r[2]/2;e.getX=function(e,s){return t.plotLeft+r[0]+(s?-i-n:i+n/2)},this.fitLabelsToPlotArea(e)},fitLabelsToPlotArea:function(t){var n,i,s=t.options,o=s.dataLabels.distance,u=s.size,a=t.chart,f=a.renderer,l=new r(f),c=11,h=9,p=(a.plotWidth-(u+2*o))/2,d=[];for(n=0;n<t.data.length;n++)d.push(t.options.data[n][0]);i=l.adjustLabels(d,p,h,c,"middle");for(n=0;n<t.data.length;n++)t.data[n].name=i.labels[n],t.data[n].dataLabel&&t.data[n].dataLabel.css&&t.data[n].dataLabel.css({fontSize:i.fontSize+"px"});e.extend(!0,s.dataLabels,{style:{fontSize:i.fontSize+"px"},y:Math.floor(i.fontSize/4)-3}),l.destroy()},drawDataLabelsPostHook:function(e){t(e.points).each(function(e){if(e.connector){var t=e.connector.attr("d").split(" ");e.connector.attr({d:this.updateConnectorPath(t)})}},this)},updateConnectorPath:function(e){var n={x:parseFloat(e[1]),y:parseFloat(e[2])},r={x:parseFloat(e[4]),y:parseFloat(e[5])},i={x:parseFloat(e[7]),y:parseFloat(e[8])},s=(i.y-r.y)/(i.x-r.x),o={x:i.x+(n.y-i.y)/s,y:n.y},u=!t.isFinite(s),a=isNaN(o.x)||n.x>=o.x&&o.x<=i.x||n.x<=o.x&&o.x>=i.x,f=!u&&a?["M",n.x,n.y,"L",i.x,i.y]:["M",n.x,n.y,"L",o.x,o.y,"L",i.x,i.y];return f}}),o}),define("js_charting/visualizations/charts/PieChart",["jquery","underscore","highcharts","splunk.i18n","./Chart","splunk.util","../../components/DataLabels","../../helpers/HoverEventThrottler","../../series/series_factory","../../util/lang_utils","../../util/parsing_utils"],function(e,t,n,r,i,s,o,u,a,f,l){var c=function(e,t){i.call(this,e,t)};return f.inherit(c,i),e.extend(c.prototype,{hasLegend:!1,hasXAxis:!1,hasYAxis:!1,shouldUpdateInPlace:function(){return!1},processProperties:function(){i.prototype.processProperties.call(this),this.showLabels=this.isEmpty()?!1:l.normalizeBoolean(this.properties["chart.showLabels"],!0)},prepare:function(e,t){i.prototype.prepare.call(this,e,t),this.showLabels&&this.initializeDataLabels()},handleDraw:function(e){this.destroyCustomRenderer();if(this.isEmpty()){this.benchmark("Draw Started"),this.drawEmptyPieChart(),this.benchmark("Draw Finished"),e(this,this.benchmarks);return}i.prototype.handleDraw.call(this,e)},initializeFields:function(){var e=this.dataSet.allDataFields();this.sliceNameField=e[0],this.sliceSizeField=e[1]},isEmpty:function(){return!this.dataSet||this.dataSet.allDataFields().length<2},shouldProgressiveDraw:function(){return!1},initializeSeriesPropertiesList:function(){var t=e.extend({},this.properties,{name:this.sliceSizeField,type:"pie",clickEnabled:this.chartClickEnabled});return[t]},setAllSeriesData:function(){var e=this.seriesIsTimeBased(this.sliceNameField),t;e&&(t=this.dataSet.getSeriesAsFloats("_span")),this.seriesList[0].setData({names:this.dataSet.getSeries(this.sliceNameField),sizes:this.dataSet.getSeriesAsFloats(this.sliceSizeField,{nullValueMode:"zero"}),spans:t,isTimeBased:e})},handlePointMouseOver:function(e){this.seriesList[0].handlePointMouseOver(e),this.dataLabels&&this.dataLabels.selectLabel(e)},handlePointMouseOut:function(e){this.seriesList[0].handlePointMouseOut(e),this.dataLabels&&this.dataLabels.unSelectLabel(e)},handlePointClick:function(e,t){var n=t.index,r=this.seriesList[0].getData()[n],i=r[0],o=r[1].toString(),u=new RegExp("^"+this.seriesList[0].collapseFieldName),a={},f={type:"pointClick",modifierKey:e.modifierKey,name:this.sliceNameField,name2:this.sliceSizeField,value2:o,rowContext:a};if(this.seriesIsTimeBased(this.sliceNameField)&&!u.test(r[0])){var l=r[0];f.value=s.getEpochTimeFromISO(l),f._span=r[2],a["row."+this.sliceNameField]=f.value}else f.value=i,a["row."+this.sliceNameField]=i;a["row."+this.sliceSizeField]=o,this.trigger(f)},initializeDataLabels:function(){var e={fontColor:this.fontColor,foregroundColorSoft:this.foregroundColorSoft,clickEnabled:l.normalizeBoolean(this.properties["chart.clickEnabled"])||l.normalizeBoolean(this.properties.enableChartClick)};this.dataLabels=new o(e);var t=this,n={highlightDelay:75,unhighlightDelay:50,onMouseOver:function(e){t.seriesList[0].selectPoint(e)},onMouseOut:function(e){t.seriesList[0].unSelectPoint(e)}},r=new u(n);this.dataLabels.on("mouseover",function(e,t){r.mouseOverHappened(t)}),this.dataLabels.on("mouseout",function(e,t){r.mouseOutHappened(t)})},getPlotOptionsConfig:function(){var t=this;return{pie:{dataLabels:e.extend(this.getDataLabelConfig(),{formatter:function(){var e=this;return l.escapeSVG(t.formatDataLabel(e))}}),borderWidth:0,stickyTracking:!1,cursor:this.chartClickEnabled?"pointer":"default",states:{hover:{brightness:0}},tooltip:{followPointer:!1}}}},getDataLabelConfig:function(){return this.showLabels?this.dataLabels.getConfig():{enabled:!1}},applyColorPalette:function(){this.BASE_CONFIG=e.extend({},this.BASE_CONFIG,{colors:t(this.getFieldList()).map(this.computeFieldColor,this)})},formatDataLabel:function(e){return e.point.name},formatTooltip:function(e,t){var n=t.index,i=e.hasPrettyData?e.getPrettyData()[n]:e.getData()[n],s=i[0],o=i[1];return e.getTooltipHtml({sliceFieldName:this.sliceNameField,sliceName:s,sliceColor:t.color,yValue:r.format_decimal(o),yPercent:r.format_percent(t.percentage/100)},this.hcChart)},drawEmptyPieChart:function(){var e=this.$container.width(),r=this.$container.height(),i=Math.min(r*.75,e/3)/2;this.renderer=new n.Renderer(this.container,e,r),this.renderer.circle(e/2,r/2,i).attr({fill:"rgba(150, 150, 150, 0.3)",stroke:"rgb(200, 200, 200)","stroke-width":1}).add(),this.renderer.text(t("No Results").t(),e/2,r/2).attr({align:"center"}).css({fontSize:"20px",color:"rgb(200, 200, 200)"}).add()},setSize:function(e,t){this.isEmpty()?(this.destroyCustomRenderer(),this.drawEmptyPieChart()):i.prototype.setSize.call(this,e,t)},destroy:function(){this.destroyCustomRenderer(),i.prototype.destroy.call(this)},destroyCustomRenderer:function(){this.renderer&&(this.renderer.destroy(),this.renderer=null,this.$container.empty())},onChartLoad:function(e){i.prototype.onChartLoad.call(this,e),this.dataLabels&&this.dataLabels.onChartLoad(e)},onChartLoadOrRedraw:function(e){i.prototype.onChartLoadOrRedraw.call(this,e),this.dataLabels&&this.dataLabels.onChartLoadOrRedraw(e)},onChartDestroy:function(){i.prototype.onChartDestroy.call(this),this.dataLabels&&this.dataLabels.destroy()}}),c}),define("js_charting/visualizations/charts/ScatterChart",["jquery","underscore","./Chart","../../series/series_factory","../../components/axes/NumericAxis","../../util/lang_utils","../../util/parsing_utils"],function(e,t,n,r,i,s,o){var u=function(e,t){n.call(this,e,t)};return s.inherit(u,n),e.extend(u.prototype,{initializeFields:function(){n.prototype.initializeFields.call(this);var e=this.dataSet.allDataFields();this.dataSet.fieldIsGroupby(e[0])&&(this.markField=e[0],e=e.slice(1)),e.length>2?(this.isMultiSeries=!0,this.labelField=e[0],this.xField=e[1],this.yField=e[2],this.hasLegend=this.properties["legend.placement"]!=="none"):(this.isMultiSeries=!1,this.xField=e[0],this.yField=e[1],this.hasLegend=!1)},isEmpty:function(){return!this.dataSet||this.dataSet.length<2},initializeSeriesPropertiesList:function(){var e;if(this.isMultiSeries)e=t(this.dataSet.getSeries(this.labelField)).chain().uniq().compact().map(function(e){return{name:e,type:"scatter",clickEnabled:this.chartClickEnabled}},this).value();else{var n={name:t.uniqueId("scatter_field_"),type:"scatter",clickEnabled:this.chartClickEnabled};e=[n]}return e},initializeXAxisList:function(){var t=e.extend(o.getXAxisProperties(this.properties),this.axisColorScheme,{"axis.orientation":"horizontal",isEmpty:this.isEmpty()});t["axisTitle.text"]||(t["axisTitle.text"]=this.xField),t["gridLines.showMajorLines"]=!1,this.xAxisList=[new i(t)]},initializeYAxisList:function(){var t=e.extend(o.getYAxisProperties(this.properties),this.axisColorScheme,{"axis.orientation":"vertical",isEmpty:this.isEmpty()});t["axisTitle.text"]||(t["axisTitle.text"]=this.yField),this.yAxisList=[new i(t)]},setAllSeriesData:function(){var e=this.formatAxisData(this.xAxisList[0],this.xField),n=this.formatAxisData(this.yAxisList[0],this.yField);this.isMultiSeries?t(this.seriesList).each(function(t){var r=t.getName();t.setData({x:this.filterDataByNameMatch(e,r),y:this.filterDataByNameMatch(n,r)})},this):this.seriesList[0].setData({x:e,y:n})},getPlotOptionsConfig:function(){var e=parseInt(this.properties["chart.markerSize"],10);return{scatter:{stickyTracking:!1,fillOpacity:1,trackByArea:!0,marker:{radius:e?Math.ceil(e*6/4):6,symbol:"square"},tooltip:{followPointer:!1},cursor:this.chartClickEnabled?"pointer":"default"}}},handlePointClick:function(e,t,n){var r=t.index,i=n.getName(),s=this.dataSet.getSeries(this.xField),o=this.dataSet.getSeries(this.yField),u=this.isMultiSeries?this.filterDataByNameMatch(s,i)[r]:s[r],a=this.isMultiSeries?this.filterDataByNameMatch(o,i)[r]:o[r],f={},l={type:"pointClick",modifierKey:e.modifierKey,name:this.isMultiSeries?this.labelField:this.xField,value:this.isMultiSeries?i:u,name2:this.isMultiSeries?this.xField:this.yField,value2:this.isMultiSeries?u:a,rowContext:f};f["row."+this.xField]=u,f["row."+this.yField]=a,this.isMultiSeries&&(f["row."+this.labelField]=i);if(this.markField){var c=this.dataSet.getSeries(this.markField),h=this.isMultiSeries?this.filterDataByNameMatch(c,i)[r]:c[r];f["row."+this.markField]=h}this.trigger(l)},handleLegendClick:function(e,t){var n={},r={type:"legendClick",modifierKey:e.modifierKey,name:this.labelField,value:t,rowContext:n};n["row."+this.labelField]=t,this.trigger(r)},formatTooltip:function(t,n){var r=n.index,i=this.xAxisList[0],s=this.yAxisList[0],o=t.getName(),u=this.dataSet.getSeries(this.xField),a=this.dataSet.getSeries(this.yField),f=this.isMultiSeries?this.filterDataByNameMatch(u,o)[r]:u[r],l=this.isMultiSeries?this.filterDataByNameMatch(a,o)[r]:a[r],c={isMultiSeries:this.isMultiSeries,xAxisName:this.xField,xValue:i.formatValue(f),yAxisName:this.yField,yValue:s.formatValue(l),markName:null,markValue:null};if(this.markField){var h=this.dataSet.getSeries(this.markField),p=this.isMultiSeries?this.filterMarkByNameMatch(o)[r]:h[r];e.extend(c,{markName:this.markField,markValue:p})}return this.isMultiSeries&&e.extend(c,{labelSeriesName:this.labelField}),t.getTooltipHtml(c,this.hcChart)},filterDataByNameMatch:function(e,n){var r=this.dataSet.getSeries(this.labelField);return t(e).filter(function(e,t){return r[t]===n})},filterMarkByNameMatch:function(e){var n=this.dataSet.getSeries(this.labelField),r=this.dataSet.getSeries(this.markField);return t(r).filter(function(t,r){return n[r]===e})}}),u}),define("js_charting/visualizations/gauges/Gauge",["jquery","underscore","highcharts","../Visualization","../../helpers/Formatter","../../components/ColorPalette","../../util/lang_utils","../../util/parsing_utils","../../util/testing_utils","../../util/math_utils","../../util/dom_utils","../../util/color_utils","splunk.i18n"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){var p=function(t,n){r.call(this,t,n),this.$hcContainer=e("<div />").addClass("highcharts-container").appendTo(this.container),this.elements={},this.hasRendered=!1,this.needsRedraw=!0};return o.inherit(p,r),e.extend(p.prototype,{WINDOW_RESIZE_DELAY:100,EXPORT_HEIGHT:400,EXPORT_WIDTH:600,MIN_GAUGE_HEIGHT:25,RESIZED_GAUGE_HEIGHT:200,DEFAULT_COLORS:[8710400,16771072,12529712],DEFAULT_RANGES:[0,30,70,100],MAX_TICKS_PER_RANGE:10,showValueByDefault:!0,showMinorTicksByDefault:!0,getFieldList:function(){return[]},getWidth:function(){var e=r.prototype.getWidth.call(this);return this.exportMode?e||this.EXPORT_WIDTH:e},getHeight:function(){var e=r.prototype.getHeight.call(this);return this.exportMode?e||this.EXPORT_HEIGHT:(e=e<this.MIN_GAUGE_HEIGHT?this.RESIZED_GAUGE_HEIGHT:e,e)},prepare:function(t,n){var i=e.extend([],this.ranges);r.prototype.prepare.call(this,t,n),u.arraysAreEquivalent(i,this.ranges)||(this.needsRedraw=!0)},handleDraw:function(e){this.needsRedraw?(this.destroy(),this.renderer=new n.Renderer(this.$hcContainer[0],this.getWidth(),this.getHeight()),this.formatter=new i(this.renderer),this.$container.css("backgroundColor",this.backgroundColor),this.renderGauge(),this.nudgeChart(),this.hasRendered=!0,this.testMode&&(a.gaugeAddTestingMetadata(this,this.elements,this.getClassName(),this.value),a.createGlobalReference(this,this.getChartObject())),this.needsRedraw=!1):this.updateValue(this.previousValue||0,this.value),e(this)},setSize:function(e,t){if(!this.hasRendered)return;this.destroy(),this.renderer=new n.Renderer(this.$hcContainer[0],e,t),this.formatter=new i(this.renderer),this.renderGauge(),this.nudgeChart(),this.hasRendered=!0},destroy:function(){var e;this.stopWobble(),this.$container.stop();for(e in this.elements)this.elements.hasOwnProperty(e)&&this.elements[e].destroy();this.elements={},this.$hcContainer.empty(),this.$container.css("backgroundColor",""),this.hasRendered=!1},getSVG:function(){return this.$container.find("svg").eq(0).parent().html()},processProperties:function(){r.prototype.processProperties.call(this),this.colors=this.computeColors(),this.colorPalette=new s(this.colors,!0),this.ranges=this.computeRanges(),this.previousValue=this.value,this.value=this.computeValue(),this.majorUnit=parseInt(this.properties["chart.majorUnit"],10)||null,this.showMajorTicks=u.normalizeBoolean(this.properties["chart.showMajorTicks"],!0),this.showMinorTicks=u.normalizeBoolean(this.properties["chart.showMinorTicks"],this.showMinorTicksByDefault),this.showLabels=u.normalizeBoolean(this.properties["chart.showLabels"],!0),this.showValue=u.normalizeBoolean(this.properties["chart.showValue"],this.showValueByDefault),this.showRangeBand=u.normalizeBoolean(this.properties["chart.showRangeBand"],!0),this.usePercentageRange=u.normalizeBoolean(this.properties["chart.usePercentageRange"]),this.usePercentageValue=u.normalizeBoolean(this.properties["chart.usePercentageValue"]),this.isShiny=this.properties["chart.style"]!=="minimal"},computeColors:function(){var e=u.stringToHexArray(this.properties["chart.gaugeColors"]||this.properties.gaugeColors);return e&&e.length>0?e:this.DEFAULT_COLORS},computeRanges:function(){var e,n=u.stringToArray(this.properties["chart.rangeValues"]);if(n&&n.length>1)e=n;else{var r=this.dataSet.allDataFields();e=t(r.slice(1)).map(function(e){return this.dataSet.getSeries(e)[0]},this)}var i=-Infinity,s=[];return t(e).each(function(e){var n=f.parseFloat(e);!t(n).isNaN()&&n>i&&(s.push(n),i=n)}),s.length>1?s:this.DEFAULT_RANGES},computeValue:function(){var e=this.dataSet.allDataFields();return e.length>0?f.parseFloat(this.dataSet.getSeries(e[0])[0])||0:0},updateValue:function(e,n){if(e===n)return;this.shouldAnimateTransition(e,n)&&(this.stopWobble(),this.animateTransition(e,n,t(this.drawIndicator).bind(this),t(this.onAnimationFinished).bind(this)));if(this.showValue){var r=this.formatValue(n);this.updateValueDisplay(r)}this.testMode&&a.gaugeUpdate(this.$container,n)},shouldAnimateTransition:function(e,t){return this.normalizedTranslateValue(e)!==this.normalizedTranslateValue(t)},drawTicks:function(){var t,n,r,i=this.calculateTickValues(this.ranges[0],this.ranges[this.ranges.length-1],this.MAX_TICKS_PER_RANGE);for(t=0;t<i.length;t++)n=this.translateValue(i[t]),this.showMajorTicks&&(this.elements["tickMark_"+i[t]]=this.drawMajorTick(n)),this.showLabels&&(r=this.formatTickLabel(i[t]),this.elements["tickLabel_"+i[t]]=this.drawMajorTickLabel(n,r));this.showLabels&&(i=this.removeTicksIfOverlap(i));if(this.showMinorTicks){var s=i[1]-i[0],o=s/this.minorsPerMajor,u=this.usePercentageRange?this.ranges[0]:i[0]-Math.floor((i[0]-this.ranges[0])/o)*o;for(t=u;t<=this.ranges[this.ranges.length-1];t+=o)if(!this.showMajorTicks||e.inArray(t,i)<0)n=this.translateValue(t),this.elements["minorTickMark_"+t]=this.drawMinorTick(n)}},removeTicksIfOverlap:function(e){while(e.length>2&&this.tickLabelsOverlap(e))e=this.removeEveryOtherTick(e);return e},tickLabelsOverlap:function(e){var t,n,r,i=3,s=1;for(t=0;t<e.length-1;t++){n=this.elements["tickLabel_"+e[t]],r=this.elements["tickLabel_"+e[t+1]];if(this.formatter.bBoxesOverlap(n.getBBox(),r.getBBox(),i,s))return!0}return!1},removeEveryOtherTick:function(e){var t,n=[];for(t=0;t<e.length;t++)t%2===0?n.push(e[t]):(this.elements["tickMark_"+e[t]].destroy(),this.elements["tickLabel_"+e[t]].destroy(),delete this.elements["tickMark_"+e[t]],delete this.elements["tickLabel_"+e[t]]);return n},animateTransition:function(e,t,n,r){var i=t-e,s=500,o={duration:s,step:function(t){n(e+t),this.nudgeChart()}.bind(this)};r&&(o.complete=function(){r(t)}),this.$container.stop(!0,!0).css({"animation-progress":0}).animate({"animation-progress":i},o)},onAnimationFinished:function(e){this.checkOutOfRange(e)},checkOutOfRange:function(e){var t,n,r;e<this.ranges[0]?(t=this.ranges[this.ranges.length-1]-this.ranges[0],r=t*.005,n=this.ranges[0]+r,this.wobble(n,r,this.drawIndicator)):e>this.ranges[this.ranges.length-1]&&(t=this.ranges[this.ranges.length-1]-this.ranges[0],r=t*.005,n=this.ranges[this.ranges.length-1]-r,this.wobble(n,r,this.drawIndicator))},formatValue:function(e){return this.usePercentageValue?this.formatPercent((e-this.ranges[0])/(this.ranges[this.ranges.length-1]-this.ranges[0])):this.formatNumber(e)},formatTickLabel:function(e){return this.usePercentageRange?this.formatPercent((e-this.ranges[0])/(this.ranges[this.ranges.length-1]-this.ranges[0])):this.formatNumber(e)},formatNumber:function(e){var t=parseFloat(e),n=Math.abs(t);return n>=1e9||n!==0&&n<.001?h.format_scientific(t,"#.###E0"):h.format_decimal(t)},formatPercent:function(e){return h.format_percent(e)},wobble:function(e,t,n){var r=this,i=0;this.wobbleInterval=setInterval(function(){var s=e+(i%3-1)*t;n.call(r,s),r.nudgeChart(),i=(i+1)%3},75)},stopWobble:function(){clearInterval(this.wobbleInterval)},nudgeChart:function(){if(l.hasSVG)return;this.elements.nudgeElement&&this.elements.nudgeElement.destroy(),this.elements.nudgeElement=this.renderer.rect(0,0,0,0).add()},predictTextWidth:function(e,t){return this.formatter.predictTextWidth(e,t)},calculateTickValues:function(e,t,n){var r,i,s=t-e,o=s/(n-1),u=f.nearestPowerOfTen(o),a=u,l=[];if(this.usePercentageRange){a=this.majorUnit&&!isNaN(this.majorUnit)?this.majorUnit:10;for(r=0;r<=100;r+=a)l.push(e+r/100*s)}else{this.majorUnit&&!isNaN(this.majorUnit)?a=this.majorUnit:(s/a>n&&(a*=2),s/a>n&&(a*=2.5),s/a>n&&(a*=2)),i=this.usePercentageRange?e:e>=0?0:e-e%a;for(r=i;r<=t;r+=a)r>=e&&l.push(parseFloat(r.toFixed(14)))}return l},getColorByIndex:function(e){return c.colorFromHex(this.colorPalette.getColor(null,e,this.ranges.length-1))},getChartObject:function(){return{series:[{data:[{y:this.value,onMouseOver:function(){}}]}]}},renderGauge:function(){this.updateDimensions()},translateValue:function(){},normalizedTranslateValue:function(){}}),p}),define("js_charting/visualizations/gauges/RadialGauge",["jquery","underscore","./Gauge","../../util/lang_utils","../../util/math_utils"],function(e,t,n,r,i){var s=function(e,t){n.call(this,e,t)};return r.inherit(s,n),e.extend(s.prototype,{showMinorTicksByDefault:!1,updateDimensions:function(){n.prototype.updateDimensions.call(this),this.width<this.height&&(this.$container.height(this.width),this.height=this.width)},processProperties:function(){n.prototype.processProperties.call(this),this.verticalPadding=10,this.minorsPerMajor=10,this.tickWidth=1,this.startAngle=this.computeStartAngle(),this.arcAngle=this.computeArcAngle()},computeStartAngle:function(){var e=parseInt(this.properties["chart.rangeStartAngle"],10);return t(e).isNaN()&&(e=45),i.degreeToRadian(e+90)},computeArcAngle:function(){var e=parseInt(this.properties["chart.rangeArcAngle"],10)||270;return i.degreeToRadian(e)},renderGauge:function(){n.prototype.renderGauge.call(this),this.borderWidth=i.roundWithMin(this.height/60,3),this.tickOffset=i.roundWithMin(this.height/100,3),this.tickLabelOffset=this.borderWidth,this.tickFontSize=i.roundWithMin(this.height/25,10),this.valueFontSize=i.roundWithMin(this.height/15,15),this.isShiny?(this.needleTailLength=i.roundWithMin(this.height/15,10),this.needleTailWidth=i.roundWithMin(this.height/50,6),this.knobWidth=i.roundWithMin(this.height/30,7)):this.needleWidth=i.roundWithMin(this.height/60,3),this.isShiny?(this.bandOffset=this.borderWidth,this.bandThickness=i.roundWithMin(this.height/40,4)):(this.bandOffset=0,this.bandThickness=i.roundWithMin(this.height/30,7)),this.tickColor=this.isShiny?"silver":this.foregroundColor,this.tickFontColor=this.isShiny?"silver":this.fontColor,this.valueColor=this.isShiny?"#b8b167":this.fontColor,this.tickLength=i.roundWithMin(this.height/20,4),this.minorTickLength=this.tickLength/2,this.radius=(this.height-2*(this.verticalPadding+this.borderWidth))/2,this.valueHeight=this.height-(this.radius/4+this.verticalPadding+this.borderWidth),this.needleLength=this.isShiny?this.radius:this.radius-this.bandThickness/2,this.tickStart=this.radius-this.bandOffset-this.bandThickness-this.tickOffset,this.tickEnd=this.tickStart-this.tickLength,this.tickLabelPosition=this.tickEnd-this.tickLabelOffset,this.minorTickEnd=this.tickStart-this.minorTickLength,this.isShiny&&(this.elements.border=this.renderer.circle(this.width/2,this.height/2,this.radius+this.borderWidth).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add(),this.elements.background=this.renderer.circle(this.width/2,this.height/2,this.radius).attr({fill:"#000000"}).add()),this.showRangeBand&&this.drawColorBand(),this.drawTicks(),this.drawIndicator(this.value),this.showValue&&this.drawValueDisplay(),this.checkOutOfRange(this.value)},updateValueDisplay:function(e){this.elements.valueDisplay.attr({text:e})},drawColorBand:function(){var e,t,n,r=this.radius-this.bandOffset,i=r-this.bandThickness;for(e=0;e<this.ranges.length-1;e++)t=this.translateValue(this.ranges[e]),n=this.translateValue(this.ranges[e+1]),this.elements["colorBand"+e]=this.renderer.arc(this.width/2,this.height/2,r,i,t,n).attr({fill:this.getColorByIndex(e)}).add()},drawMajorTick:function(e){return this.renderer.path(["M",this.width/2+this.tickStart*Math.cos(e),this.height/2+this.tickStart*Math.sin(e),"L",this.width/2+this.tickEnd*Math.cos(e),this.height/2+this.tickEnd*Math.sin(e)]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add()},drawMajorTickLabel:function(e,t){var n=Math.sin(e),r=this.predictTextWidth(t,this.tickFontSize),i=e<1.5*Math.PI?"left":"right",s=e<1.5*Math.PI?-r/2*n*n:r/2*n*n,o=this.tickFontSize/4*n;return this.renderer.text(t,this.width/2+this.tickLabelPosition*Math.cos(e)+s,this.height/2+(this.tickLabelPosition-4)*n+this.tickFontSize/4-o).attr({align:i}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px"}).add()},drawMinorTick:function(e){return this.renderer.path(["M",this.width/2+this.tickStart*Math.cos(e),this.height/2+this.tickStart*Math.sin(e),"L",this.width/2+this.minorTickEnd*Math.cos(e),this.height/2+this.minorTickEnd*Math.sin(e)]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add()},drawIndicator:function(e){var t,n,r,i,s,o,u=this.normalizedTranslateValue(e),a=Math.cos(u),f=Math.sin(u);this.isShiny?(t=["M",this.width/2-this.needleTailLength*a,this.height/2-this.needleTailLength*f,"L",this.width/2-this.needleTailLength*a+this.needleTailWidth*f,this.height/2-this.needleTailLength*f-this.needleTailWidth*a,this.width/2+this.needleLength*a,this.height/2+this.needleLength*f,this.width/2-this.needleTailLength*a-this.needleTailWidth*f,this.height/2-this.needleTailLength*f+this.needleTailWidth*a,this.width/2-this.needleTailLength*a,this.height/2-this.needleTailLength*f],i={linearGradient:[this.width/2-this.needleTailLength*a,this.height/2-this.needleTailLength*f,this.width/2-this.needleTailLength*a-this.needleTailWidth*f,this.height/2-this.needleTailLength*f+this.needleTailWidth*a],stops:[[0,"#999999"],[.2,"#cccccc"]]},s=["M",this.width/2-(this.needleTailLength-2)*a,this.height/2-(this.needleTailLength-2)*f,"L",this.width/2+(this.needleLength-this.bandOffset/2)*a,this.height/2+(this.needleLength-this.bandOffset/2)*f],o={linearGradient:[this.width/2+this.knobWidth*f,this.height/2-this.knobWidth*a,this.width/2-this.knobWidth*f,this.height/2+this.knobWidth*a],stops:[[0,"silver"],[.5,"black"],[1,"silver"]]}):(t=["M",this.width/2,this.height/2,"L",this.width/2+a*this.needleLength,this.height/2+f*this.needleLength],n=this.foregroundColor,r=this.needleWidth),this.isShiny&&(this.elements.centerKnob&&this.elements.centerKnob.destroy(),this.elements.centerKnob=this.renderer.circle(this.width/2,this.height/2,this.knobWidth).attr({fill:o}).add()),this.elements.needle&&this.elements.needle.destroy(),this.elements.needle=this.renderer.path(t).attr({fill:i||"",stroke:n||"","stroke-width":r||""}).add(),this.isShiny&&(this.elements.needleRidge&&this.elements.needleRidge.destroy(),this.elements.needleRidge=this.renderer.path(s).attr({stroke:"#cccccc","stroke-width":1}).add())},drawValueDisplay:function(){var e=this.formatValue(this.value);this.elements.valueDisplay=this.renderer.text(e,this.width/2,this.valueHeight).css({color:this.valueColor,fontSize:this.valueFontSize+"px",lineHeight:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"center"}).add()},getSVG:function(){return this.elements.centerKnob&&this.elements.centerKnob.attr({fill:"#999999"}),this.elements.needle.attr({fill:"#bbbbbb"}),this.elements.needleRidge&&this.elements.needleRidge.attr({stroke:"#999999"}),n.prototype.getSVG.call(this)},normalizedTranslateValue:function(e){return e<this.ranges[0]?this.translateValue(this.ranges[0]):e>this.ranges[this.ranges.length-1]?this.translateValue(this.ranges[this.ranges.length-1]):this.translateValue(e)},translateValue:function(e){var t=this.ranges[this.ranges.length-1]-this.ranges[0],n=e-this.ranges[0];return this.startAngle+n/t*this.arcAngle}}),s}),define("js_charting/visualizations/gauges/FillerGauge",["jquery","./Gauge","../../util/lang_utils","../../util/math_utils","../../util/color_utils"],function(e,t,n,r,i){var s=function(e,n){t.call(this,e,n),this.minorsPerMajor=5,this.minorTickWidth=1};return n.inherit(s,t),e.extend(s.prototype,{processProperties:function(){t.prototype.processProperties.call(this)},onAnimationFinished:function(){},renderGauge:function(){t.prototype.renderGauge.call(this),this.tickColor=this.foregroundColor,this.tickFontColor=this.fontColor,this.defaultValueColor=this.isShiny?"black":this.fontColor,this.drawBackground(),this.drawTicks(),this.drawIndicator(this.value)},updateValue:function(e,n){var i=r.getDecimalPrecision(e,3),s=r.getDecimalPrecision(n,3);this.valueAnimationPrecision=Math.max(i,s),t.prototype.updateValue.call(this,e,n)},getDisplayValue:function(e){var t=Math.pow(10,this.valueAnimationPrecision);return e!==this.value?Math.round(e*t)/t:e},updateValueDisplay:function(){},shouldAnimateTransition:function(){return!0},getFillColor:function(e){var t;for(t=0;t<this.ranges.length-2;t++)if(e<this.ranges[t+1])break;return this.getColorByIndex(t)},getValueColor:function(e){var t=i.hexFromColor(e),n=128,r="black",s="white",o=i.getLuminance(t);return o<n?s:r}}),s}),define("js_charting/visualizations/gauges/HorizontalFillerGauge",["jquery","./FillerGauge","../../util/lang_utils","../../util/math_utils"],function(e,t,n,r){var i=function(e,n){t.call(this,e,n),this.horizontalPadding=20,this.tickOffset=5,this.tickLength=15,this.tickWidth=1,this.tickLabelOffset=5,this.minorTickLength=Math.floor(this.tickLength/2)};return n.inherit(i,t),e.extend(i.prototype,{renderGauge:function(){this.tickFontSize=r.roundWithMinMax(this.width/50,10,20),this.backgroundCornerRad=r.roundWithMinMax(this.width/120,3,5),this.valueFontSize=r.roundWithMinMax(this.width/40,15,25),this.backgroundHeight=this.valueFontSize*3,this.valueBottomPadding=r.roundWithMinMax(this.width/100,5,10),t.prototype.renderGauge.call(this)},drawBackground:function(){var e=this.calculateTickValues(this.ranges[0],this.ranges[this.ranges.length-1],this.MAX_TICKS_PER_RANGE),t=e[e.length-1],n=this.predictTextWidth(this.formatValue(t),this.tickFontSize);this.horizontalPadding=Math.max(this.horizontalPadding,n),this.backgroundWidth=this.width-2*this.horizontalPadding,this.isShiny&&(this.elements.background=this.renderer.rect(this.horizontalPadding,(this.height-this.backgroundHeight)/2,this.backgroundWidth,this.backgroundHeight,this.backgroundCornerRad).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add()),this.tickStartY=(this.height+this.backgroundHeight)/2+this.tickOffset,this.tickEndY=this.tickStartY+this.tickLength,this.tickLabelStartY=this.tickEndY+this.tickLabelOffset},drawMajorTick:function(e){var t=this.horizontalPadding+e;return this.renderer.path(["M",t,this.tickStartY,"L",t,this.tickEndY]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add()},drawMajorTickLabel:function(e,t){var n=this.horizontalPadding+e;return this.renderer.text(t,n,this.tickLabelStartY+this.tickFontSize).attr({align:"center"}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px",lineHeight:this.tickFontSize+"px"}).add()},drawMinorTick:function(e){var t=this.horizontalPadding+e;return this.renderer.path(["M",t,this.tickStartY,"L",t,this.tickStartY+this.minorTickLength]).attr({stroke:this.tickColor,"stroke-width":this.minorTickWidth}).add()},drawIndicator:function(e){var t=this.getFillColor(e),n=this.normalizedTranslateValue(e),r,i;n>0?(n=Math.max(n,this.backgroundCornerRad),r=this.horizontalPadding+n,this.isShiny?i=["M",this.horizontalPadding+this.backgroundCornerRad,(this.height-this.backgroundHeight-2)/2,"C",this.horizontalPadding+this.backgroundCornerRad,(this.height-this.backgroundHeight-2)/2,this.horizontalPadding,(this.height-this.backgroundHeight-2)/2,this.horizontalPadding,(this.height-this.backgroundHeight-2)/2+this.backgroundCornerRad,"L",this.horizontalPadding,(this.height+this.backgroundHeight)/2-this.backgroundCornerRad,"C",this.horizontalPadding,(this.height+this.backgroundHeight)/2-this.backgroundCornerRad,this.horizontalPadding,(this.height+this.backgroundHeight)/2,this.horizontalPadding+this.backgroundCornerRad,(this.height+this.backgroundHeight)/2,"L",r,(this.height+this.backgroundHeight)/2,r,(this.height-this.backgroundHeight-2)/2,this.horizontalPadding+this.backgroundCornerRad,(this.height-this.backgroundHeight-2)/2]:i=["M",this.horizontalPadding,(this.height-this.backgroundHeight)/2,"L",r,(this.height-this.backgroundHeight)/2,r,(this.height+this.backgroundHeight)/2,this.horizontalPadding,(this.height+this.backgroundHeight)/2,this.horizontalPadding,(this.height-this.backgroundHeight)/2]):i=[],this.elements.fill&&this.elements.fill.destroy(),this.elements.fill=this.renderer.path(i).attr({fill:t}).add(),this.showValue&&this.drawValueDisplay(e,t,n)},drawValueDisplay:function(e,t,n){var r=this.getDisplayValue(e),i=this.horizontalPadding+n,s=this.getValueColor(t),o,u=this.formatValue(r),a=this.predictTextWidth(u,this.valueFontSize)+this.valueBottomPadding;n>=a?o=i-a:(o=i+this.valueBottomPadding,s=this.defaultValueColor),this.elements.valueDisplay?this.elements.valueDisplay.attr({text:u,x:o}).css({color:s,fontSize:this.valueFontSize+"px",fontWeight:"bold"}).toFront():this.elements.valueDisplay=this.renderer.text(u,o,this.height/2+this.valueFontSize/4).css({color:s,fontSize:this.valueFontSize+"px",lineHeight:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"left"}).add()},normalizedTranslateValue:function(e){return e<this.ranges[0]?0:e>this.ranges[this.ranges.length-1]?this.translateValue(this.ranges[this.ranges.length-1]):this.translateValue(e)},translateValue:function(e){var t=this.ranges[this.ranges.length-1]-this.ranges[0],n=e-this.ranges[0];return Math.round(n/t*this.backgroundWidth)}}),i}),define("js_charting/visualizations/gauges/VerticalFillerGauge",["jquery","./FillerGauge","../../util/lang_utils","../../util/math_utils"],function(e,t,n,r){var i=function(e,n){t.call(this,e,n),this.tickWidth=1};return n.inherit(i,t),e.extend(i.prototype,{renderGauge:function(){this.tickOffset=r.roundWithMin(this.height/100,3),this.tickLength=r.roundWithMin(this.height/20,4),this.tickLabelOffset=r.roundWithMin(this.height/60,3),this.tickFontSize=r.roundWithMin(this.height/20,10),this.minorTickLength=this.tickLength/2,this.backgroundCornerRad=r.roundWithMin(this.height/60,3),this.valueBottomPadding=r.roundWithMin(this.height/30,5),this.valueFontSize=r.roundWithMin(this.height/20,12),t.prototype.renderGauge.call(this)},drawBackground:function(){this.verticalPadding=10+this.tickFontSize/2,this.backgroundWidth=r.roundWithMin(this.height/4,50),this.backgroundHeight=this.height-2*this.verticalPadding;var e=this.determineMaxValueWidth(this.ranges,this.valueFontSize)+10;this.backgroundWidth=Math.max(this.backgroundWidth,e),this.isShiny&&(this.elements.background=this.renderer.rect((this.width-this.backgroundWidth)/2,this.verticalPadding,this.backgroundWidth,this.backgroundHeight,this.backgroundCornerRad).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add()),this.tickStartX=(this.width+this.backgroundWidth)/2+this.tickOffset,this.tickEndX=this.tickStartX+this.tickLength,this.tickLabelStartX=this.tickEndX+this.tickLabelOffset},determineMaxValueWidth:function(e,t){if(this.usePercentageValue)return this.predictTextWidth("100.00%",t);var n,r,i=0;for(n=0;n<e.length;n++){r=""+e[n];if(n===0||n===e.length-1)r+="0";i=Math.max(i,this.predictTextWidth(r,t))}return i},drawMajorTick:function(e){var t=this.verticalPadding+this.backgroundHeight-e;return this.renderer.path(["M",this.tickStartX,t,"L",this.tickEndX,t]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add()},drawMajorTickLabel:function(e,t){var n=this.verticalPadding+this.backgroundHeight-e;return this.renderer.text(t,this.tickLabelStartX,n+this.tickFontSize/4).attr({align:"left"}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px",lineHeight:this.tickFontSize+"px"}).add()},drawMinorTick:function(e){var t=this.verticalPadding+this.backgroundHeight-e;return this.renderer.path(["M",this.tickStartX,t,"L",this.tickStartX+this.minorTickLength,t]).attr({stroke:this.tickColor,"stroke-width":this.minorTickWidth}).add()},drawIndicator:function(e){var t=this.getFillColor(e),n=this.normalizedTranslateValue(e),r,i;n>0?(n=Math.max(n,this.backgroundCornerRad),r=this.verticalPadding+this.backgroundHeight-n,this.isShiny?i=["M",(this.width-this.backgroundWidth-2)/2,this.height-this.verticalPadding-this.backgroundCornerRad,"C",(this.width-this.backgroundWidth-2)/2,this.height-this.verticalPadding-this.backgroundCornerRad,(this.width-this.backgroundWidth-2)/2,this.height-this.verticalPadding,(this.width-this.backgroundWidth-2)/2+this.backgroundCornerRad,this.height-this.verticalPadding,"L",(this.width+this.backgroundWidth-2)/2-this.backgroundCornerRad,this.height-this.verticalPadding,"C",(this.width+this.backgroundWidth-2)/2-this.backgroundCornerRad,this.height-this.verticalPadding,(this.width+this.backgroundWidth-2)/2,this.height-this.verticalPadding,(this.width+this.backgroundWidth-2)/2,this.height-this.verticalPadding-this.backgroundCornerRad,"L",(this.width+this.backgroundWidth-2)/2,r,(this.width-this.backgroundWidth-2)/2,r,(this.width-this.backgroundWidth-2)/2,this.height-this.verticalPadding-this.backgroundCornerRad]:i=["M",(this.width-this.backgroundWidth)/2,this.height-this.verticalPadding,"L",(this.width+this.backgroundWidth)/2,this.height-this.verticalPadding,(this.width+this.backgroundWidth)/2,r,(this.width-this.backgroundWidth)/2,r,(this.width-this.backgroundWidth)/2,this.height-this.verticalPadding]):i=[],this.elements.fill&&this.elements.fill.destroy(),this.elements.fill=this.renderer.path(i).attr({fill:t}).add(),this.showValue&&this.drawValueDisplay(e,t)},drawValueDisplay:function(e,t){var n=this.getDisplayValue(e),r=this.normalizedTranslateValue(e),i=this.verticalPadding+this.backgroundHeight-r,s=this.valueFontSize+this.valueBottomPadding,o=this.getValueColor(t),u,a=this.formatValue(n);r>=s?u=i+s-this.valueBottomPadding:(u=i-this.valueBottomPadding,o=this.defaultValueColor),this.elements.valueDisplay?this.elements.valueDisplay.attr({text:a,y:u}).css({color:o,fontSize:this.valueFontSize+"px",fontWeight:"bold"}).toFront():this.elements.valueDisplay=this.renderer.text(a,this.width/2,u).css({color:o,fontSize:this.valueFontSize+"px",lineHeight:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"center"}).add()},normalizedTranslateValue:function(e){return e<this.ranges[0]?0:e>this.ranges[this.ranges.length-1]?this.translateValue(this.ranges[this.ranges.length-1])+5:this.translateValue(e)},translateValue:function(e){var t=this.ranges[this.ranges.length-1]-this.ranges[0],n=e-this.ranges[0];return Math.round(n/t*this.backgroundHeight)}}),i}),define("js_charting/visualizations/gauges/MarkerGauge",["jquery","./Gauge","../../util/lang_utils"],function(e,t,n){var r=function(e,n){t.call(this,e,n),this.bandCornerRad=0,this.tickLabelPaddingRight=10,this.minorsPerMajor=5,this.minorTickWidth=1,this.tickWidth=1};return n.inherit(r,t),e.extend(r.prototype,{showValueByDefault:!1,renderGauge:function(){t.prototype.renderGauge.call(this),this.tickColor=this.isShiny?"black":this.foregroundColor,this.tickFontColor=this.isShiny?"black":this.fontColor,this.valueOffset=this.isShiny?this.markerSideWidth+10:this.valueFontSize,this.drawBackground(),this.showRangeBand&&this.drawBand(),this.drawTicks(),this.drawIndicator(this.value),this.checkOutOfRange(this.value)},updateValueDisplay:function(){}}),r}),define("js_charting/visualizations/gauges/HorizontalMarkerGauge",["jquery","./MarkerGauge","../../util/lang_utils","../../util/math_utils"],function(e,t,n,r){var i=function(e,n){t.call(this,e,n),this.horizontalPadding=20,this.tickOffset=5,this.tickLength=15,this.tickWidth=1,this.tickLabelOffset=5,this.minorTickLength=Math.floor(this.tickLength/2),this.bandHeight=this.isShiny?15:35};return n.inherit(i,t),e.extend(i.prototype,{renderGauge:function(){this.markerWindowHeight=r.roundWithMinMax(this.width/30,30,80),this.markerSideWidth=this.markerWindowHeight/2,this.markerSideCornerRad=this.markerSideWidth/3,this.bandOffsetBottom=5+this.markerWindowHeight/2,this.bandOffsetTop=5+this.markerWindowHeight/2,this.tickFontSize=r.roundWithMinMax(this.width/50,10,20),this.backgroundCornerRad=r.roundWithMinMax(this.width/120,3,5),this.valueFontSize=r.roundWithMinMax(this.width/40,15,25),this.valueOffset=this.markerSideWidth+10,this.tickLabelPadding=this.tickFontSize/2,this.bandOffsetX=this.isShiny?this.tickLabelPadding:0,this.backgroundHeight=this.bandOffsetX+this.bandHeight+this.tickOffset+this.tickLength+this.tickLabelOffset+this.tickFontSize+this.tickLabelPadding,t.prototype.renderGauge.call(this)},drawBackground:function(e){e=this.calculateTickValues(this.ranges[0],this.ranges[this.ranges.length-1],this.MAX_TICKS_PER_RANGE);var t=e[e.length-1],n=this.predictTextWidth(this.formatValue(t),this.tickFontSize);this.bandOffsetBottom=Math.max(this.bandOffsetBottom,n),this.bandOffsetTop=Math.max(this.bandOffsetTop,n),this.backgroundWidth=this.width-2*this.horizontalPadding,this.bandWidth=this.backgroundWidth-(this.bandOffsetBottom+this.bandOffsetTop),this.isShiny&&(this.elements.background=this.renderer.rect(this.horizontalPadding,(this.height-this.backgroundHeight)/2,this.backgroundWidth,this.backgroundHeight,this.backgroundCornerRad).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add())},drawBand:function(){var e,t,n,r=this.horizontalPadding+this.bandOffsetBottom,i=(this.height-this.backgroundHeight)/2+this.bandOffsetX;for(e=0;e<this.ranges.length-1;e++)t=this.translateValue(this.ranges[e]),n=this.translateValue(this.ranges[e+1]),this.elements["colorBand"+e]=this.renderer.rect(r+t,i,n-t,this.bandHeight,this.bandCornerRad).attr({fill:this.getColorByIndex(e)}).add();this.tickStartY=(this.height-this.backgroundHeight)/2+(this.bandOffsetX+this.bandHeight)+this.tickOffset,this.tickEndY=this.tickStartY+this.tickLength,this.tickLabelStartY=this.tickEndY+this.tickLabelOffset},drawMajorTick:function(e){var t=this.horizontalPadding+this.bandOffsetBottom+e;return this.renderer.path(["M",t,this.tickStartY,"L",t,this.tickEndY]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add()},drawMajorTickLabel:function(e,t){var n=this.horizontalPadding+this.bandOffsetBottom+e;return this.renderer.text(t,n,this.tickLabelStartY+this.tickFontSize).attr({align:"center"}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px",lineHeight:this.tickFontSize+"px"}).add()},drawMinorTick:function(e){var t=this.horizontalPadding+this.bandOffsetBottom+e;return this.renderer.path(["M",t,this.tickStartY,"L",t,this.tickStartY+this.minorTickLength]).attr({stroke:this.tickColor,"stroke-width":this.minorTickWidth}).add()},drawIndicator:function(e){var t=this.normalizedTranslateValue(e),n=this.isShiny?(this.height-this.backgroundHeight)/2:(this.height-this.backgroundHeight)/2-10,r=this.isShiny?n+this.backgroundHeight:n+this.bandHeight+20,i=this.horizontalPadding+this.bandOffsetBottom+t,s=3,o=this.foregroundColor,u=["M",i,n,"L",i,r];if(this.isShiny){var a=["M",i-this.markerWindowHeight/2,n,"L",i-this.markerWindowHeight/2,n-(this.markerSideWidth-this.markerSideCornerRad),"C",i-this.markerWindowHeight/2,n-(this.markerSideWidth-this.markerSideCornerRad),i-this.markerWindowHeight/2,n-this.markerSideWidth,i-this.markerWindowHeight/2+this.markerSideCornerRad,n-this.markerSideWidth,"L",i+this.markerWindowHeight/2-this.markerSideCornerRad,n-this.markerSideWidth,"C",i+this.markerWindowHeight/2-this.markerSideCornerRad,n-this.markerSideWidth,i+this.markerWindowHeight/2,n-this.markerSideWidth,i+this.markerWindowHeight/2,n-(this.markerSideWidth-this.markerSideCornerRad),"L",i+this.markerWindowHeight/2,n,i-this.markerWindowHeight,n],f=["M",i-this.markerWindowHeight/2,r,"L",i-this.markerWindowHeight/2,r+(this.markerSideWidth-this.markerSideCornerRad),"C",i-this.markerWindowHeight/2,r+(this.markerSideWidth-this.markerSideCornerRad),i-this.markerWindowHeight/2,r+this.markerSideWidth,i-this.markerWindowHeight/2+this.markerSideCornerRad,r+this.markerSideWidth,"L",i+this.markerWindowHeight/2-this.markerSideCornerRad,r+this.markerSideWidth,"C",i+this.markerWindowHeight/2-this.markerSideCornerRad,r+this.markerSideWidth,i+this.markerWindowHeight/2,r+this.markerSideWidth,i+this.markerWindowHeight/2,r+(this.markerSideWidth-this.markerSideCornerRad),"L",i+this.markerWindowHeight/2,r,i-this.markerWindowHeight,r],l=["M",i-this.markerWindowHeight/2,n,"L",i-this.markerWindowHeight/2,r,i+this.markerWindowHeight/2,r,i+this.markerWindowHeight/2,n,i-this.markerWindowHeight/2,n],c=["M",i-1,n,"L",i-1,r];o="red",s=1,this.elements.markerLHS&&this.elements.markerLHS.destroy(),this.elements.markerLHS=this.renderer.path(a).attr({fill:"#cccccc"}).add(),this.elements.markerRHS&&this.elements.markerRHS.destroy(),this.elements.markerRHS=this.renderer.path(f).attr({fill:"#cccccc"}).add(),this.elements.markerWindow&&this.elements.markerWindow.destroy(),this.elements.markerWindow=this.renderer.rect(i-this.markerWindowHeight/2,n,this.markerWindowHeight,this.backgroundHeight,0).attr({fill:"rgba(255, 255, 255, 0.3)"}).add(),this.elements.markerBorder&&this.elements.markerBorder.destroy(),this.elements.markerBorder=this.renderer.path(l).attr({stroke:"white","stroke-width":2}).add(),this.elements.markerUnderline&&this.elements.markerUnderline.destroy(),this.elements.markerUnderline=this.renderer.path(c).attr({stroke:"white","stroke-width":2}).add()}this.elements.markerLine&&this.elements.markerLine.destroy(),this.elements.markerLine=this.renderer.path(u).attr({stroke:o,"stroke-width":s}).add(),this.showValue&&this.drawValueDisplay(e)},drawValueDisplay:function(e){var t=this.formatValue(e),n=this.normalizedTranslateValue(e),r=this.horizontalPadding+this.bandOffsetBottom+n;this.elements.valueDisplay?this.elements.valueDisplay.attr({text:t,x:r}):this.elements.valueDisplay=this.renderer.text(t,r,(this.height-this.backgroundHeight)/2-this.valueOffset).css({color:"black",fontSize:this.valueFontSize+"px",lineHeight:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"center"}).add()},normalizedTranslateValue:function(e){return e<this.ranges[0]?0:e>this.ranges[this.ranges.length-1]?this.translateValue(this.ranges[this.ranges.length-1]):this.translateValue(e)},translateValue:function(e){var t=this.ranges[this.ranges.length-1]-this.ranges[0],n=e-this.ranges[0];return Math.round(n/t*this.bandWidth)}}),i}),define("js_charting/visualizations/gauges/VerticalMarkerGauge",["jquery","./MarkerGauge","../../util/lang_utils","../../util/math_utils"],function(e,t,n,r){var i=function(e,n){t.call(this,e,n),this.verticalPadding=10};return n.inherit(i,t),e.extend(i.prototype,{renderGauge:function(){this.markerWindowHeight=r.roundWithMin(this.height/7,20),this.markerSideWidth=this.markerWindowHeight/2,this.markerSideCornerRad=this.markerSideWidth/3,this.bandOffsetBottom=5+this.markerWindowHeight/2,this.bandOffsetTop=5+this.markerWindowHeight/2,this.tickOffset=r.roundWithMin(this.height/100,3),this.tickLength=r.roundWithMin(this.height/20,4),this.tickLabelOffset=r.roundWithMin(this.height/60,3),this.tickFontSize=r.roundWithMin(this.height/20,10),this.minorTickLength=this.tickLength/2,this.backgroundCornerRad=r.roundWithMin(this.height/60,3),this.valueFontSize=r.roundWithMin(this.height/15,15),this.bandOffsetX=this.isShiny?r.roundWithMin(this.height/60,3):0,t.prototype.renderGauge.call(this)},drawBackground:function(){this.backgroundWidth=r.roundWithMin(this.height/4,50);var e=this.calculateTickValues(this.ranges[0],this.ranges[this.ranges.length-1],this.MAX_TICKS_PER_RANGE);this.backgroundHeight=this.height-2*this.verticalPadding,this.bandHeight=this.backgroundHeight-(this.bandOffsetBottom+this.bandOffsetTop),this.bandWidth=this.isShiny?10:30;var t,n,i=e[e.length-1];t=this.predictTextWidth(this.formatValue(i),this.tickFontSize),n=this.bandOffsetX+this.bandWidth+this.tickOffset+this.tickLength+this.tickLabelOffset+t+this.tickLabelPaddingRight,this.backgroundWidth=Math.max(this.backgroundWidth,n),this.isShiny&&(this.elements.background=this.renderer.rect((this.width-this.backgroundWidth)/2,this.verticalPadding,this.backgroundWidth,this.backgroundHeight,this.backgroundCornerRad).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add()),this.tickStartX=(this.width-this.backgroundWidth)/2+(this.bandOffsetX+this.bandWidth)+this.tickOffset,this.tickEndX=this.tickStartX+this.tickLength,this.tickLabelStartX=this.tickEndX+this.tickLabelOffset},drawBand:function(){var e,t,n,r=(this.width-this.backgroundWidth)/2+this.bandOffsetX,i=this.height-this.verticalPadding-this.bandOffsetBottom;for(e=0;e<this.ranges.length-1;e++)t=this.translateValue(this.ranges[e]),n=this.translateValue(this.ranges[e+1]),this.elements["colorBand"+e]=this.renderer.rect(r,i-n,this.bandWidth,n-t,this.bandCornerRad).attr({fill:this.getColorByIndex(e)}).add()},drawMajorTick:function(e){var t=this.verticalPadding+this.backgroundHeight-(this.bandOffsetBottom+e);return this.renderer.path(["M",this.tickStartX,t,"L",this.tickEndX,t]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add()},drawMajorTickLabel:function(e,t){var n=this.verticalPadding+this.backgroundHeight-(this.bandOffsetBottom+e);return this.renderer.text(t,this.tickLabelStartX,n+this.tickFontSize/4).attr({align:"left"}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px",lineHeight:this.tickFontSize+"px"}).add()},drawMinorTick:function(e){var t=this.verticalPadding+this.backgroundHeight-(this.bandOffsetBottom+e);return this.renderer.path(["M",this.tickStartX,t,"L",this.tickStartX+this.minorTickLength,t]).attr({stroke:this.tickColor,"stroke-width":this.minorTickWidth}).add()},drawIndicator:function(e){var t,n,r,i,s=this.normalizedTranslateValue(e),o=this.verticalPadding+this.backgroundHeight-(this.bandOffsetBottom+s),u=this.isShiny?(this.width-this.backgroundWidth)/2:(this.width-this.backgroundWidth)/2-10,a=this.isShiny?u+this.backgroundWidth:u+this.bandWidth+20,f=this.foregroundColor,l=3,c=["M",u,o,"L",a,o];this.isShiny&&(t=["M",u,o-this.markerWindowHeight/2,"L",u-(this.markerSideWidth-this.markerSideCornerRad),o-this.markerWindowHeight/2,"C",u-(this.markerSideWidth-this.markerSideCornerRad),o-this.markerWindowHeight/2,u-this.markerSideWidth,o-this.markerWindowHeight/2,u-this.markerSideWidth,o-this.markerWindowHeight/2+this.markerSideCornerRad,"L",u-this.markerSideWidth,o+this.markerWindowHeight/2-this.markerSideCornerRad,"C",u-this.markerSideWidth,o+this.markerWindowHeight/2-this.markerSideCornerRad,u-this.markerSideWidth,o+this.markerWindowHeight/2,u-(this.markerSideWidth-this.markerSideCornerRad),o+this.markerWindowHeight/2,"L",u,o+this.markerWindowHeight/2,u,o-this.markerWindowHeight/2],n=["M",a,o-this.markerWindowHeight/2,"L",a+(this.markerSideWidth-this.markerSideCornerRad),o-this.markerWindowHeight/2,"C",a+(this.markerSideWidth-this.markerSideCornerRad),o-this.markerWindowHeight/2,a+this.markerSideWidth,o-this.markerWindowHeight/2,a+this.markerSideWidth,o-this.markerWindowHeight/2+this.markerSideCornerRad,"L",a+this.markerSideWidth,o+this.markerWindowHeight/2-this.markerSideCornerRad,"C",a+this.markerSideWidth,o+this.markerWindowHeight/2-this.markerSideCornerRad,a+this.markerSideWidth,o+this.markerWindowHeight/2,a+(this.markerSideWidth-this.markerSideCornerRad),o+this.markerWindowHeight/2,"L",a,o+this.markerWindowHeight/2,a,o-this.markerWindowHeight/2],r=["M",u,o-this.markerWindowHeight/2,"L",a,o-this.markerWindowHeight/2,a,o+this.markerWindowHeight/2,u,o+this.markerWindowHeight/2,u,o-this.markerWindowHeight/2],i=["M",u,o+1,"L",a,o+1],f="red",l=1),this.isShiny&&(this.elements.markerLHS&&this.elements.markerLHS.destroy(),this.elements.markerLHS=this.renderer.path(t).attr({fill:"#cccccc"}).add(),this.elements.markerRHS&&this.elements.markerRHS.destroy(),this.elements.markerRHS=this.renderer.path(n).attr({fill:"#cccccc"}).add(),this.elements.markerWindow&&this.elements.markerWindow.destroy(),this.elements.markerWindow=this.renderer.rect(u,o-this.markerWindowHeight/2,this.backgroundWidth,this.markerWindowHeight,0).attr({fill:"rgba(255, 255, 255, 0.3)"}).add(),this.elements.markerBorder&&this.elements.markerBorder.destroy(),this.elements.markerBorder=this.renderer.path(r).attr({stroke:"white","stroke-width":2}).add(),this.elements.markerUnderline&&this.elements.markerUnderline.destroy(),this.elements.markerUnderline=this.renderer.path(i).attr({stroke:"white","stroke-width":2}).add()),this.elements.markerLine&&this.elements.markerLine.destroy(),this.elements.markerLine=this.renderer.path(c).attr({stroke:f,"stroke-width":l}).add(),this.showValue&&this.drawValueDisplay(e)},drawValueDisplay:function(e){var t=this.formatValue(e),n=this.normalizedTranslateValue(e),r=this.verticalPadding+this.backgroundHeight-this.bandOffsetBottom-n;this.elements.valueDisplay?this.elements.valueDisplay.attr({text:t,y:r+this.valueFontSize/4}):this.elements.valueDisplay=this.renderer.text(t,(this.width-this.backgroundWidth)/2-this.valueOffset,r+this.valueFontSize/4).css({color:"black",fontSize:this.valueFontSize+"px",lineHeight:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"right"}).add()},normalizedTranslateValue:function(e){return e<this.ranges[0]?0:e>this.ranges[this.ranges.length-1]?this.translateValue(this.ranges[this.ranges.length-1]):this.translateValue(e)},translateValue:function(e){var t=this.ranges[this.ranges.length-1]-this.ranges[0],n=e-this.ranges[0];return Math.round(n/t*this.bandHeight)}}),i}),define("js_charting/js_charting",["jquery","underscore","highcharts","helpers/user_agent","./helpers/DataSet","./visualizations/charts/Chart","./visualizations/charts/SplitSeriesChart","./visualizations/charts/PieChart","./visualizations/charts/ScatterChart","./visualizations/gauges/RadialGauge","./visualizations/gauges/HorizontalFillerGauge","./visualizations/gauges/VerticalFillerGauge","./visualizations/gauges/HorizontalMarkerGauge","./visualizations/gauges/VerticalMarkerGauge","./util/parsing_utils"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d){if(r.isFirefox()){var v=window.history;t(["pushState","replaceState"]).each(function(t){var r=v[t];v[t]=function(){r.apply(v,arguments),e(n).trigger("baseUriChange")}})}var m=function(e){if(!e||!e.fields||!e.columns)throw new Error("The data object passed to extractChartReadyData did not contain fields and columns");if(e.fields.length!==e.columns.length)throw new Error("The data object passed to extractChartReadyData must have the same number of fields and columns");return new i(e)},g=function(n,r){n instanceof e&&(n=n[0]);if(!t(n).isElement())throw new Error("Invalid first argument to createChart, container must be a valid DOM element or a jQuery object");r=r||{};var i=r.chart;return i==="pie"?new u(n,r):i==="scatter"?new a(n,r):i==="radialGauge"?new f(n,r):i==="fillerGauge"?r["chart.orientation"]==="x"?new l(n,r):new c(n,r):i==="markerGauge"?r["chart.orientation"]==="x"?new h(n,r):new p(n,r):d.normalizeBoolean(r["layout.splitSeries"])?new o(n,r):new s(n,r)};return{extractChartReadyData:m,createChart:g}});
