define("contrib/text!views/shared/footer/AboutDialog.html",[],function(){return"<dl class=\"list-dotted\">\n    <dt><%= _('Splunk Version').t() %></dt>\n    <dd><%- version %></dd>\n    <dt><%= _('Splunk Build').t() %></dt>\n    <dd><%- build %></dd>\n</dl>\n<dl class=\"list-dotted\">\n    <dt><%= _('Current App').t() %></dt>\n    <dd><%- currentApp %></dd>\n    <% if (appVersion) { %>\n        <dt><%= _('App Version').t() %></dt>\n        <dd><%- appVersion %></dd>\n    <% } %>\n    <% if (appBuild) { %>\n        <dt><%= _('App Build').t() %></dt>\n        <dd><%- appBuild %></dd>\n    <% } %>\n</dl>\n<% if (listOfProducts) { %>\n<dl class=\"list-dotted\">\n    <dt><%= _('List of Products: ').t() %></dt>\n    <dd><%- listOfProducts %></dd>\n</dl>\n<% } %>\n<dl class=\"list-dotted\">\n    <dt><%= _('Server Name').t() %></dt>\n    <dd><%- serverName %></dd>\n</dl>\n"}),define("views/shared/footer/AboutDialog",["underscore","module","views/Base","views/shared/Modal","contrib/text!views/shared/footer/AboutDialog.html"],function(e,t,n,r,i){return r.extend({moduleId:t.id,template:i,initialize:function(){r.prototype.initialize.apply(this,arguments);var t=this,n=t.model.applicationModel.get("app"),i;this.logoFlavors={hunk:"&#xF000;",enterprise:"&#xF001;",cloud:"&#xF002;"},n==="launcher"?t.currentAppLabel=e("Home").t():(i=t.collection.find(function(e){return e.entry.get("name")===n}),t.currentAppLabel=i?i.entry.content.get("label"):e("N/A").t()),this.model.serverInfo.on("change reset",function(){this.render()},this)},getListOfProducts:function(){var t=this.model.serverInfo.entry.content.get("addOns"),n;return t&&!$.isEmptyObject(t)&&(n=e(t).keys().join(", ")),n},getLogoFlavorIcon:function(){var e=this.model.serverInfo.getBranding(),t="";return this.logoFlavors.hasOwnProperty(e)&&(t=this.logoFlavors[e]),t},render:function(){this.$el.html(r.TEMPLATE),this.$(r.HEADER_TITLE_SELECTOR).html('splunk<span class="prompt">&gt;&#x00AE;'+this.getLogoFlavorIcon()+"</span>");var t=this.compiledTemplate({serverName:this.model.serverInfo.entry.content.get("serverName")||e("N/A").t(),version:this.model.serverInfo.entry.content.get("version")||e("N/A").t(),build:this.model.serverInfo.entry.content.get("build")||e("N/A").t(),appVersion:this.model.appLocal.entry.content.get("version")||null,appBuild:this.model.appLocal.entry.content.get("build")||null,listOfProducts:this.getListOfProducts(),currentApp:this.currentAppLabel});return this.$(r.BODY_SELECTOR).html(t),this}})}),define("contrib/text!views/shared/footer/Master.html",[],function(){return'<ul class="nav nav-footer">\n    <li><a href="#" id="about"><%= _(\'About\').t() %></a></li>\n\n    <li><a href="http://www.splunk.com/r/support" target="_blank"><%= _(\'Support\').t() %></a></li>\n    <li><a href="http://www.splunk.com/r/bugs" target="_blank"><%= _(\'File a Bug\').t() %></a></li>\n    <li><a href="<%- makeDocLink(currentPageDocLocation) %>" target="_blank"><%- _("Documentation").t() %></a></li>\n    <li><a href="http://www.splunk.com/r/privacy" target="_blank"><%= _(\'Privacy Policy\').t() %></a></li>\n</ul>\n<p class="copyright">&copy; 2005-<%=new Date().getFullYear()%> <%= _(\'Splunk Inc. All rights reserved.\').t() %></p>\n'}),define("views/shared/footer/Master",["jquery","module","views/Base","./AboutDialog","models/services/server/ServerInfo","models/shared/Application","models/services/AppLocal","collections/services/AppLocals","contrib/text!views/shared/footer/Master.html","uri/route","util/splunkd_utils"],function(e,t,n,r,i,s,o,u,a,f,l){var c=n.extend({moduleId:t.id,className:"splunkified",template:a,initialize:function(){n.prototype.initialize.apply(this,arguments);var t=e.Deferred(),r=e.Deferred();this.options.model.application.get("app")?t.resolve():this.options.model.application.on("change reset",t.resolve),this.options.model.appLocal.entry.content.get("version")?r.resolve():this.options.model.appLocal.on("change reset",r.resolve),e.when(t,r).done(this.render.bind(this))},events:{"click a[id=about]":function(t){this.children.aboutDialog=new r({collection:this.options.collection.apps,model:{applicationModel:this.options.model.application,appLocal:this.options.model.appLocal,serverInfo:this.options.model.serverInfo},onHiddenRemove:!0}),this.modalWrapper=e('<div class="splunk-components">').appendTo("body").append(this.children.aboutDialog.render().el),this.children.aboutDialog.once("hidden",function(){this.modalWrapper.remove(),e(t.currentTarget).focus()},this),this.children.aboutDialog.show(),t.preventDefault()}},makeDocLink:function(e){return f.docHelpInAppContext(this.model.application.get("root"),this.model.application.get("locale"),e,this.model.application.get("app"),this.model.appLocal.entry.content.get("version"),this.model.appLocal.appAllowsDisable(),this.model.appLocal.entry.content.get("docs_section_override"))},render:function(){var e=["app",this.model.application.get("app"),this.model.application.get("page")].join("."),t=this.compiledTemplate({makeDocLink:this.makeDocLink.bind(this),currentPageDocLocation:e});return this.$el.html(t),this}},{create:function(t){t=t||{},t.model=t.model||{},t.collection=t.collection||{},t.model.serverInfo||(t.model.serverInfo=new i,t.model.serverInfo.fetch());var n=e.Deferred();return t.model.application||(t.model.application=new s),t.model.application.get("app")?n.resolve():t.model.application.on("change",n.resolve),t.model.appLocal||(t.model.appLocal=new o,n.done(function(){t.model.application.get("app")!=="system"&&t.model.appLocal.fetch({url:l.fullpath(t.model.appLocal.url+"/"+encodeURIComponent(t.model.application.get("app"))),data:{app:t.model.application.get("app"),owner:t.model.application.get("owner")}})})),t.collection.apps||(t.collection.apps=new u,t.collection.apps.fetch({data:{sort_key:"name",sort_dir:"desc",app:"-",owner:t.model.application.get("owner"),search:"visible=true AND disabled=0 AND name!=launcher",count:-1}})),new c(t)}});return c}),define("splunkjs/mvc/footerview",["require","exports","module","jquery","underscore","./mvc","./basesplunkview","views/shared/footer/Master","./sharedmodels"],function(e,t,n){var r=e("jquery"),i=e("underscore"),s=e("./mvc"),o=e("./basesplunkview"),u=e("views/shared/footer/Master"),a=e("./sharedmodels"),f=o.extend({moduleId:n.id,className:"splunk-footer",initialize:function(){var e=a.get("app"),t=a.get("appLocal"),n=a.get("serverInfo"),s=a.get("appLocals");this.dfd=r.when.apply(r,[e.dfd,t.dfd,n.dfd,s.dfd]),this.dfd.done(i.bind(function(){this.footer=u.create({model:{application:e,appLocal:t,serverInfo:n},collection:{apps:s}})},this))},render:function(){return this.dfd.done(i.bind(function(){this.$el.append(this.footer.render().el)},this)),this}});return f});
